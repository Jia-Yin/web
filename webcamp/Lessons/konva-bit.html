<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Combined Web and Bit Design | Web Programming Camp</title>
    <meta name="description" content="Welcome, our friends!">
    <link rel="icon" href="/webcamp/favicon.ico">
    
    <link rel="preload" href="/webcamp/assets/css/0.styles.3637eb11.css" as="style"><link rel="preload" href="/webcamp/assets/js/app.0da583de.js" as="script"><link rel="preload" href="/webcamp/assets/js/2.e06c2ba1.js" as="script"><link rel="preload" href="/webcamp/assets/js/43.97d1dbae.js" as="script"><link rel="prefetch" href="/webcamp/assets/js/10.5a9e5897.js"><link rel="prefetch" href="/webcamp/assets/js/11.efbde093.js"><link rel="prefetch" href="/webcamp/assets/js/12.3f2a2e21.js"><link rel="prefetch" href="/webcamp/assets/js/13.e88fd15a.js"><link rel="prefetch" href="/webcamp/assets/js/14.c415b25e.js"><link rel="prefetch" href="/webcamp/assets/js/15.8f98aa0e.js"><link rel="prefetch" href="/webcamp/assets/js/16.7ab1661f.js"><link rel="prefetch" href="/webcamp/assets/js/17.d0eb724d.js"><link rel="prefetch" href="/webcamp/assets/js/18.5f636795.js"><link rel="prefetch" href="/webcamp/assets/js/19.622175ea.js"><link rel="prefetch" href="/webcamp/assets/js/20.0a631853.js"><link rel="prefetch" href="/webcamp/assets/js/21.9cfb1931.js"><link rel="prefetch" href="/webcamp/assets/js/22.1ce5dc8f.js"><link rel="prefetch" href="/webcamp/assets/js/23.b80ba0ae.js"><link rel="prefetch" href="/webcamp/assets/js/24.f9c9f925.js"><link rel="prefetch" href="/webcamp/assets/js/25.0426a874.js"><link rel="prefetch" href="/webcamp/assets/js/26.8ebe59f9.js"><link rel="prefetch" href="/webcamp/assets/js/27.308a76ba.js"><link rel="prefetch" href="/webcamp/assets/js/28.681f7297.js"><link rel="prefetch" href="/webcamp/assets/js/29.1d884e8a.js"><link rel="prefetch" href="/webcamp/assets/js/3.866e366e.js"><link rel="prefetch" href="/webcamp/assets/js/30.e30f32d8.js"><link rel="prefetch" href="/webcamp/assets/js/31.436bded7.js"><link rel="prefetch" href="/webcamp/assets/js/32.fb6097d7.js"><link rel="prefetch" href="/webcamp/assets/js/33.dd9bf79b.js"><link rel="prefetch" href="/webcamp/assets/js/34.70fa5eb1.js"><link rel="prefetch" href="/webcamp/assets/js/35.3dcbadef.js"><link rel="prefetch" href="/webcamp/assets/js/36.d56184c8.js"><link rel="prefetch" href="/webcamp/assets/js/37.edafce2f.js"><link rel="prefetch" href="/webcamp/assets/js/38.4f0447c9.js"><link rel="prefetch" href="/webcamp/assets/js/39.0519c840.js"><link rel="prefetch" href="/webcamp/assets/js/4.78cbc102.js"><link rel="prefetch" href="/webcamp/assets/js/40.9479ad4d.js"><link rel="prefetch" href="/webcamp/assets/js/41.9f1b3b08.js"><link rel="prefetch" href="/webcamp/assets/js/42.0f7304aa.js"><link rel="prefetch" href="/webcamp/assets/js/44.3a1f21f5.js"><link rel="prefetch" href="/webcamp/assets/js/45.d1571d5d.js"><link rel="prefetch" href="/webcamp/assets/js/46.06306d09.js"><link rel="prefetch" href="/webcamp/assets/js/47.4d25ffc9.js"><link rel="prefetch" href="/webcamp/assets/js/48.a0d46521.js"><link rel="prefetch" href="/webcamp/assets/js/49.b6906638.js"><link rel="prefetch" href="/webcamp/assets/js/5.ebff63d6.js"><link rel="prefetch" href="/webcamp/assets/js/50.66b00faf.js"><link rel="prefetch" href="/webcamp/assets/js/51.fd2b07e9.js"><link rel="prefetch" href="/webcamp/assets/js/52.df7bcc07.js"><link rel="prefetch" href="/webcamp/assets/js/6.a58e3b7f.js"><link rel="prefetch" href="/webcamp/assets/js/7.53f354ef.js"><link rel="prefetch" href="/webcamp/assets/js/8.c4c8d370.js"><link rel="prefetch" href="/webcamp/assets/js/9.702bdf5a.js">
    <link rel="stylesheet" href="/webcamp/assets/css/0.styles.3637eb11.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/webcamp/" class="home-link router-link-active"><!----> <span class="site-name">Web Programming Camp</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/webcamp/" class="nav-link">Home</a></div><div class="nav-item"><a href="/webcamp/Lessons/" class="nav-link router-link-active">Go</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webcamp/Lessons/konva-bit.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/webcamp/zh-TW/Lessons/konva-bit.html" class="nav-link">中文</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/webcamp/" class="nav-link">Home</a></div><div class="nav-item"><a href="/webcamp/Lessons/" class="nav-link router-link-active">Go</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webcamp/Lessons/konva-bit.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/webcamp/zh-TW/Lessons/konva-bit.html" class="nav-link">中文</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/webcamp/Lessons/apply-jsbin.html" class="sidebar-link">Apply for a jsbin account</a></li><li><a href="/webcamp/Lessons/hello-html.html" class="sidebar-link">Hello World of HTML</a></li><li><a href="/webcamp/Lessons/hello-css.html" class="sidebar-link">CSS stylesheet</a></li><li><a href="/webcamp/Lessons/more-html.html" class="sidebar-link">More HTML</a></li><li><a href="/webcamp/Lessons/more-css.html" class="sidebar-link">More CSS</a></li><li><a href="/webcamp/Lessons/simple-design.html" class="sidebar-link">A Simple Page Design</a></li><li><a href="/webcamp/Lessons/basic-layout.html" class="sidebar-link">Basic Layout</a></li><li><a href="/webcamp/Lessons/extended-study.html" class="sidebar-link">Extended Study</a></li><li><a href="/webcamp/Lessons/some-examples.html" class="sidebar-link">Several Examples</a></li><li><a href="/webcamp/Lessons/js-basic.html" class="sidebar-link">JavaScript</a></li><li><a href="/webcamp/Lessons/konva.html" class="sidebar-link">Konva</a></li><li><a href="/webcamp/Lessons/basic-shapes.html" class="sidebar-link">Basic Shapes</a></li><li><a href="/webcamp/Lessons/animation.html" class="sidebar-link">Animation</a></li><li><a href="/webcamp/Lessons/webduino.html" class="sidebar-link">Webduino</a></li><li><a href="/webcamp/Lessons/bit-coding.html" class="sidebar-link">Bit Coding</a></li><li><a href="/webcamp/Lessons/konva-bit.html" class="active sidebar-link">Combined Web and Bit Design</a></li><li><a href="/webcamp/Lessons/level.html" class="sidebar-link">Bit Level</a></li><li><a href="/webcamp/Lessons/game-design.html" class="sidebar-link">Game Design</a></li><li><a href="/webcamp/Lessons/thanks.html" class="sidebar-link">Thank You</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="combined-web-and-bit-design"><a href="#combined-web-and-bit-design" aria-hidden="true" class="header-anchor">#</a> Combined Web and Bit Design</h1> <p>Let's create a very simple application like follows by using Konva.</p> <p align="center"><img src="data:image/png;base64,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"></p> <p>The button <code>To Left</code> and <code>To Right</code> control the ball to move left and right. The button <code>stop</code> will stop the moving.</p> <p>Later we will use Webduino Bit board to control the moving.</p> <h2 id="konva-program"><a href="#konva-program" aria-hidden="true" class="header-anchor">#</a> Konva program</h2> <p>Here we only show the key parts of the coding. And at last we will show the complete code in jsFiddle.</p> <h3 id="html-part"><a href="#html-part" aria-hidden="true" class="header-anchor">#</a> HTML part</h3> <ul><li>We need to set a container for Konva.</li> <li>Add 3 buttons and assign the click event of each button to a specific function (defined in JS code).</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>toLeft()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>← To Left<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stopBall()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>stop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>toRight()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>To Right → <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="css-part"><a href="#css-part" aria-hidden="true" class="header-anchor">#</a> CSS part</h3> <ul><li>Set width and height for the container and add a border.</li> <li>For the container, set margins to put the container in center.</li> <li>The buttons are inline elements. Set body's text-align to center to put these buttons in center.</li></ul> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">#container</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> solid blue 1px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">body</span> <span class="token punctuation">{</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="js-part"><a href="#js-part" aria-hidden="true" class="header-anchor">#</a> JS part</h3> <p>Create the stage, layer, and ball.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> width <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> height <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> stage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Konva<span class="token punctuation">.</span>Stage</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
  container<span class="token punctuation">:</span> <span class="token string">'container'</span><span class="token punctuation">,</span>
  width<span class="token punctuation">:</span> width<span class="token punctuation">,</span>
  height<span class="token punctuation">:</span> height
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Konva<span class="token punctuation">.</span>Layer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ball <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Konva<span class="token punctuation">.</span>Circle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  x<span class="token punctuation">:</span> width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>
  y<span class="token punctuation">:</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>
  radius<span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">,</span>
  fill<span class="token punctuation">:</span><span class="token string">'blue'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
layer<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ball<span class="token punctuation">)</span><span class="token punctuation">;</span>
stage<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>Create the animation. Here we use <strong>dir</strong> variable to control the moving direction of the ball. It is 1 for right move, -1 for left move, and 0 for stop.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> dir <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> speed <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span> <span class="token comment">// pixels per second</span>

<span class="token keyword">var</span> aniBall <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Konva<span class="token punctuation">.</span>Animation</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">frame</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>dir <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// not stop mode</span>
    ball<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span> dir<span class="token operator">*</span>speed<span class="token operator">*</span>frame<span class="token punctuation">.</span>timeDiff<span class="token operator">/</span><span class="token number">1000</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// change x</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>ball<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> width<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// when the ball reach the right end</span>
      aniBall<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// stop animation</span>
      dir <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>       <span class="token comment">// reset direction</span>
      ball<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// calibrate ball position</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>ball<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// when the ball reach the left end</span>
      aniBall<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// stop animation</span>
      dir <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>       <span class="token comment">// reset direction</span>
      ball<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// calibrate ball position</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>Finally, Let's create the button actions.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">toRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  dir <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>         <span class="token comment">// right direction</span>
  aniBall<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// start animation</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">toLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  dir <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token comment">// left direction</span>
  aniBall<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// start animation</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">stopBall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  dir <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>         <span class="token comment">// stop mode</span>
  aniBall<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// stop animation</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="complete-result"><a href="#complete-result" aria-hidden="true" class="header-anchor">#</a> Complete result</h3> <br> <iframe width="100%" height="300" src="//jsfiddle.net/jywglady/786nzuov/embedded/result,html,css,js/" allowfullscreen="allowfullscreen" allowpaymentrequest="" frameborder="0"></iframe> <h2 id="enable-webduino-bit"><a href="#enable-webduino-bit" aria-hidden="true" class="header-anchor">#</a> Enable Webduino Bit</h2> <p>Now we want to add codes to enable the Webduino Bit function, that is, enable the Bit buttons to control the ball. Basically, only HTML and JS parts are needed to modify.</p> <h3 id="html-part-2"><a href="#html-part-2" aria-hidden="true" class="header-anchor">#</a> HTML part</h3> <p>We need JS codes for Webduino Bit in head section. Insert these lines before konva.min.js.</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://bit.webduino.io/blockly/components/jquery/dist/jquery.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://bit.webduino.io/blockly/dist/lib/webduino-all.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://bit.webduino.io/blockly/dist/MessageTransport.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://bit.webduino.io/blockly/dist/webduino-blockly.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://bit.webduino.io/blockly/dist/lib/firebase.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://bit.webduino.io/blockly/dist/lib/runtime.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://bit.webduino.io/blockly/components/webduino-bit-module-button/BitButton.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://bit.webduino.io/blockly/components/webduino-bit-module-button/BitButton-blockly.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="js-part-2"><a href="#js-part-2" aria-hidden="true" class="header-anchor">#</a> JS part</h3> <p>Add the following code to the JS part. Here we will bind buttonA to toLeft(), buttonB to toRight(). And if we press two buttons simultaneously, we will call stopBall().</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> buttons <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// save button status</span>

<span class="token function">boardReady</span><span class="token punctuation">(</span><span class="token punctuation">{</span>board<span class="token punctuation">:</span> <span class="token string">'Bit'</span><span class="token punctuation">,</span> device<span class="token punctuation">:</span> <span class="token string">'bit77730e'</span><span class="token punctuation">,</span> transport<span class="token punctuation">:</span> <span class="token string">'mqtt'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">board</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  board<span class="token punctuation">.</span>samplingInterval <span class="token operator">=</span> <span class="token number">250</span><span class="token punctuation">;</span>
  btnA <span class="token operator">=</span> <span class="token function">getPullupButton</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btnB <span class="token operator">=</span> <span class="token function">getPullupButton</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btnA<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'pressed'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// press button A</span>
  	buttons <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token comment">// status +1</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>buttons <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">toLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>  <span class="token comment">// only left button</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token function">stopBall</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>             <span class="token comment">// two buttons</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btnB<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'pressed'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// press button B</span>
  	buttons <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>                    <span class="token comment">// status +2</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>buttons <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">toRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// only right button</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token function">stopBall</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>             <span class="token comment">// two buttons</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btnA<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'released'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> buttons <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// update status</span>
  btnB<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'released'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> buttons <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// update status</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="result"><a href="#result" aria-hidden="true" class="header-anchor">#</a> Result</h3> <p>Note that this result can only be controlled by <strong>my Bit device</strong>. Jump to jsFiddle and change the Device ID to enable <strong>your Bit device</strong>.
<br> <iframe width="100%" height="300" src="//jsfiddle.net/jywglady/ebo273m4/embedded/result,html,css,js/" allowfullscreen="allowfullscreen" allowpaymentrequest="" frameborder="0"></iframe></p> <p><br><br></p> <div class="tip custom-block"><p class="custom-block-title">Exercise</p> <p>Modify the Bit page version to suit for your Bit board.
Try to modify the page content or effects by yourself.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/webcamp/Lessons/bit-coding.html" class="prev">
          Bit Coding
        </a></span> <span class="next"><a href="/webcamp/Lessons/level.html">
          Bit Level
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/webcamp/assets/js/app.0da583de.js" defer></script><script src="/webcamp/assets/js/2.e06c2ba1.js" defer></script><script src="/webcamp/assets/js/43.97d1dbae.js" defer></script>
  </body>
</html>
