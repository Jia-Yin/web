(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{850:function(t,e,n){"use strict";n.r(e);var r=n(760),o=n(761),l=n(762),c=n(763),m={middleware:["authenticated"],layout:"answer",components:{RTSingle:r.a,RTFillin:o.a,FuncTest:l.a,ProgTest:c.a},data:function(){return{time:1e3,timer:null,index:0,numCorrect:0,numTotal:0,lastskip:1e6,skip:!1,finished:!1}},mounted:function(){var t=this;console.log("Start timer"),this.timer=setInterval((function(){t.time--,0===t.time&&t.leave()}),1e3)},computed:{quizzes:function(){return[this.$store.state.params.quiz]},user:function(){return this.$store.state.user},ready:function(){return this.quizzes&&this.quizzes.length>0}},created:function(){console.log("Quizzes",this.quizzes)},methods:{skipquiz:function(){this.lastskip>this.time+1&&(this.lastskip=this.time,this.skip=!0)},submit:function(t){console.log("Result =",t),this.numTotal++,!this.finished&&this.index<this.quizzes.length-1?(this.skip=!1,this.index++):(console.log("Finished, Leave Out!"),this.leave())},leave:function(){var t=this;clearInterval(this.timer),this.finished=!0,setTimeout((function(){t.$router.push("/admin/quizlist")}),100)},pad:function(t){return("0"+t).slice(-2)},hhmmss:function(t){var e=Math.floor(t/60);t%=60;var n=Math.floor(e/60);return e%=60,"".concat(this.pad(n),":").concat(this.pad(e),":").concat(this.pad(t))}}},d=n(31),component=Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-navbar",{attrs:{variant:"light"}},[n("b-navbar-nav",{staticClass:"mr-auto"},[n("b-nav-text",{staticClass:"text-dark"},[t._v(t._s(t.user&&t.user.name))])],1),t._v(" "),n("b-navbar-nav",{staticClass:"mr-auto"},[n("b-nav-text",{staticClass:"text-primary"},[t._v("總共剩餘時間 "+t._s(t.hhmmss(t.time)))])],1),t._v(" "),n("b-navbar-nav",{staticClass:"mr-auto"},[n("b-button",{staticClass:"ml-3 btn-sm btn-outline-success",attrs:{variant:"outline-success"},on:{click:function(e){return t.skipquiz()}}},[t._v("跳過本題")]),t._v(" "),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-leave",modifiers:{"modal-leave":!0}}],staticClass:"ml-3 btn btn-sm btn-outline-danger",attrs:{variant:"outline-danger"}},[t._v("離開考場")]),t._v(" "),n("b-modal",{attrs:{id:"modal-leave",title:"溫馨提醒","ok-title":"確定","cancel-title":"取消","no-close-on-esc":!0,"no-close-on-backdrop":!0},on:{ok:function(e){return t.leave()}}},[n("p",{staticClass:"mt-4 text-danger"},[t._v("此視窗顯示時，計時不會暫停。")]),t._v(" "),n("p",{staticClass:"my-4 text-danger"},[t._v("\n          離開考場等於交卷，不得再次進入！\n          "),n("br"),t._v("確定要離開嗎？\n        ")])])],1),t._v(" "),n("b-navbar-nav",[n("b-nav-text",{staticClass:"text-dark"},[t._v(t._s(t.index+1)+" / "+t._s(t.quizzes&&t.quizzes.length))])],1)],1),t._v(" "),t.ready&&"singlechoice"==t.quizzes[t.index].type?n("RTSingle",{key:t.index,attrs:{shuffle:!0,times:20,quiz:t.quizzes[t.index],submit:t.submit,skip:t.skip}}):t._e(),t._v(" "),t.ready&&"fillin"==t.quizzes[t.index].type?n("RTFillin",{key:t.index,attrs:{times:20,quiz:t.quizzes[t.index],submit:t.submit,skip:t.skip}}):t._e(),t._v(" "),t.ready&&"functest"==t.quizzes[t.index].type?n("FuncTest",{key:t.index,attrs:{times:100,quiz:t.quizzes[t.index],submit:t.submit,skip:t.skip}}):t._e(),t._v(" "),t.ready&&"progtest"==t.quizzes[t.index].type?n("ProgTest",{key:t.index,attrs:{times:100,quiz:t.quizzes[t.index],submit:t.submit,skip:t.skip}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports}}]);