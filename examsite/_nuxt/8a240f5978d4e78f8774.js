(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{744:function(t,e,n){"use strict";n(745);var r={pad:function(t){return("0"+t).slice(-2)},mmss:function(t){var e=Math.floor(t/60);return t%=60,"".concat(this.pad(e),":").concat(this.pad(t))},hhmmss:function(t){var e=Math.floor(t/60);t%=60;var n=Math.floor(e/60);return e%=60,"".concat(this.pad(n),":").concat(this.pad(e),":").concat(this.pad(t))},getToday:function(){var t=new Date,dd=String(t.getDate()).padStart(2,"0"),e=String(t.getMonth()+1).padStart(2,"0");return t.getFullYear()+e+dd}};e.a=r},749:function(t,e,n){var content=n(779);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("2d9855ae",content,!0,{sourceMap:!1})},750:function(t,e,n){"use strict";n(18),n(1);var r=n(786),o=n.n(r),c={checkServer:function(t){return new Promise((function(e,n){var r="ws://",c=t.http;"https:"==document.location.protocol&&(c=t.https,r="wss://");for(var l=c.length,d=0,m=null,f=0,h=[],v=function(i){var t=r+c[i],v=t+"/submit",y=new o.a(v,{packMessage:function(data){return data.content},unpackMessage:function(data){return data},attachRequestId:function(data,t){return Object.assign({id:t},data)},extractRequestId:function(data){return i}});y.open().then((function(){return y.sendRequest({content:"HELLO"+i},{requestId:i})})).then((function(r){var o=r.substr(7),v=o.indexOf(":"),y=parseInt(o.substr(v+1),10);h.push({server:c[i],capacity:y}),y>d&&(d=y,m=t),++f===l&&(d>0?e({best:{channel:m+"/submit",capacity:d},available:h}):n("Judger not available!"))})).catch((function(t){++f===l&&(d>0?e({best:{channel:m+"/submit",capacity:d},available:h}):n("Judger not available!"))}))},i=0;i<l;i++)v(i)}))},judgeFunctest:function(t,code){var content={sourcecode:code,sourcelang:"cpp",testdata:{style:"RUN",testsets:[{testcases:[{input:""}]}]}};return new Promise((function(e,n){var r=new o.a(t,{packMessage:function(data){return"CODE:"+JSON.stringify(data.content)},unpackMessage:function(data){return data},attachRequestId:function(data,t){return Object.assign({id:t},data)},extractRequestId:function(data){return 13789}});r.open().then((function(){return r.sendRequest({content:content},{requestId:13789})})).then((function(t){try{var r=JSON.parse(t).RunStatus;if(r.indexOf('["AC"]')>=0)e("AC");else if(r.indexOf("Wrong")>=0){var o=r.replace(/\\n/g,"\n");o=(o=o.replace('["',"")).replace('"]',""),e(o)}else e(r)}catch(t){console.log("Error:",t),n(t)}})).catch((function(t){console.log("Error:",t),n(t)}))}))},judgeProgtest:function(t,e){var n=this;return console.log("Codedata",e),new Promise((function(r,c){var l=new o.a(t,{packMessage:function(data){return"CODE:"+JSON.stringify(data.content)},unpackMessage:function(data){return data},attachRequestId:function(data,t){return Object.assign({id:t},data)},extractRequestId:function(data){return 25789}});l.open().then((function(){return l.sendRequest({content:e},{requestId:25789})})).then((function(t){try{var e=JSON.parse(t),o=e.RunStatus;if("AC"===o)r("AC");else if("WA"===o||"PE"===o){var l=e.ErrorCase;n.result=o+"\n\nWrong Case:\n",n.result+="Input:\n"+l.input.replace(/\n/g,"\\n\n")+"\n",n.result+="Right:\n"+l.right.replace(/\n/g,"\\n\n")+"\n",n.result+="Wrong:\n"+l.wrong.replace(/\n/g,"\\n\n"),r(n.result)}else r(o)}catch(t){console.log("Error:",t),c(t)}})).catch((function(t){console.log("Error:",t),c(t)}))}))}};e.a=c},755:function(t,e,n){"use strict";n(11);var r=n(751),o=n.n(r),c={props:{quiz:Object,shuffle:Boolean,submit:Function,times:Number,skip:Boolean},data:function(){return{shuffledIndex:null,options:null,answered:!1,time:0,ptime:0,timer:null}},created:function(){var t=this;this.shuffledIndex=o.a.range(this.quiz.options.length),this.shuffle&&(this.shuffledIndex=o.a.shuffle(this.shuffledIndex)),this.options=o.a.map(this.shuffledIndex,(function(e){return t.quiz.options[e]})),this.time=this.times,this.ptime=this.times},mounted:function(){this.startTimer()},watch:{skip:function(t){t&&this.choose(-1)}},methods:{choose:function(t){this.answered||(this.answered=!0,console.log("Clear Inner Timer"),clearInterval(this.timer),this.submit({user:t,answer:this.quiz.answer,correct:t==this.quiz.answer,usetime:this.times-this.time}))},startTimer:function(){var t=this;setTimeout((function(){t.ptime--}),10),console.log("Start Inner Timer"),this.timer=setInterval((function(){t.time--,t.ptime--,0===t.time&&t.choose(-1)}),1e3)}}},l=(n(824),n(33)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qpanel"},[n("b-progress",{attrs:{variant:"warning",value:t.ptime,max:t.times}}),t._v(" "),n("div",{staticClass:"my-3 question",domProps:{innerHTML:t._s(t.$md.render(t.quiz.question))}}),t._v(" "),n("hr"),t._v(" "),n("b-list-group",{staticClass:"mb-1"},t._l(t.options,(function(option,e){return n("b-list-group-item",{key:e,staticClass:"mb-2",attrs:{button:""},on:{click:function(n){return t.choose(t.shuffledIndex[e])}}},[t._v(t._s(option))])})),1)],1)}),[],!1,null,"719a5754",null);e.a=component.exports},756:function(t,e,n){"use strict";n(18),n(11),n(751);var r={props:{quiz:Object,submit:Function,times:Number,skip:Boolean},data:function(){return{answered:!1,time:0,ptime:0,timer:null,uans:null}},created:function(){this.time=this.times,this.ptime=this.times},mounted:function(){this.startTimer()},watch:{skip:function(t){t&&this.send()}},methods:{checkanswer:function(t,e){if(!t||""===t)return!1;t=t.trim().replace(/\s\s+/g," "),e=e.trim().replace(/\s\s+/g," ");var n=/\s*([^\w])\s*/g;return(t=t.replace(n,"$1"))==(e=e.replace(n,"$1"))},send:function(){this.answered||(this.answered=!0,console.log("Clear Inner Timer"),clearInterval(this.timer),this.submit({user:this.uans,answer:this.quiz.answer,correct:this.checkanswer(this.uans,this.quiz.answer),usetime:this.times-this.time}))},startTimer:function(){var t=this;setTimeout((function(){t.ptime--}),10),console.log("Start Inner timer"),this.timer=setInterval((function(){t.time--,t.ptime--,0===t.time&&t.send()}),1e3)}}},o=(n(826),n(33)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qpanel"},[n("b-progress",{attrs:{variant:"warning",value:t.ptime,max:t.times}}),t._v(" "),n("div",{staticClass:"my-3 question",domProps:{innerHTML:t._s(t.$md.render(t.quiz.question))}}),t._v(" "),n("hr"),t._v(" "),n("b-form-input",{staticClass:"my-2",attrs:{placeholder:"Answer"},model:{value:t.uans,callback:function(e){t.uans=e},expression:"uans"}}),t._v(" "),n("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.send()}}},[t._v("提交")])],1)}),[],!1,null,"6699340f",null);e.a=component.exports},757:function(t,e,n){"use strict";n(18),n(11);var r=n(758),o=n(750),c=n(744),l={components:{CodePanel:r.a},props:{quiz:Object,submit:Function,times:Number,skip:Boolean},data:function(){return{mycode:"",channel:null,answered:!1,time:0,timer:null,result:null,showresult:!1}},mounted:function(){this.time=this.times,this.startTimer()},watch:{skip:function(t){t&&this.send()}},methods:{mmss:function(t){return c.a.mmss(t)},servers:function(t){this.channel=t.best.channel,console.log("Available",t.available),console.log("Channel",this.channel)},send:function(){var t=this;if(!this.answered){this.answered=!0,console.log("Clear Inner Timer"),clearInterval(this.timer);var code=this.mycode,e=this.quiz.testcode.replace("CODEHERE",code);o.a.judgeFunctest(this.channel,e).then((function(e){"AC"===e?t.submit({correct:!0,uans:t.mycode,usetime:t.times-t.time}):t.submit({correct:!1,uans:t.mycode,usetime:t.times-t.time})})).catch((function(e){t.submit({correct:!1,uans:t.mycode,usetime:t.times-t.time})}))}},check:function(){var t=this,code=this.mycode,e=this.quiz.testcode.replace("CODEHERE",code);o.a.judgeFunctest(this.channel,e).then((function(e){console.log("Status",e),t.result="AC"===e?"通過":e,t.showresult=!0}))},startTimer:function(){var t=this;console.log("Start Inner Timer"),this.timer=setInterval((function(){t.time--,0===t.time&&(console.log("RT Timeout"),t.send())}),1e3)}}},d=(n(858),n(33)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qpanel"},[n("p",{staticClass:"timestatus"},[t._v(t._s(t.mmss(t.time)))]),t._v(" "),n("div",{staticClass:"my-3 question",domProps:{innerHTML:t._s(t.$md.render(t.quiz.question))}}),t._v(" "),t.showresult?n("div",{staticClass:"result"},[n("pre",[t._v(t._s(t.result))]),t._v(" "),n("br"),t._v(" "),n("b-button",{attrs:{variant:"primary"},on:{click:function(e){t.showresult=!1}}},[t._v("OK")])],1):t._e(),t._v(" "),n("CodePanel",{attrs:{check:t.check,submit:t.send,height:500},on:{servers:t.servers},model:{value:t.mycode,callback:function(e){t.mycode=e},expression:"mycode"}})],1)}),[],!1,null,"955f3824",null);e.a=component.exports},758:function(t,e,n){"use strict";n(5),n(2),n(3),n(1),n(4),n(58);var r=n(14),o=n(0),c=(n(11),n(100)),l=n(750);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var m={props:{value:String,height:Number,ready:Function,check:Function,submit:Function},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)({sendRemind:function(t){return t.params.sendRemind}})),data:function(){return{defaultchannel:"C",connstatus:"success",cmstyle:{"font-size":"100%"},cmfontsize:100,cm:null,cmcode:null,cmOption:{tabSize:3,indentUnit:3,styleActiveLine:!0,lineNumbers:!1,readOnly:!1,matchTags:!0,matchBrackets:!0,autoCloseBrackets:!0,indentWithTabs:!0,mode:"text/x-c++src",theme:"mdn-like"}}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.cmcode=t.value,t.$store.state.servers){e.next=4;break}return e.next=4,t.$store.dispatch("getServers");case 4:l.a.checkServer(t.$store.state.servers).then((function(e){t.connstatus="success";var n=e.best.channel.toUpperCase();console.log("CHN",n),"WSS"===n.substr(0,3)?t.defaultchannel=n.substr(6,1):t.defaultchannel=n.substr(5,1),t.$emit("servers",e)})).catch((function(e){t.connstatus="danger",console.log("CP Error",e)}));case 5:case"end":return e.stop()}}),e)})))()},methods:{send:function(){void 0===this.sendRemind||this.sendRemind?this.$bvModal.show("modal-send"):this.submit()},toggleRemind:function(t){this.$store.commit("setObject",{key:"sendRemind",value:!t})},cinput:function(t){this.$emit("input",t)},incfont:function(){this.cmfontsize+=10,this.cmstyle={"font-size":"".concat(this.cmfontsize,"%")}},decfont:function(){this.cmfontsize-=10,this.cmstyle={"font-size":"".concat(this.cmfontsize,"%")}},resetfont:function(){this.cmfontsize=100,this.cmstyle={"font-size":"".concat(this.cmfontsize,"%")}},onCmReady:function(t){this.cm=t,t.setSize(null,this.height)}},watch:{height:function(t){this.cm.setSize(null,t)}}},f=(n(778),n(33)),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"col-container"},[n("div",{staticClass:"toolbar"},[n("div",{staticClass:"bgroup"},[n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:t.check}},[t._v("測")]),t._v(" "),n("b-button",{staticClass:"my-2",attrs:{size:"sm",variant:"outline-primary"},on:{click:t.incfont}},[n("fa",{attrs:{icon:"plus"}})],1),t._v(" "),n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:t.resetfont}},[n("fa",{attrs:{icon:["far","circle"]}})],1),t._v(" "),n("b-button",{staticClass:"my-2",attrs:{size:"sm",variant:"outline-primary"},on:{click:t.decfont}},[n("fa",{attrs:{icon:"minus"}})],1),t._v(" "),n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(e){return t.send()}}},[t._v("交")])],1),t._v(" "),n("b-button",{staticClass:"connstatus",attrs:{disabled:!0,size:"sm",variant:t.connstatus}},["danger"!=t.connstatus?n("span",[t._v(t._s(t.defaultchannel))]):n("span",[n("fa",{attrs:{icon:["far","times-circle"]}})],1)])],1),t._v(" "),n("codemirror",{staticClass:"coder",style:t.cmstyle,attrs:{options:t.cmOption},on:{ready:t.onCmReady,input:t.cinput},model:{value:t.cmcode,callback:function(e){t.cmcode=e},expression:"cmcode"}})],1),t._v(" "),n("b-modal",{attrs:{centered:!0,id:"modal-send",title:"程式提交","ok-title":"確定","cancel-title":"取消","no-close-on-esc":!0,"no-close-on-backdrop":!0},on:{ok:t.submit}},[n("p",{staticClass:"mt-4 text-danger"},[t._v("提交之後，即進到下一題，無法再回頭修改，確定要提交嗎？")]),t._v(" "),n("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1"},on:{change:t.toggleRemind}},[t._v("以後不再提醒")])],1)],1)}),[],!1,null,"a22032ac",null);e.a=component.exports},759:function(t,e,n){"use strict";n(11);var r=n(758),o=n(750),c=n(744),l={components:{CodePanel:r.a},props:{quiz:Object,submit:Function,times:Number,skip:Boolean},data:function(){return{mycode:"",channel:null,answered:!1,time:0,timer:null,result:null,showresult:!1}},mounted:function(){this.time=this.times,this.startTimer()},watch:{skip:function(t){t&&this.send()}},methods:{mmss:function(t){return c.a.mmss(t)},servers:function(t){this.channel=t.best.channel,console.log("Available",t.available),console.log("Channel",this.channel)},send:function(){var t=this;if(!this.answered){this.answered=!0,console.log("Clear Inner Timer"),clearInterval(this.timer);var e=JSON.parse(JSON.stringify(this.quiz));e.sourceCode=this.mycode,e.SourceLang="cpp",o.a.judgeProgtest(this.channel,e).then((function(e){console.log("Status",e),"AC"===e?t.submit({correct:!0,uans:t.mycode,usetime:t.times-t.time}):t.submit({correct:!1,uans:t.mycode,usetime:t.times-t.time})}))}},check:function(){var t=this,e=JSON.parse(JSON.stringify(this.quiz));e.sourceCode=this.mycode,e.SourceLang="cpp",o.a.judgeProgtest(this.channel,e).then((function(e){console.log("Status",e),t.result="AC"===e?"通過":e,t.showresult=!0}))},startTimer:function(){var t=this;console.log("Start Inner Timer"),this.timer=setInterval((function(){t.time--,0===t.time&&(console.log("RT Timeout"),t.send())}),1e3)}}},d=(n(860),n(33)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qpanel"},[n("p",{staticClass:"timestatus"},[t._v(t._s(t.mmss(t.time)))]),t._v(" "),n("div",{staticClass:"my-3 question",domProps:{innerHTML:t._s(t.$md.render(t.quiz.question))}}),t._v(" "),t.showresult?n("div",{staticClass:"result"},[n("pre",[t._v(t._s(t.result))]),t._v(" "),n("br"),t._v(" "),n("b-button",{attrs:{variant:"primary"},on:{click:function(e){t.showresult=!1}}},[t._v("OK")])],1):t._e(),t._v(" "),n("CodePanel",{attrs:{check:t.check,submit:t.send,height:500},on:{servers:t.servers},model:{value:t.mycode,callback:function(e){t.mycode=e},expression:"mycode"}})],1)}),[],!1,null,"2541fcf7",null);e.a=component.exports},774:function(t,e,n){var content=n(825);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("a836beba",content,!0,{sourceMap:!1})},775:function(t,e,n){var content=n(827);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("14722577",content,!0,{sourceMap:!1})},778:function(t,e,n){"use strict";var r=n(749);n.n(r).a},779:function(t,e,n){(e=n(39)(!1)).push([t.i,".col-container[data-v-a22032ac]{display:flex;width:100%}.toolbar[data-v-a22032ac]{display:flex;flex-direction:column;justify-content:space-between;background:#fafad2;padding:12px;border:1px solid #00f;border-right:none}.coder[data-v-a22032ac]{flex:1 1 0;padding:12px;border:1px solid #00f}.btn[data-v-a22032ac]{display:block;width:40px}",""]),t.exports=e},780:function(t,e,n){var content=n(859);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("16e35514",content,!0,{sourceMap:!1})},781:function(t,e,n){var content=n(861);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("1f8c998e",content,!0,{sourceMap:!1})},824:function(t,e,n){"use strict";var r=n(774);n.n(r).a},825:function(t,e,n){(e=n(39)(!1)).push([t.i,".qpanel[data-v-719a5754]{background:#eee;padding:24px}.question[data-v-719a5754]{color:#00f;font-size:120%}.progress[data-v-719a5754] .progress-bar{transition:width 1s linear}",""]),t.exports=e},826:function(t,e,n){"use strict";var r=n(775);n.n(r).a},827:function(t,e,n){(e=n(39)(!1)).push([t.i,".qpanel[data-v-6699340f]{background:#eee;padding:24px}.question[data-v-6699340f]{color:#00f;font-size:120%}.progress[data-v-6699340f] .progress-bar{transition:width 1s linear}",""]),t.exports=e},858:function(t,e,n){"use strict";var r=n(780);n.n(r).a},859:function(t,e,n){(e=n(39)(!1)).push([t.i,".qpanel[data-v-955f3824]{background:#eee;padding:24px}.question[data-v-955f3824]{color:#00f}.timestatus[data-v-955f3824]{background:#00f;color:#fff;text-align:center}.result[data-v-955f3824]{position:fixed;left:365px;top:365px;width:50%;height:50%;background:#ddd;z-index:100;padding:24px;border:2px solid green;overflow-y:scroll}",""]),t.exports=e},860:function(t,e,n){"use strict";var r=n(781);n.n(r).a},861:function(t,e,n){(e=n(39)(!1)).push([t.i,".qpanel[data-v-2541fcf7]{background:#eee;padding:24px}.question[data-v-2541fcf7]{color:#00f}.timestatus[data-v-2541fcf7]{background:#00f;color:#fff;text-align:center}.result[data-v-2541fcf7]{position:fixed;left:365px;top:365px;width:50%;height:50%;background:#ddd;z-index:100;padding:24px;border:2px solid green;overflow-y:scroll}",""]),t.exports=e}}]);