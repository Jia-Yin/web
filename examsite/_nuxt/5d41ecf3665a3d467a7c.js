(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{751:function(t,e,n){var content=n(794);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("6e5cfee6",content,!0,{sourceMap:!1})},752:function(t,e,n){var content=n(796);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("a38696f0",content,!0,{sourceMap:!1})},753:function(t,e,n){var content=n(798);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("6ea5886c",content,!0,{sourceMap:!1})},754:function(t,e,n){var content=n(800);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("258f6a4c",content,!0,{sourceMap:!1})},755:function(t,e,n){var content=n(802);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("3569e421",content,!0,{sourceMap:!1})},761:function(t,e,n){"use strict";n(11);var o=n(738),r=n.n(o),c={props:{quiz:Object,shuffle:Boolean,submit:Function,times:Number,skip:Boolean},data:function(){return{shuffledIndex:null,options:null,answered:!1,time:0,ptime:0,timer:null}},created:function(){var t=this;this.shuffledIndex=r.a.range(this.quiz.options.length),this.shuffle&&(this.shuffledIndex=r.a.shuffle(this.shuffledIndex)),this.options=r.a.map(this.shuffledIndex,(function(e){return t.quiz.options[e]})),this.time=this.times,this.ptime=this.times},mounted:function(){this.startTimer()},watch:{skip:function(t){t&&this.choose(-1)}},methods:{choose:function(t){this.answered||(this.answered=!0,console.log("Clear Inner Timer"),clearInterval(this.timer),this.submit({user:t,answer:this.quiz.answer,correct:t==this.quiz.answer}))},startTimer:function(){var t=this;setTimeout((function(){t.ptime--}),10),console.log("Start Inner Timer"),this.timer=setInterval((function(){t.time--,t.ptime--,0===t.time&&t.choose(-1)}),1e3)}}},l=(n(793),n(31)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qpanel"},[n("b-progress",{attrs:{variant:"warning",value:t.ptime,max:t.times}}),t._v(" "),n("div",{staticClass:"my-3 question",domProps:{innerHTML:t._s(t.$md.render(t.quiz.question))}}),t._v(" "),n("hr"),t._v(" "),n("b-list-group",{staticClass:"mb-1"},t._l(t.options,(function(option,e){return n("b-list-group-item",{key:e,staticClass:"mb-2",attrs:{button:""},on:{click:function(n){return t.choose(t.shuffledIndex[e])}}},[t._v(t._s(option))])})),1)],1)}),[],!1,null,"1c799f38",null);e.a=component.exports},762:function(t,e,n){"use strict";n(17),n(11),n(738);var o={props:{quiz:Object,submit:Function,times:Number,skip:Boolean},data:function(){return{answered:!1,time:0,ptime:0,timer:null,uans:null}},created:function(){this.time=this.times,this.ptime=this.times},mounted:function(){this.startTimer()},watch:{skip:function(t){t&&this.send()}},methods:{checkanswer:function(t,e){if(!t||""===t)return!1;t=t.trim().replace(/\s\s+/g," "),e=e.trim().replace(/\s\s+/g," ");var n=/\s*([^\w])\s*/g;return(t=t.replace(n,"$1"))==(e=e.replace(n,"$1"))},send:function(){this.answered||(this.answered=!0,console.log("Clear Inner Timer"),clearInterval(this.timer),this.submit({user:this.uans,answer:this.quiz.answer,correct:this.checkanswer(this.uans,this.quiz.answer)}))},startTimer:function(){var t=this;setTimeout((function(){t.ptime--}),10),console.log("Start Inner timer"),this.timer=setInterval((function(){t.time--,t.ptime--,0===t.time&&t.send()}),1e3)}}},r=(n(795),n(31)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qpanel"},[n("b-progress",{attrs:{variant:"warning",value:t.ptime,max:t.times}}),t._v(" "),n("div",{staticClass:"my-3 question",domProps:{innerHTML:t._s(t.$md.render(t.quiz.question))}}),t._v(" "),n("hr"),t._v(" "),n("b-form-input",{staticClass:"my-2",attrs:{placeholder:"Answer"},model:{value:t.uans,callback:function(e){t.uans=e},expression:"uans"}}),t._v(" "),n("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.send()}}},[t._v("提交")])],1)}),[],!1,null,"63847d02",null);e.a=component.exports},763:function(t,e,n){"use strict";n(17),n(59);var o=n(14),r=n(0),c=(n(11),n(738),{components:{CodePanel:n(768).a},props:{quiz:Object,shuffle:Boolean,submit:Function,times:Number,skip:Boolean},data:function(){var t;return t={mycode:"",shuffledIndex:null,options:null,answered:!1,time:0,ptime:0,timer:null,servers:null,protocol:""},Object(r.a)(t,"servers",null),Object(r.a)(t,"maxavail",0),Object(r.a)(t,"result",null),Object(r.a)(t,"showresult",!1),Object(r.a)(t,"info",{RunStatus:"Not Available",StyleCheck:"N/A",ErrorCase:null}),t},mounted:function(){this.checkServer()},watch:{skip:function(t){console.log("RT skip Changed!"),t&&(this.timer&&(console.log("Clear Timer"),clearInterval(this.timer)),console.log("SKIP"),this.answered||(this.answered=!0,this.choose({correct:!1,uans:this.mycode})))},quiz:{immediate:!0,handler:function(t){console.log("Quiz",t),this.timer&&clearInterval(this.timer),this.answered=!1,this.time=this.times,this.ptime=this.times,this.startTimer()}}},methods:{checkServer:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t,t.$store.state.servers){e.next=4;break}return e.next=4,t.$store.dispatch("getServers").then((function(t){console.log("Get SERVER RESULT:",t)})).catch((function(t){console.log("Get SERVER ERROR:",t)}));case 4:for(n="ws://","https:"==document.location.protocol?(t.servers=t.$store.state.servers.https,n="wss://"):t.servers=t.$store.state.servers.http,o=t.servers.length,i=0;i<o;i++)r=n+t.servers[i],t.sendMessage(r,"HELLO"+i);case 8:case"end":return e.stop()}}),e)})))()},send:function(){console.log("SEND CALLED"),this.check(),console.log("Submit Code:",this.mycode),console.log("RESULT",this.result),clearInterval(this.timer),"通過"===this.result?this.choose({correct:!0,uans:this.mycode}):this.choose({correct:!1,uans:this.mycode})},check:function(){console.log("Check Called!");var code=this.mycode,t=this.quiz.testcode.replace("CODEHERE",code);console.log("all",t);t.replace(/\"/g,'\\"');var content='CODE:{"sourcecode":'+JSON.stringify(t);content+=',"sourcelang":"cpp"',content+=',"testdata":{"style":"RUN","testsets":[{"testcases":[{"input":""}]}]}}',this.sendMessage(this.protocol,content)},parseMessage:function(t){var data=JSON.parse(t.data);if("string"==typeof data&&"HELLO:"===data.substr(0,6)){var e=data.substr(6),n=e.indexOf(":");console.log("SERVER NO = ",e.substr(0,n)),console.log("NUMSTR = ",e.substr(n+1));var o=parseInt(e.substr(n+1),10);console.log("NUM = ",o),o>this.maxavail&&(this.maxavail=o,this.protocol=t.origin,this.status="SRV-"+e.substr(0,n),console.log("Choose Server:",this.protocol))}else try{this.info=JSON.parse(t.data);var r=this.info.RunStatus;if(console.log("STATUS",r),r.indexOf('["AC"]')>=0)this.result="通過";else if(r.indexOf("Wrong")>=0){var c=r.replace(/\\n/g,"\n");c=(c=c.replace('["',"")).replace('"]',""),this.result=c}else this.result=r;this.showresult=!0,r.indexOf("error")>=0?r="CE":"AC"!=r&&(r="WA",console.log("ERRORCASE",this.info.ErrorCase))}catch(t){alert(t)}this.trial=!1},sendMessage:function(t,content){var e=this,n=t+"/submit",o=null;try{o=new WebSocket(n)}catch(t){console.log("Error",t)}o.onopen=function(t){o.send(content)},o.onmessage=function(t){console.log("Receive:",t.data),e.parseMessage(t),e.disabled=!1,o.close()},o.onclose=function(t){console.log("WS closed:",t)},o.onerror=function(t){console.log("Socket ERR:",t),o.close()}},choose:function(t){(this.skip||!this.answered&&this.times-this.time>0)&&(console.log("RT choose Called!"),this.answered=!0,clearInterval(this.timer),this.submit(t))},startTimer:function(){var t=this;setTimeout((function(){t.ptime--}),10),console.log("Start RT timer"),this.timer=setInterval((function(){t.time--,t.ptime--,0===t.time&&(console.log("RT Timeout"),t.choose({correct:!1,uans:t.mycode}))}),1e3)}}}),l=(n(799),n(31)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qpanel"},[n("b-progress",{attrs:{variant:"warning",value:t.ptime,max:t.times}}),t._v(" "),n("div",{staticClass:"my-3 question",domProps:{innerHTML:t._s(t.$md.render(t.quiz.question))}}),t._v(" "),t.showresult?n("div",{staticClass:"result"},[n("pre",[t._v(t._s(t.result))]),t._v(" "),n("br"),t._v(" "),n("b-button",{attrs:{variant:"primary"},on:{click:function(e){t.showresult=!1}}},[t._v("OK")])],1):t._e(),t._v(" "),n("CodePanel",{attrs:{check:t.check,submit:t.send,height:500},model:{value:t.mycode,callback:function(e){t.mycode=e},expression:"mycode"}})],1)}),[],!1,null,"7ad7cd3a",null);e.a=component.exports},764:function(t,e,n){"use strict";n(59);var o=n(14),r=n(0),c=(n(11),n(738),n(768)),l={props:{quiz:Object,shuffle:Boolean,submit:Function,times:Number,skip:Boolean},components:{CodePanel:c.a},data:function(){var t;return t={mycode:"",shuffledIndex:null,options:null,answered:!1,time:0,ptime:0,timer:null,servers:null,protocol:""},Object(r.a)(t,"servers",null),Object(r.a)(t,"maxavail",0),Object(r.a)(t,"result",null),Object(r.a)(t,"showresult",!1),Object(r.a)(t,"info",{RunStatus:"Not Available",StyleCheck:"N/A",ErrorCase:null}),t},mounted:function(){this.checkServer()},watch:{skip:function(t){console.log("RT skip Changed!"),t&&(this.timer&&(console.log("Clear Timer"),clearInterval(this.timer)),console.log("SKIP"),this.answered||(this.answered=!0,this.choose({correct:!1,uans:this.mycode})))},quiz:{immediate:!0,handler:function(t){console.log("Quiz",t),this.timer&&clearInterval(this.timer),this.answered=!1,this.time=this.times,this.ptime=this.times,this.startTimer()}}},methods:{checkServer:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t,t.$store.state.servers){e.next=4;break}return e.next=4,t.$store.dispatch("getServers").then((function(t){console.log("Get SERVER RESULT:",t)})).catch((function(t){console.log("Get SERVER ERROR:",t)}));case 4:for(n="ws://","https:"==document.location.protocol?(t.servers=t.$store.state.servers.https,n="wss://"):t.servers=t.$store.state.servers.http,o=t.servers.length,i=0;i<o;i++)r=n+t.servers[i],t.sendMessage(r,"HELLO"+i);case 8:case"end":return e.stop()}}),e)})))()},send:function(){console.log("SEND CALLED"),this.check(),console.log("Submit Code:",this.mycode),console.log("RESULT",this.result),clearInterval(this.timer),"通過"===this.result?this.choose({correct:!0,uans:this.mycode}):this.choose({correct:!1,uans:this.mycode})},check:function(){var t=JSON.parse(JSON.stringify(this.quiz));t.sourceCode=this.mycode,t.SourceLang="cpp";var content=JSON.stringify(t);console.log("Content","CODE:"+content),this.sendMessage(this.protocol,"CODE:"+content)},parseMessage:function(t){var data=JSON.parse(t.data);if("string"==typeof data&&"HELLO:"===data.substr(0,6)){var e=data.substr(6),n=e.indexOf(":");console.log("SERVER NO = ",e.substr(0,n)),console.log("NUMSTR = ",e.substr(n+1));var o=parseInt(e.substr(n+1),10);console.log("NUM = ",o),o>this.maxavail&&(this.maxavail=o,this.protocol=t.origin,this.status="SRV-"+e.substr(0,n),console.log("Choose Server:",this.protocol))}else try{this.info=JSON.parse(t.data);var r=this.info.RunStatus;if(console.log("STATUS",r),"AC"===r)this.result="通過";else if(r.indexOf("WA")>=0){var c=this.info.ErrorCase;this.result="Wrong Case:\n",this.result+="Input:\n"+c.input+"\n",this.result+="Right:\n"+c.right+"\n",this.result+="Wrong:\n"+c.wrong}else this.result=r;this.showresult=!0,r.indexOf("error")>=0?r="CE":"AC"!=r&&(r="WA",console.log("ERRORCASE",this.info.ErrorCase))}catch(t){alert(t)}this.trial=!1},sendMessage:function(t,content){console.log("Send Called",t,content);var e=this,n=t+"/submit",o=null;try{o=new WebSocket(n)}catch(t){console.log("Error",t)}o.onopen=function(t){o.send(content)},o.onmessage=function(t){console.log("Receive:",t.data),e.parseMessage(t),e.disabled=!1,o.close()},o.onclose=function(t){console.log("WS closed:",t)},o.onerror=function(t){console.log("Socket ERR:",t),o.close()}},onCmReady:function(t){t.setSize(null,500)},choose:function(t){(this.skip||!this.answered&&this.times-this.time>0)&&(console.log("RT choose Called!"),this.answered=!0,clearInterval(this.timer),this.submit(t))},startTimer:function(){var t=this;setTimeout((function(){t.ptime--}),10),console.log("Start RT timer"),this.timer=setInterval((function(){t.time--,t.ptime--,0===t.time&&(console.log("RT Timeout"),t.choose({correct:!1,uans:t.mycode}))}),1e3)}}},h=(n(801),n(31)),component=Object(h.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qpanel"},[n("b-progress",{attrs:{variant:"warning",value:t.ptime,max:t.times}}),t._v(" "),n("div",{staticClass:"my-3 question",domProps:{innerHTML:t._s(t.$md.render(t.quiz.question))}}),t._v(" "),n("hr"),t._v(" "),n("b-button",{on:{click:function(e){return t.check()}}},[t._v("測試")]),t._v(" "),n("b-button",{on:{click:function(e){return t.send()}}},[t._v("提交")]),t._v(" "),t.showresult?n("div",{staticClass:"result"},[n("pre",[t._v(t._s(t.result))]),t._v(" "),n("br"),t._v(" "),n("b-button",{attrs:{variant:"primary"},on:{click:function(e){t.showresult=!1}}},[t._v("OK")])],1):t._e(),t._v(" "),n("CodePanel",{attrs:{check:t.check,submit:t.send,height:500},model:{value:t.mycode,callback:function(e){t.mycode=e},expression:"mycode"}})],1)}),[],!1,null,"6205ba34",null);e.a=component.exports},768:function(t,e,n){"use strict";n(11);var o={props:{value:String,height:Number,ready:Function,check:Function,submit:Function},data:function(){return{cmstyle:{"font-size":"100%"},cmfontsize:100,cm:null,cmcode:null,cmOption:{tabSize:3,indentUnit:3,styleActiveLine:!0,lineNumbers:!1,readOnly:!1,matchTags:!0,matchBrackets:!0,autoCloseBrackets:!0,indentWithTabs:!0,mode:"text/x-c++src",theme:"mdn-like"}}},mounted:function(){console.log("Value",this.value),this.cmcode=this.value},methods:{cinput:function(t){this.$emit("input",t)},incfont:function(){this.cmfontsize+=10,this.cmstyle={"font-size":"".concat(this.cmfontsize,"%")}},decfont:function(){this.cmfontsize-=10,this.cmstyle={"font-size":"".concat(this.cmfontsize,"%")}},resetfont:function(){this.cmfontsize=100,this.cmstyle={"font-size":"".concat(this.cmfontsize,"%")}},onCmReady:function(t){this.cm=t,t.setSize(null,this.height)}},watch:{height:function(t){this.cm.setSize(null,t)}}},r=(n(797),n(31)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"col-container"},[n("div",{staticClass:"tool"},[n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:t.check}},[t._v("測")]),t._v(" "),n("b-button",{staticClass:"my-2",attrs:{size:"sm",variant:"outline-primary"},on:{click:t.incfont}},[n("fa",{attrs:{icon:"plus"}})],1),t._v(" "),n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:t.resetfont}},[n("fa",{attrs:{icon:["far","circle"]}})],1),t._v(" "),n("b-button",{staticClass:"my-2",attrs:{size:"sm",variant:"outline-primary"},on:{click:t.decfont}},[n("fa",{attrs:{icon:"minus"}})],1),t._v(" "),n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:t.submit}},[t._v("交")])],1),t._v(" "),n("codemirror",{staticClass:"coder",style:t.cmstyle,attrs:{options:t.cmOption},on:{ready:t.onCmReady,input:t.cinput},model:{value:t.cmcode,callback:function(e){t.cmcode=e},expression:"cmcode"}})],1)])}),[],!1,null,"25c30dc0",null);e.a=component.exports},793:function(t,e,n){"use strict";var o=n(751);n.n(o).a},794:function(t,e,n){(e=n(37)(!1)).push([t.i,".qpanel[data-v-1c799f38]{background:#eee;padding:24px}.question[data-v-1c799f38]{color:#00f;font-size:120%}.progress[data-v-1c799f38] .progress-bar{transition:width 1s linear}",""]),t.exports=e},795:function(t,e,n){"use strict";var o=n(752);n.n(o).a},796:function(t,e,n){(e=n(37)(!1)).push([t.i,".qpanel[data-v-63847d02]{background:#eee;padding:24px}.question[data-v-63847d02]{color:#00f;font-size:120%}.progress[data-v-63847d02] .progress-bar{transition:width 1s linear}",""]),t.exports=e},797:function(t,e,n){"use strict";var o=n(753);n.n(o).a},798:function(t,e,n){(e=n(37)(!1)).push([t.i,".toolbar[data-v-25c30dc0]{height:100%;margin-right:5px;border-right:1px solid #00f}.btn[data-v-25c30dc0],.toolbar[data-v-25c30dc0]{width:40px}.col-container[data-v-25c30dc0]{display:table;width:100%}.tool[data-v-25c30dc0]{padding:12px;width:24px;border:1px solid #00f;border-right:none}.coder[data-v-25c30dc0],.tool[data-v-25c30dc0]{display:table-cell}.coder[data-v-25c30dc0]{padding:16px;border:1px solid #00f}",""]),t.exports=e},799:function(t,e,n){"use strict";var o=n(754);n.n(o).a},800:function(t,e,n){(e=n(37)(!1)).push([t.i,".qpanel[data-v-7ad7cd3a]{background:#eee;padding:24px}.question[data-v-7ad7cd3a]{color:#00f}.progress[data-v-7ad7cd3a] .progress-bar{transition:width 1s linear}.result[data-v-7ad7cd3a]{position:fixed;left:365px;top:365px;width:50%;height:50%;background:#ddd;z-index:100;padding:24px;border:2px solid green;overflow-y:scroll}",""]),t.exports=e},801:function(t,e,n){"use strict";var o=n(755);n.n(o).a},802:function(t,e,n){(e=n(37)(!1)).push([t.i,".qpanel[data-v-6205ba34]{background:#eee;padding:24px}.question[data-v-6205ba34]{color:#00f}.progress[data-v-6205ba34] .progress-bar{transition:width 1s linear}.result[data-v-6205ba34]{position:fixed;left:365px;top:365px;width:50%;height:50%;background:#ddd;z-index:100;padding:24px;border:2px solid green;overflow-y:scroll}",""]),t.exports=e}}]);