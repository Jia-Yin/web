(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{859:function(t,e,n){"use strict";n.r(e);var r=n(18),o={middleware:["authenticated"],layout:"userlayout",data:function(){return{cmdlistener:null,status:null}},computed:{user:function(){return this.$store.state.user}},mounted:function(){this.startListener()},methods:{startListener:function(){var t=this;this.cmdlistener=r.c.collection("comms").doc("exam").onSnapshot((function(e){t.processCmd(e.data())}))},processCmd:function(data){var t=this;console.log("Data Changed:",data),data.start&&r.c.collection("answers").where("examid","==",data.examid).where("userid","==",this.user.id).get().then((function(e){e.empty?(t.$store.commit("setObject",{key:"examid",value:data.examid}),t.cmdlistener(),t.$router.push("/start")):(t.status="已經考過了",t.cmdlistener())}))}}},c=n(31),component=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-container",{staticClass:"my-4"},[e("p",[this._v("等待老師開題中...")]),this._v(" "),e("p",[this._v(this._s(this.status))])])}),[],!1,null,null,null);e.default=component.exports}}]);