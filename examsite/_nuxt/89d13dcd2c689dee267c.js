(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{744:function(e,t,r){"use strict";r(745);var n={pad:function(e){return("0"+e).slice(-2)},mmss:function(e){var t=Math.floor(e/60);return e%=60,"".concat(this.pad(t),":").concat(this.pad(e))},hhmmss:function(e){var t=Math.floor(e/60);e%=60;var r=Math.floor(t/60);return t%=60,"".concat(this.pad(r),":").concat(this.pad(t),":").concat(this.pad(e))},getToday:function(){var e=new Date,dd=String(e.getDate()).padStart(2,"0"),t=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+t+dd}};t.a=n},745:function(e,t,r){"use strict";var n=r(23),o=r(746),l=r(285),c=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(l);n(n.P+n.F*c,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},746:function(e,t,r){var n=r(50),o=r(286),l=r(52);e.exports=function(e,t,r,c){var f=String(l(e)),d=f.length,m=void 0===r?" ":String(r),h=n(t);if(h<=d||""==m)return f;var v=h-d,y=o.call(m,Math.ceil(v/m.length));return y.length>v&&(y=y.slice(0,v)),c?y+f:f+y}},748:function(e,t,r){var content=r(763);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(40).default)("cd66f6de",content,!0,{sourceMap:!1})},749:function(e,t,r){var content=r(765);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(40).default)("3e4f83d8",content,!0,{sourceMap:!1})},762:function(e,t,r){"use strict";var n=r(748);r.n(n).a},763:function(e,t,r){(t=r(39)(!1)).push([e.i,".modal-content[data-v-5ea817ae]{position:fixed;left:365px;top:365px;width:50%;height:50%;background:#e0ffff}",""]),e.exports=t},764:function(e,t,r){"use strict";var n=r(749);r.n(n).a},765:function(e,t,r){(t=r(39)(!1)).push([e.i,".modal-content[data-v-52431adf]{position:fixed;left:365px;top:365px;width:50%;height:50%;background:#e0ffff}",""]),e.exports=t},790:function(e,t,r){"use strict";r(5),r(2),r(3),r(1),r(4),r(58);var n=r(14),o=r(0),l=r(744),c=r(83);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var d={data:function(){return{items:[],fields:[{key:"user",label:"User",sortable:!0,sortDirection:"desc"},{key:"score",label:"Score",sortable:!0},{key:"details",label:"Details",sortable:!1},{key:"actions",label:"Action",class:"text-center"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],todel:null,cacheexam:{}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)({user:function(e){return e.user},quizzes:function(e){return e.quizzes},exams:function(e){return e.exams}})),mounted:function(){},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.quizzes||0!==e.quizzes.length){t.next=3;break}return t.next=3,e.$store.dispatch("getCollection","quizzes").then((function(){}));case 3:if(!e.exams||0!==e.exams.length){t.next=6;break}return t.next=6,e.$store.dispatch("getCollection","exams").then((function(){e.totalRows=e.exams.length}));case 6:case"end":return t.stop()}}),t)})))()},methods:{onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},exportscore:function(){},mmss:function(e){return l.a.mmss(e)},hhmmss:function(e){return l.a.hhmmss(e)}},watch:{}},m=(r(762),r(33)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"qpanel"},[r("b-row",[r("b-col",{staticClass:"my-1",attrs:{md:"4"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1)],1),e._v(" "),r("b-col",{staticClass:"my-1",attrs:{md:"2"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"N","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[r("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),e._v(" "),r("b-col",{staticClass:"my-1",attrs:{md:"6"}},[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),e._v(" "),r("b-table",{staticClass:"mt-3",attrs:{"show-empty":"",small:"",stacked:"md",selectable:!0,"select-mode":"range",items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){return[r("b-button-group",[r("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(r){return e.exportscore(t.item)}}},[e._v("\n          Export\n        ")])],1)]}}])})],1)}),[],!1,null,"5ea817ae",null);t.a=component.exports},791:function(e,t,r){"use strict";r(5),r(2),r(3),r(1),r(4),r(58);var n=r(14),o=r(0),l=r(744),c=r(83);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var d={data:function(){return{items:[],fields:[{key:"title",label:"Title",sortable:!0,sortDirection:"desc"},{key:"totalscore",label:"Score",sortable:!0},{key:"timelimit",label:"Time",sortable:!0},{key:"usercount",label:"User Count",sortable:!0}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],todel:null,cachequiz:{}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)({user:function(e){return e.user},quizzes:function(e){return e.quizzes},exams:function(e){return e.exams},params:function(e){return e.params}})),mounted:function(){this.totalRows=this.items.length},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.quizzes||0!==e.quizzes.length){t.next=3;break}return t.next=3,e.$store.dispatch("getCollection","quizzes").then((function(){}));case 3:if(!e.exams||0!==e.exams.length){t.next=6;break}return t.next=6,e.$store.dispatch("getCollection","exams").then((function(){}));case 6:e.items=e.exams.map((function(t){var r=JSON.parse(JSON.stringify(t));return e.params.examcount&&e.params.examcount[t.id]?r.usercount=e.params.examcount[t.id]:r.usercount=-1,r})),e.totalRows=e.items.length;case 8:case"end":return t.stop()}}),t)})))()},methods:{onRowSelected:function(e){this.$emit("rowSelected",e)},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},quizbyid:function(e){if(this.cachequiz[e])return this.cachequiz[e];for(var i=0;i<this.quizzes.length;i++)if(this.quizzes[i].id===e)return this.cachequiz[e]=this.quizzes[i],this.quizzes[i];return null},quiztitle:function(e){if(this.cachequiztitle[e])return this.cachequiztitle[e];for(var i=0;i<this.quizzes.length;i++)if(this.quizzes[i].id===e)return this.cachequiztitle[e]=this.quizzes[i].title,this.quizzes[i].title;return"Unknown"},mmss:function(e){return l.a.mmss(e)},hhmmss:function(e){return l.a.hhmmss(e)}},watch:{exams:function(e){this.totalRows=this.exams.length}}},m=(r(764),r(33)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"qpanel"},[r("b-row",[r("b-col",{staticClass:"my-1",attrs:{md:"4"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1)],1),e._v(" "),r("b-col",{staticClass:"my-1",attrs:{md:"2"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"N","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[r("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),e._v(" "),r("b-col",{staticClass:"my-1",attrs:{md:"6"}},[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),e._v(" "),r("b-modal",{attrs:{id:"modal-delete",title:"確認刪除"},on:{ok:function(t){return e.deleteexam()}}},[r("p",{staticClass:"my-4"},[e._v(e._s(e.todel&&e.todel.title))])]),e._v(" "),r("b-table",{staticClass:"mt-3",attrs:{"show-empty":"",small:"",stacked:"md",selectable:!0,"select-mode":"single",items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered,"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(usercount)",fn:function(data){return[data.value<0?r("span",[e._v("?")]):r("span",[e._v(e._s(data.value))])]}}])})],1)}),[],!1,null,"52431adf",null);t.a=component.exports},899:function(e,t,r){"use strict";r.r(t);r(5),r(2),r(3),r(1),r(4),r(58);var n=r(14),o=r(0),l=r(83),c=r(790),f=r(791),d=r(19);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var h={components:{ScoreMan:c.a,ExamManLite:f.a},data:function(){return{thedate:"",showResults:null,selectedUser:null,totalRows:0,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterstr:null,filterOn:[],fields:[{key:"name",label:"Name",sortable:!0,sortDirection:"desc"},{key:"dept",label:"Dept",sortable:!0},{key:"stdID",label:"StdID",sortable:!0},{key:"grade",label:"Grade",sortable:!0}]}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(l.b)({user:function(e){return e.user},users:function(e){return e.users}})),mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.users||0!==e.users.length){t.next=3;break}return t.next=3,e.$store.dispatch("getCollection","users");case 3:console.log("Users",e.users);case 4:case"end":return t.stop()}}),t)})))()},methods:{clearfilter:function(){this.filter="",this.filterstr="",this.showResults=""},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},rowselected:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.selectedUser=e[0],""!=t.thedate&&t.selectedUser){r.next=3;break}return r.abrupt("return");case 3:t,n="",t.livelisten=d.c.collection("answers").where("userid","==",t.selectedUser.id).where("date","==",t.thedate).get().then((function(e){e.docs.forEach((function(e){var t=e.data().submits;t&&t.forEach((function(e){var t=JSON.stringify(e,null,2);n+="\n"+t}))})),t.showResults=n}));case 6:case"end":return r.stop()}}),r)})))()}}},v=r(33),component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("h2",{staticClass:"my-4"},[e._v("Check Answer")]),e._v(" "),r("b-row",[r("b-col",{staticClass:"my-1",attrs:{md:"2"}},[r("b-form-input",{attrs:{size:"sm",placeholder:"20201020"},model:{value:e.thedate,callback:function(t){e.thedate=t},expression:"thedate"}})],1),e._v(" "),r("b-col",{staticClass:"my-1",attrs:{md:"4"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:e.filterstr,callback:function(t){e.filterstr=t},expression:"filterstr"}}),e._v(" "),r("b-input-group-append",[r("b-button",{attrs:{variant:"outline-success",disabled:!e.filterstr},on:{click:function(t){e.filter=e.filterstr}}},[e._v("Search")]),e._v(" "),r("b-button",{attrs:{variant:"outline-success",disabled:!e.filterstr},on:{click:e.clearfilter}},[e._v("X")])],1)],1)],1)],1),e._v(" "),r("b-col",{staticClass:"my-1",attrs:{md:"2"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"N","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[r("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),e._v(" "),r("b-col",{staticClass:"my-1",attrs:{md:"4"}},[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),e._v(" "),r("b-table",{staticClass:"mt-3",attrs:{"show-empty":"",small:"",stacked:"md",selectable:!0,"select-mode":"single",responsive:!0,items:e.users,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered,"row-selected":e.rowselected}}),e._v(" "),r("div",[r("pre",[e._v(e._s(e.showResults))])])],1)}),[],!1,null,null,null);t.default=component.exports}}]);