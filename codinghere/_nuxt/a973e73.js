(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1211:function(t,e,n){"use strict";n(904)},1212:function(t,e,n){(e=n(60)(!1)).push([t.i,".qlabel[data-v-2c269f1d]{color:#00f}.qright[data-v-2c269f1d]{color:green}.qwrong[data-v-2c269f1d]{color:red}.person[data-v-2c269f1d]{color:#fff;background:#4d4dec;font-size:120%;padding:6px;text-align:center;margin-bottom:16px}.item[data-v-2c269f1d]{margin-top:12px}",""]),t.exports=e},1298:function(t,e,n){"use strict";n.r(e);n(10),n(14),n(103),n(15),n(49);var r=n(8),o=(n(844),n(32)),c={data:function(){return{records:{},username:"",showCode:!1,pgKey:"Coding",exam:null,problems:{},problem:null,initCode:"",lang:"",usubmits:{},answers:null}},created:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.username=decodeURIComponent(t.$route.hash.substring(2)),t.exam){e.next=6;break}return e.next=4,o.d.collection("exams").doc(t.$route.params.eid).get();case 4:n=e.sent,t.exam=n.data();case 6:if(0!==Object.keys(t.problems).length){e.next=11;break}return e.next=9,o.d.collection("problems").doc("BASE").get();case 9:r=e.sent,t.problems=r.data();case 11:if(t.answers){e.next=16;break}return e.next=14,o.d.collection("answers").where("examid","==",t.$route.params.eid).where("userid","==",t.$route.params.user).get();case 14:(c=e.sent).empty||c.docs.forEach((function(e){console.log("Answers",e.data()),t.answers=e.data(),t.usubmits=t.answers.submits}));case 16:case"end":return e.stop()}}),e)})))()},methods:{submit:function(t){console.log("K",t)},record:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("DATE",n.answers.date),e.next=3,o.d.collection("submits").where("uid","==",n.$route.params.user).where("pid","==",t.id).where("created",">",n.answers.date).get();case 3:if(r=e.sent,console.log("RCS",r),!r.empty){for(c={},i=0;i<r.docs.length;i++)c[r.docs[i].id]=r.docs[i].data();n.records=c,console.log("RECORDS",c)}case 6:case"end":return e.stop()}}),e)})))()},codetest:function(t,e){this.problem=t,this.initCode=e.uans,this.lang=e.lang,this.showCode=!0},quizhead:function(t,e){var n=e.correct?"O":"X";return"(".concat(n,") [").concat({singlechoice:"選擇",fillin:"填充",functest:"函式",progtest:"程式"}[t.type],"] ").concat(this.$selectUserLocaleText(t.title)," (T=").concat(e.usetime,")")},showAnswer:function(t){var e=this.problems[t.qid];if(e){var n=t.correct?"O":"X";if("singlechoice"==e.type)return"("+n+") "+e.title+" "+e.question+" "+JSON.stringify(e.options,null,2)+" Ans:"+(t.answer+1)+" User:"+(t.user+1);if("fillin"==e.type)return"("+n+") "+e.title+" "+e.question+" Ans:"+(t.answer+1)+" User:"+(t.user+1);if("progtest"==e.type)return"<b-button>TEST</b-button>("+n+") "+e.title+" "+t.uans;if("functest"==e.type)return"("+n+") "+e.title+" "+t.uans}}}},l=(n(1211),n(55)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[n("b-modal",{attrs:{size:"xl",title:"Code Checking"},model:{value:t.showCode,callback:function(e){t.showCode=e},expression:"showCode"}},[n("problem-solver",{attrs:{problem:t.problem,initCode:t.initCode,lang:t.lang},on:{submit:t.submit}})],1),t._v(" "),t.answers&&t.exam?n("div",[t._v("\n        "+t._s(t.answers.examname)+" -- "+t._s(t.answers.date)+" -- "+t._s(t.username)+"\n\n        "),n("span",{staticClass:"ml-3"},[t._v("Score = "+t._s(t.answers.score))]),t._v(" "),n("span",{staticClass:"ml-3"},[t._v("UseTime = "+t._s(t.answers.totaltime))]),t._v(" "),t._l(t.exam.probs,(function(e,r){return n("div",{key:e.id},[t.usubmits[e.id]&&e&&"progtest"==e.type?n("div",{staticClass:"item"},[t._v("\n                "+t._s(r+1)+". "),n("span",{staticClass:"qlabel"},[t._v(t._s(t.quizhead(e,t.usubmits[e.id])))]),t._v(" "),n("b-button",{attrs:{size:"sm",variant:t.usubmits[e.id].correct?"outline-success":"outline-danger"},on:{click:function(n){return t.codetest(e,t.usubmits[e.id])}}},[t._v("程式碼")]),t._v(" "),n("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(n){return t.record(e,t.usubmits[e.id])}}},[t._v("提交記錄")])],1):t._e()])}))],2):t._e(),t._v(" "),t._l(t.records,(function(e,r,o){return n("p",{key:r},[t._v("\n        "+t._s(o+1)+". "+t._s(r)+" ==> "+t._s(e)+"\n    ")])}))],2)}),[],!1,null,"2c269f1d",null);e.default=component.exports;installComponents(component,{ProblemSolver:n(852).default})},844:function(t,e,n){"use strict";n(10),n(14),n(22),n(103),n(9),n(845),n(27),n(15);var r=n(227),o=n.n(r),c={pad:function(t){return("0"+t).slice(-2)},mmss:function(t){var e=Math.floor(t/60);return t%=60,"".concat(this.pad(e),":").concat(this.pad(t))},hhmmss:function(t){var e=Math.floor(t/60);t%=60;var n=Math.floor(e/60);return e%=60,"".concat(this.pad(n),":").concat(this.pad(e),":").concat(this.pad(t))},getToday:function(){var t=new Date,dd=String(t.getDate()).padStart(2,"0"),e=String(t.getMonth()+1).padStart(2,"0");return t.getFullYear()+e+dd},getNow:function(){var t=new Date;return""+t.getFullYear()+this.pad(t.getMonth()+1)+this.pad(t.getDate())+this.pad(t.getHours())+this.pad(t.getMinutes())+this.pad(t.getSeconds())},obj2arr:function(t){var e=[],n=Object.keys(t);return n.sort(),n.forEach((function(n){e.push(Object.assign({id:n},t[n]))})),e},arr2obj:function(t){var e={};return t.forEach((function(t){var n=JSON.parse(JSON.stringify(t)),r=t.id;delete n.id,e[r]=n})),e},getOptions:function(t){var e=[];return t.split("#@@#").forEach((function(t){var s=t.split("#@");e.push({text:s[0],value:s[1]})})),e},findIdPos:function(t,e){if(!t)return-1;for(var n=0;n<t.length;n++)if(e==t[n].id)return n;return-1},encode:function(t,e){return new o.a(t).encrypt(e)},decode:function(t,e){return new o.a(t).decrypt(e)}};e.a=c},845:function(t,e,n){"use strict";var r=n(7),o=n(846).start;r({target:"String",proto:!0,forced:n(847)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},846:function(t,e,n){var r=n(50),o=n(228),c=n(52),l=Math.ceil,d=function(t){return function(e,n,d){var f,m,h=String(c(e)),v=h.length,w=void 0===d?" ":String(d),x=r(n);return x<=v||""==w?h:(f=x-v,(m=o.call(w,l(f/w.length))).length>f&&(m=m.slice(0,f)),t?h+m:m+h)}};t.exports={start:d(!1),end:d(!0)}},847:function(t,e,n){var r=n(127);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},904:function(t,e,n){var content=n(1212);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(61).default)("3c83b2f4",content,!0,{sourceMap:!1})}}]);