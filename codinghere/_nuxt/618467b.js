(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1043:function(e,t,r){"use strict";r(896)},1044:function(e,t,r){(t=r(59)(!1)).push([e.i,'h1[data-v-05dd29da]{color:#00f;font-family:"Arial";font-size:120%;margin:24px 0}h2[data-v-05dd29da]{color:#8509eb;font-size:110%;margin:12px 0 20px}.showPanel[data-v-05dd29da]{margin:30px 30px 60px 45px}',""]),e.exports=t},1076:function(e,t,r){"use strict";r.r(t);r(30),r(28),r(104),r(54);var n=r(10),o=r(840),c=r(34),l={asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$content,t.next=3,r("playground").fetch();case 3:return n=t.sent,t.abrupt("return",{playground:n});case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{pgKey:"Coding",mycourses:{},pgcourse:{},pgbase:{},pgproblems:[],mycoursesAll:{},tabIndex:0,localeText:{UserRecords_NoRecords:"尚未有任何學習記錄",UserRecords_TotalScore:"總共得分",UserRecords_Problem:"問題",UserRecords_Score:"得分",UserRecords_RecentRecords:"最近提交記錄",AdminProblem_Playground:"練習廣場"}}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c,l,d,i,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.localeText=e.$updateLocaleText(e.localeText),e.playground&&(r=e.playground.KEY,n=e.playground.DATA,e.pgproblems=o.a.decode(r,n)),c=e.$user("courses"),l={},!c){t.next=17;break}c.playground&&(e.pgcourse=c.playground),t.t0=regeneratorRuntime.keys(c);case 7:if((t.t1=t.t0()).done){t.next=17;break}if("playground"==(d=t.t1.value)){t.next=15;break}return e.mycourses[d]=c[d],t.next=13,e.$store.dispatch("getCourse",d);case 13:if(l[d]=t.sent,l[d].units)for(i=0;i<l[d].units.length;i++)f=l[d].units[i],e.mycourses[d].units&&e.mycourses[d].units[f.name]&&(f.user=e.mycourses[d].units[f.name]);else l[d].units=[];case 15:t.next=7;break;case 17:e.pgcourse&&e.pgcourse.units&&e.pgcourse.units.base||(e.pgcourse={name:"playground",units:{base:{}}}),e.mycoursesAll=l,e.$nextTick((function(){e.tabIndex=0}));case 20:case"end":return t.stop()}}),t)})))()},methods:{showTab:function(){console.log("TI",this.tabIndex)},doProblem:function(e,t,r){if(o.a.getNow()<t.endDate){var n=o.a.encode(this.pgKey,r);this.$store.commit("setParam",{name:"probSet",value:{courseID:e.id,courseName:e.name,courseUnit:t.name,problem:n}}),this.$router.push("/user/coding")}},probScore:function(e,t){return e.user&&e.user.probs&&e.user.probs[t.id]&&e.user.probs[t.id].score?e.user.probs[t.id].score:0},validDate:function(e){return o.a.getNow().substring(0,8)>=e.startDate},getUnits:function(e){return this.mycoursesAll[e]?this.mycoursesAll[e].units:[]},total:function(e){var t=0;if(e.units)for(var i=0;i<e.units.length;i++){var r=e.units[i];r.user&&(t+=r.user.score)}return t},doPGProblem:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var l,d,f,m,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!1,!((l=o.a.findIdPos(r.pgproblems,e))>=0)){n.next=11;break}return d=o.a.encode(r.pgKey,JSON.stringify(r.pgproblems[l])),n.next=6,c.d.collection("submits").doc(t).get();case 6:f=n.sent,m=f.data(),v={lang:m.lang,code:m.code},r.$store.commit("setParam",{name:"probSet",value:{courseID:"playground",courseName:"playground",courseUnit:"base",problem:d,initCode:v}}),r.$router.push("/user/coding");case 11:case"end":return n.stop()}}),n)})))()}}},d=(r(1043),r(70)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"showPanel"},[e.pgcourse||Object.keys(e.mycoursesAll).length>0?r("div",[r("b-tabs",{model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[e._l(e.mycoursesAll,(function(t,n){return r("b-tab",{key:n,attrs:{title:t.name}},[r("div",{staticClass:"ml-2 mr-4"},[r("h1",[e._v(e._s(e.localeText.UserRecords_TotalScore)+" = "+e._s(e.total(t)))]),e._v(" "),e._l(t.units,(function(n,o){return r("div",{key:n.id},[e.validDate(n)?r("div",[r("p",{staticClass:"mb-2"},[e._v(e._s(o+1)+". "+e._s(n.name)+" ("+e._s(n.startDate)+"-"+e._s(n.endDate)+")\n                                SCORE = \n                                "),n.user?r("span",[e._v(e._s(n.user.score))]):r("span",[e._v("0")])]),e._v(" "),r("p",e._l(n.probs,(function(o,c){return r("span",{key:o.id,staticClass:"ml-3 text-primary"},[e._v("\n                                    ("+e._s(c+1)+")\n                                    "),r("b-link",{class:e.probScore(n,o)>59?"text-success":"text-danger",on:{click:function(r){return e.doProblem(t,n,o)}}},[e._v("\n                                        "+e._s(e.$selectUserLocaleText(o.title))+" ["+e._s(e.probScore(n,o))+"]\n                                    ")])],1)})),0)]):e._e()])}))],2)])})),e._v(" "),r("b-tab",{attrs:{title:e.localeText.AdminProblem_Playground}},[e.pgcourse.units&&e.pgcourse.units.base&&e.pgcourse.units.base.probs&&Object.keys(e.pgcourse.units.base.probs).length>0?r("div",{staticClass:"ml-2 mr-4"},[r("h1",[e._v(e._s(e.localeText.UserRecords_TotalScore)+" = "+e._s(e.pgcourse.units.base.score))]),e._v(" "),r("p",{staticClass:"mt-2 mb-0 p-0 d-flex justify-content-start"},[r("span",{staticStyle:{width:"300px"}},[e._v(e._s(e.localeText.UserRecords_Problem))]),e._v(" "),r("span",{staticStyle:{display:"inline-block",width:"50px","text-align":"center"}},[e._v(e._s(e.localeText.UserRecords_Score))]),e._v(" "),r("span",{staticStyle:{width:"150px"}}),e._v(" "),r("span",{staticStyle:{width:"300px"}},[e._v(e._s(e.localeText.UserRecords_RecentRecords))])]),e._v(" "),r("hr",{staticClass:"p-0 mt-2"}),e._v(" "),e._l(e.pgcourse.units.base.probs,(function(t,n,o){return r("p",{key:n,staticClass:"mt-2 d-flex justify-content-start"},[r("span",{staticStyle:{width:"300px"}},[e._v("\n                            "+e._s(o+1)+". \n                            "),r("b-link",{staticClass:"ml-2",class:t.score>60?"text-success":"text-danger",on:{click:function(r){return e.doPGProblem(n,t.last5[0])}}},[e._v(e._s(e.$selectUserLocaleText(t.title)))])],1),e._v(" "),r("span",{staticStyle:{display:"inline-block",width:"50px","text-align":"center"}},[e._v(e._s(t.score))]),e._v(" "),r("span",{staticStyle:{width:"150px"}}),e._v(" "),r("span",{staticStyle:{width:"300px"}},e._l(t.last5.slice(1),(function(t){return r("span",{key:t},[r("b-link",{staticClass:"mr-3",on:{click:function(r){return e.doPGProblem(n,t)}}},[e._v(e._s(t.substring(0,4)))])],1)})),0)])}))],2):r("div",{staticClass:"ml-2 mt-4"},[e._v("\n                    "+e._s(e.localeText.UserRecords_NoRecords)+"\n                ")])])],2)],1):r("div",[e._v("\n        "+e._s(e.localeText.UserRecords_NoRecords)+"\n    ")])])}),[],!1,null,"05dd29da",null);t.default=component.exports},840:function(e,t,r){"use strict";r(9),r(14),r(22),r(103),r(8),r(841),r(27),r(15);var n=r(227),o=r.n(n),c={pad:function(e){return("0"+e).slice(-2)},mmss:function(e){var t=Math.floor(e/60);return e%=60,"".concat(this.pad(t),":").concat(this.pad(e))},hhmmss:function(e){var t=Math.floor(e/60);e%=60;var r=Math.floor(t/60);return t%=60,"".concat(this.pad(r),":").concat(this.pad(t),":").concat(this.pad(e))},getToday:function(){var e=new Date,dd=String(e.getDate()).padStart(2,"0"),t=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+t+dd},getNow:function(){var e=new Date;return""+e.getFullYear()+this.pad(e.getMonth()+1)+this.pad(e.getDate())+this.pad(e.getHours())+this.pad(e.getMinutes())+this.pad(e.getSeconds())},obj2arr:function(e){var t=[],r=Object.keys(e);return r.sort(),r.forEach((function(r){t.push(Object.assign({id:r},e[r]))})),t},arr2obj:function(e){var t={};return e.forEach((function(e){var r=JSON.parse(JSON.stringify(e)),n=e.id;delete r.id,t[n]=r})),t},getOptions:function(e){var t=[];return e.split("#@@#").forEach((function(e){var s=e.split("#@");t.push({text:s[0],value:s[1]})})),t},findIdPos:function(e,t){if(!e)return-1;for(var r=0;r<e.length;r++)if(t==e[r].id)return r;return-1},encode:function(e,t){return new o.a(e).encrypt(t)},decode:function(e,t){return new o.a(e).decrypt(t)}};t.a=c},841:function(e,t,r){"use strict";var n=r(7),o=r(842).start;n({target:"String",proto:!0,forced:r(843)},{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},842:function(e,t,r){var n=r(48),o=r(228),c=r(51),l=Math.ceil,d=function(e){return function(t,r,d){var f,m,v=String(c(t)),_=v.length,h=void 0===d?" ":String(d),x=n(r);return x<=_||""==h?v:(f=x-_,(m=o.call(h,l(f/h.length))).length>f&&(m=m.slice(0,f)),e?v+m:m+v)}};e.exports={start:d(!1),end:d(!0)}},843:function(e,t,r){var n=r(127);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},896:function(e,t,r){var content=r(1044);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(60).default)("5d0994c6",content,!0,{sourceMap:!1})}}]);