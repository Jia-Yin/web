(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{1130:function(e,t,r){var content=r(1348);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(57).default)("bb174262",content,!0,{sourceMap:!1})},1347:function(e,t,r){"use strict";r(1130)},1348:function(e,t,r){(t=r(56)(!1)).push([e.i,".container[data-v-4c04bf87]{margin:30px auto;padding:10px}",""]),e.exports=t},1454:function(e,t,r){"use strict";r.r(t);r(49);var n=r(7),o=r(26),c={middleware:"no_authentication",layout:"empty",data:function(){return{email:null,password:null,done:!1}},head:function(){return{script:[{src:"https://telegram.org/js/telegram-web-app.js"}]}},computed:{tid:function(){var e=this.$route.query.q;try{return"TID="===(e=atob(e)).substring(0,4)?e.substring(4):null}catch(e){return null}}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.tid){t.next=2;break}return t.abrupt("return",e.$router.push("/"));case 2:return t.next=4,e.$store.dispatch("logout");case 4:console.log("TID",e.tid);case 5:case"end":return t.stop()}}),t)})))()},updated:function(){this.done||(console.log("Updated!"),window.Telegram.WebApp.ready(),window.Telegram.WebApp.expand(),this.done=!0)},methods:{login:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.c.signInWithEmailAndPassword(e.email,e.password);case 3:return r=o.c.currentUser,(p={})[e.tid]=r.uid,t.next=8,o.d.collection("users").doc("telegram").get();case 8:if(!t.sent.exists){t.next=14;break}return t.next=12,o.d.collection("users").doc("telegram").update(p);case 12:t.next=16;break;case 14:return t.next=16,o.d.collection("users").doc("telegram").set(p);case 16:return t.next=18,e.$store.dispatch("logout");case 18:return window.Telegram.WebApp.sendData("OK"),window.Telegram.WebApp.close(),t.abrupt("return",e.$router.push("/telegram_OK"));case 23:return t.prev=23,t.t0=t.catch(0),console.log("Error",t.t0),t.abrupt("return",e.$router.push("/telegram_Fail"));case 27:case"end":return t.stop()}}),t,null,[[0,23]])})))()}}},l=(r(1347),r(55)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("script",{attrs:{type:"application/javascript",defer:"",src:"https://telegram.org/js/telegram-web-app.js"}}),e._v(" "),r("b-input",{staticClass:"mb-4",attrs:{type:"email",placeholder:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),r("b-input",{staticClass:"mb-4",attrs:{type:"password",placeholder:"Password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),r("p",{attrs:{align:"center"}},[r("b-button",{attrs:{variant:"success"},on:{click:e.login}},[e._v("Login")])],1)],1)}),[],!1,null,"4c04bf87",null);t.default=component.exports}}]);