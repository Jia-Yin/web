(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1056:function(e,t,r){"use strict";r.r(t);r(9),r(18),r(11),r(156),r(29),r(87),r(28),r(41),r(841),r(54);var n=r(14),o=r(0),c=r(79),l=r(226),d=r(45),m=r(845),f=r(840),h=r(852);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var x={components:{ItemList:m.default,UserSelector:h.default},data:function(){return{cnLang:"en",courseNews:null,selectUser:!1,newUser:null,kind:"",probStat:{},lastCID:0,courses:[],students:[],curCourse:null,curCourseAll:null,curUnit:null,showItem:"List",infoAlert:!1,editMode:!1,pgproblems:[],info:{title:"",message:""},locales:[{zh:"中文"}],courseForm:{name:"",teachers:[],assistants:[],school:"",dept:"",enrollCode:"",codeExpiredDate:"",codeExpiredTime:"",needApproval:!0,whitelist:"",note:""},localeText:{AdminCourse_Title:"課程",Common_Edit:"編輯",Common_Copy:"複製",Common_New:"新增"}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)({user:function(e){return e.user},locale:function(e){return e.user.locale},system:function(e){return e.system}})),created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,i,c,m,f,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.system.locales&&e.locale in e.system.locales.support&&(e.localeText=l.a.updateParams(e.system.locales[e.locale],e.localeText)),t.next=3,d.d.collection("courses").doc("LIST").get();case 3:if(!(r=t.sent).exists){t.next=40;break}n=r.data(),(o=Object.keys(n)).sort(),i=0;case 9:if(!(i<o.length)){t.next=39;break}if((c=n[o[i]]).id=o[i],"admin"!=e.user.role&&"maintainer"!=e.user.role){t.next=16;break}e.courses.push(c),t.next=36;break;case 16:if(m=!1,!c.teachers){t.next=26;break}f=0;case 19:if(!(f<c.teachers.length)){t.next=26;break}if(c.teachers[f].id!=e.user.id){t.next=23;break}return m=!0,t.abrupt("break",26);case 23:f++,t.next=19;break;case 26:if(m||!c.assistants){t.next=35;break}h=0;case 28:if(!(h<c.assistants.length)){t.next=35;break}if(c.assistants[h].id!=e.user.id){t.next=32;break}return m=!0,t.abrupt("break",35);case 32:h++,t.next=28;break;case 35:m&&e.courses.push(c);case 36:i++,t.next=9;break;case 39:e.lastCID=e.courses.length-1;case 40:case"end":return t.stop()}}),t)})))()},methods:{localeNews:function(e,t){return f.a.selectLocaleText(e,t)},setCourseNews:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(JSON.stringify(e.courseNews)),n={news:r},t.next=4,d.d.collection("courses").doc(e.curCourse.id).update(n);case 4:e.$set(e.curCourseAll,"news",r),e.infoAlert=!0,e.info={title:"News",message:"OK"};case 7:case"end":return t.stop()}}),t)})))()},prepareNews:function(){this.courseNews=Object.assign({},this.curCourseAll.news)},prepareStudents:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,i,o,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.d.collection("courses").doc(e.curCourseAll.id).collection("tasks").where("type","==","enroll").get();case 2:if((r=t.sent).empty){t.next=18;break}n=e.curCourseAll.students?JSON.parse(JSON.stringify(e.curCourseAll.students)):{},i=0;case 6:if(!(i<r.docs.length)){t.next=15;break}return o=r.docs[i],data=o.data(),n[o.id]={name:data.name,stdID:data.stdID},t.next=12,d.d.collection("courses").doc(e.curCourseAll.id).collection("tasks").doc(o.id).delete();case 12:i++,t.next=6;break;case 15:return t.next=17,d.d.collection("courses").doc(e.curCourseAll.id).update({students:n});case 17:e.$set(e.curCourseAll,"students",n);case 18:e.students=f.a.obj2arr(e.curCourseAll.students);case 19:case"end":return t.stop()}}),t)})))()},removeUser:function(e,t){this.courseForm[e].splice(t,1)},getUser:function(e){this.kind=e,this.selectUser=!0},addUser:function(e){this.courseForm[this.kind]?this.courseForm[this.kind].push(e):this.$set(this.courseForm,this.kind,[e]),this.selectUser=!1},showNames:function(e){return e&&0!=e.length?e.map((function(e){return e.name})).join(", "):null},showPGProblem:function(e){var t=f.a.selectLocaleText(e.title,this.locale);if(this.probStat[e.id]){var r=this.probStat[e.id];t+=" (".concat(r.TP,"/").concat(r.TS,")")}else t+=" (0/0)";return t},preparePlayground:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,i,l,m,h,v,x;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.d.collection("problems").doc("STAT").get();case 2:if((r=t.sent).exists){t.next=10;break}return n={updated:f.a.getNow()},t.next=7,d.d.collection("problems").doc("STAT").set(n);case 7:o=n,t.next=12;break;case 10:(o=r.data()).updated=f.a.getNow();case 12:return t.next=14,d.d.collection("courses").doc("playground").collection("tasks").get();case 14:if((c=t.sent).empty){t.next=31;break}i=0;case 17:if(!(i<c.docs.length)){t.next=29;break}if(l=c.docs[i],"submit"!=(m=l.data()).type){t.next=26;break}return o[m.pid]||(o[m.pid]={TS:0,TP:0}),o[m.pid].TS+=1,"AC"==m.status&&(o[m.pid].TP+=1),t.next=26,d.d.collection("courses").doc("playground").collection("tasks").doc(l.id).delete();case 26:i++,t.next=17;break;case 29:return t.next=31,d.d.collection("problems").doc("STAT").set(o);case 31:return e.probStat=o,t.next=34,e.$content("playground").fetch();case 34:(h=t.sent)&&(v=h.KEY,x=h.DATA,e.pgproblems=f.a.decode(v,x));case 36:case"end":return t.stop()}}),t)})))()},showCourse:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.curCourse=e,r.next=3,d.d.collection("courses").doc(e.id).get();case 3:if((n=r.sent).exists||"playground"!=e.id){r.next=10;break}return r.next=7,d.d.collection("courses").doc("playground").set({name:"Playground"});case 7:t.curCourseAll={name:"Playground",id:"playground"},r.next=12;break;case 10:t.curCourseAll=n.data(),t.curCourseAll.id=n.id;case 12:if("playground"!=e.id){r.next=15;break}return r.next=15,t.preparePlayground();case 15:t.showItem="showCourse";case 16:case"end":return r.stop()}}),r)})))()},showUnit:function(){},home:function(){this.showItem="List",this.curCourse=null},courseLabel:function(e){var t=e.name;return e.teacher&&e.note?t+=" (".concat(e.teacher," / ").concat(e.note,")"):e.teacher?t+=" (".concat(e.teacher,")"):e.note&&(t+=" (".concat(e.note,")")),t},addCourse:function(){this.curCourse||(this.editMode=!1,this.showItem="updateCourse")},updateCourse:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,i,c,l,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.courseForm.codeExpiredDate&&e.courseForm.codeExpiredDate.length>0?(r=e.courseForm.codeExpiredDate.replaceAll("-",""),e.courseForm.codeExpiredTime&&e.courseForm.codeExpiredTime.length>0?r+=e.courseForm.codeExpiredTime.replaceAll(":",""):r+="235959",e.courseForm.codeExpired=r):e.courseForm.codeExpiredTime&&e.courseForm.codeExpiredTime.length>0?(n=f.a.getNow(),e.courseForm.codeExpired=n.substring(0,8)+e.courseForm.codeExpiredTime.replaceAll(":","")):delete e.courseForm.codeExpired,delete(o=JSON.parse(JSON.stringify(e.courseForm))).codeExpiredDate,delete o.codeExpiredTime,!e.editMode){t.next=24;break}return o.id&&delete o.id,t.next=8,d.d.collection("courses").doc(e.curCourse.id).update(o);case 8:o.id=e.curCourse.id,i=0;case 10:if(!(i<e.courses.length)){t.next=17;break}if(e.courses[i].id!=o.id){t.next=14;break}return e.courses[i]=o,t.abrupt("break",17);case 14:i++,t.next=10;break;case 17:return c=f.a.arr2obj(e.courses),t.next=20,d.d.collection("courses").doc("LIST").set(c);case 20:e.infoAlert=!0,e.info={title:"Update",message:"OK"},t.next=36;break;case 24:return o.id&&delete o.id,e.lastCID+=1,l="C"+e.lastCID.toString().padStart(6,"0"),t.next=29,d.d.collection("courses").doc(l).set(o);case 29:return o.id=l,e.courses.push(o),m=f.a.arr2obj(e.courses),t.next=34,d.d.collection("courses").doc("LIST").set(m);case 34:e.infoAlert=!0,e.info={title:"Create",message:"OK"};case 36:case"end":return t.stop()}}),t)})))()},editCourseBasic:function(){this.courseForm=this.curCourse,this.curCourse=this.curCourse,this.editMode=!0,this.showItem="updateCourse"},removeCourse:function(){}}},_=(r(903),r(70)),component=Object(_.a)(x,(function(){var e=this,t=this,r=t.$createElement,n=t._self._c||r;return n("b-container",{attrs:{fluid:""}},[n("b-modal",{attrs:{title:t.info.title},model:{value:t.infoAlert,callback:function(e){t.infoAlert=e},expression:"infoAlert"}},[t._v(t._s(t.info.message))]),t._v(" "),n("div",{staticClass:"panel"},[n("b-breadcrumb",[n("b-breadcrumb-item",{on:{click:t.home}},[n("b-icon",{attrs:{icon:"house-fill",scale:"1.25","shift-v":"1.25","aria-hidden":"true"}}),t._v("\n                "+t._s(t.localeText.AdminCourse_Title)+"\n            ")],1),t._v(" "),t.curCourse?n("b-breadcrumb-item",{on:{click:function(e){return t.showCourse(t.curCourse)}}},[t._v(t._s(t.curCourse.name))]):t._e(),t._v(" "),t.curUnit?n("b-breadcrumb-item",{attrs:{active:""},on:{click:t.showUnit}},[t._v(t._s(t.curUnit.name))]):t._e()],1),t._v(" "),t.curCourse?t._e():n("b-button",{staticClass:"newButton",attrs:{size:"sm",variant:"primary"},on:{click:t.addCourse}},[t._v(t._s(t.localeText.Common_New))]),t._v(" "),"List"==t.showItem?n("item-list",{attrs:{items:t.courses,click:t.showCourse,show:t.courseLabel}}):t._e(),t._v(" "),n("b-modal",{attrs:{size:"lg"},model:{value:t.selectUser,callback:function(e){t.selectUser=e},expression:"selectUser"}},[n("user-selector",{on:{getUser:t.addUser}})],1),t._v(" "),"updateCourse"==t.showItem?n("div",{staticClass:"w-50 mx-auto mt-3"},[n("p",{attrs:{align:"center"}},[t.editMode?n("span",[t._v("Modify Course")]):n("span",[t._v("New Course")])]),t._v(" "),n("p",{staticClass:"ml-2"},[t._v("Teachers: \n                "),t.courseForm.teachers&&t.courseForm.teachers.length>0?n("span",t._l(t.courseForm.teachers,(function(e,r){return n("span",{key:e.id},[t._v("\n                        "+t._s(e.name)+"\n                        "),"admin"==t.user.role||"maintainer"==t.user.role?n("b-link",{staticClass:"mr-3",on:{click:function(e){return t.removeUser("teachers",r)}}},[n("b-icon",{attrs:{icon:"x"}})],1):t._e()],1)})),0):t._e(),t._v(" "),"admin"==t.user.role||"maintainer"==t.user.role?n("button",{staticClass:"ml-3",on:{click:function(e){return t.getUser("teachers")}}},[t._v("Add")]):t._e()]),t._v(" "),n("p",{staticClass:"ml-2"},[t._v("Assistants: \n                "),t.courseForm.assistants&&t.courseForm.assistants.length>0?n("span",t._l(t.courseForm.assistants,(function(e,r){return n("span",{key:e.id},[t._v("\n                        "+t._s(e.name)+"\n                        "),n("b-link",{staticClass:"mr-3",on:{click:function(e){return t.removeUser("assistants",r)}}},[n("b-icon",{attrs:{icon:"x"}})],1)],1)})),0):t._e(),t._v(" "),n("button",{staticClass:"ml-3",on:{click:function(e){return t.getUser("teachers")}}},[t._v("Add")])]),t._v(" "),n("b-input",{staticClass:"mb-3",attrs:{placeholder:"Name"},model:{value:t.courseForm.name,callback:function(e){t.$set(t.courseForm,"name",e)},expression:"courseForm.name"}}),t._v(" "),n("b-input",{staticClass:"mb-3",attrs:{placeholder:"School"},model:{value:t.courseForm.school,callback:function(e){t.$set(t.courseForm,"school",e)},expression:"courseForm.school"}}),t._v(" "),n("b-input",{staticClass:"mb-3",attrs:{placeholder:"Department"},model:{value:t.courseForm.dept,callback:function(e){t.$set(t.courseForm,"dept",e)},expression:"courseForm.dept"}}),t._v(" "),n("b-input",{staticClass:"mb-3",attrs:{placeholder:"enrollCode"},model:{value:t.courseForm.enrollCode,callback:function(e){t.$set(t.courseForm,"enrollCode",e)},expression:"courseForm.enrollCode"}}),t._v(" "),n("b-form-datepicker",{attrs:{placeholder:"Code Expired Date",locale:t.locale,"today-button":"","reset-button":"","close-button":""},model:{value:t.courseForm.codeExpiredDate,callback:function(e){t.$set(t.courseForm,"codeExpiredDate",e)},expression:"courseForm.codeExpiredDate"}}),t._v(" "),n("b-form-timepicker",{attrs:{placeholder:"Code Expired Time",locale:t.locale,"show-seconds":"","reset-button":"","close-button":""},model:{value:t.courseForm.codeExpiredTime,callback:function(e){t.$set(t.courseForm,"codeExpiredTime",e)},expression:"courseForm.codeExpiredTime"}}),t._v(" "),n("p",{staticClass:"my-3 ml-2"},[n("b-form-radio-group",{attrs:{options:[{value:!0,text:"Approval needed"},{value:!1,text:"No approval needed"}]},model:{value:t.courseForm.needApproval,callback:function(e){t.$set(t.courseForm,"needApproval",e)},expression:"courseForm.needApproval"}})],1),t._v(" "),n("b-textarea",{staticClass:"mb-3",attrs:{placeholder:"White List",rows:"5"},model:{value:t.courseForm.whitelist,callback:function(e){t.$set(t.courseForm,"whitelist",e)},expression:"courseForm.whitelist"}}),t._v(" "),n("b-input",{staticClass:"mb-3",attrs:{placeholder:"Note"},model:{value:t.courseForm.note,callback:function(e){t.$set(t.courseForm,"note",e)},expression:"courseForm.note"}}),t._v(" "),n("b-button",{staticClass:"mt-4 w-50 mx-auto",attrs:{pill:"",block:"",variant:"success"},on:{click:t.updateCourse}},[t._v("OK")])],1):t._e(),t._v(" "),"showCourse"==t.showItem?n("div",{staticClass:"mt-3"},["Playground"==t.curCourse.name?n("div",[n("item-list",{attrs:{items:t.pgproblems,show:t.showPGProblem}})],1):n("div",[n("b-tabs",[n("b-tab",{staticClass:"mt-3",attrs:{title:"Basic"}},[n("p",[t._v("Name: "+t._s(t.curCourse.name))]),t._v(" "),n("p",[t._v("Teacher: "+t._s(t.showNames(t.curCourse.teachers)))]),t._v(" "),n("p",[t._v("Assistant: "+t._s(t.showNames(t.curCourse.assistants)))]),t._v(" "),n("p",[t._v("School: "+t._s(t.curCourse.school))]),t._v(" "),n("p",[t._v("Dept: "+t._s(t.curCourse.dept))]),t._v(" "),t.curCourse.enrollCode?n("p",[t._v("EnrollCode: "+t._s(t.curCourse.enrollCode))]):t._e(),t._v(" "),t.curCourse.codeExpired?n("p",[t._v("CodeExpired: "+t._s(t.curCourse.codeExpired))]):t._e(),t._v(" "),t.curCourse.needApproval?n("p",[t._v("NeedApproval: "+t._s(t.curCourse.needApproval))]):t._e(),t._v(" "),t.curCourse.whitelist?n("p",[t._v("WhiteList: "+t._s(t.curCourse.whitelist))]):t._e(),t._v(" "),n("p",[t._v("Note: "+t._s(t.curCourse.note))]),t._v(" "),n("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:t.editCourseBasic}},[t._v("Edit")])],1),t._v(" "),n("b-tab",{staticClass:"mt-3",attrs:{title:"News"},on:{click:t.prepareNews}},[n("b-row",[n("b-col",{attrs:{cols:"6"}},[n("locale-input",{attrs:{rows:12},on:{curLang:function(t){e.cnLang=t}},model:{value:t.courseNews,callback:function(e){t.courseNews=e},expression:"courseNews"}})],1),t._v(" "),n("b-col",{attrs:{cols:"6"}},[n("div",{domProps:{innerHTML:t._s(t.$md.render(t.localeNews(t.courseNews,t.cnLang)))}})])],1),t._v(" "),n("div",{staticClass:"mt-3",staticStyle:{"text-align":"center"}},[n("b-button",{attrs:{size:"sm",pill:"",center:"",variant:"primary"},on:{click:t.setCourseNews}},[t._v("\n                                Update\n                            ")])],1)],1),t._v(" "),n("b-tab",{staticClass:"mt-3",attrs:{title:"Units"}}),t._v(" "),n("b-tab",{staticClass:"mt-3",attrs:{title:"Students"},on:{click:t.prepareStudents}},[n("b-table",{attrs:{items:t.students,fields:[{key:"stdID",sortable:!0},{key:"name",sortable:!0}]}})],1),t._v(" "),n("b-tab",{staticClass:"mt-3",attrs:{title:"Scores"}})],1)],1)]):t._e(),t._v(" "),"newUnit"==t.showItem?n("div",{staticClass:"w-50 mx-auto mt-3"},[n("p",{attrs:{align:"center"}},[t.editMode?n("span",[t._v("Modify Course")]):n("span",[t._v("New Course")])])]):t._e()],1)],1)}),[],!1,null,"16c3a81d",null);t.default=component.exports;installComponents(component,{ItemList:r(845).default,UserSelector:r(852).default,LocaleInput:r(847).default})},840:function(e,t,r){"use strict";r(9),r(12),r(22),r(87),r(841),r(15);var n=r(227),o=r.n(n),c={pad:function(e){return("0"+e).slice(-2)},mmss:function(e){var t=Math.floor(e/60);return e%=60,"".concat(this.pad(t),":").concat(this.pad(e))},hhmmss:function(e){var t=Math.floor(e/60);e%=60;var r=Math.floor(t/60);return t%=60,"".concat(this.pad(r),":").concat(this.pad(t),":").concat(this.pad(e))},getToday:function(){var e=new Date,dd=String(e.getDate()).padStart(2,"0"),t=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+t+dd},getNow:function(){var e=new Date;return""+e.getFullYear()+this.pad(e.getMonth()+1)+this.pad(e.getDate())+this.pad(e.getHours())+this.pad(e.getMinutes())+this.pad(e.getSeconds())},obj2arr:function(e){var t=[],r=Object.keys(e);return r.sort(),r.forEach((function(r){t.push(Object.assign({id:r},e[r]))})),t},arr2obj:function(e){var t={};return e.forEach((function(e){var r=JSON.parse(JSON.stringify(e)),n=e.id;delete r.id,t[n]=r})),t},selectLocaleText:function(e,t){return e?t&&e[t]&&e[t].length>0?e[t]:e.zh&&e.zh.length>0?e.zh:e.en&&e.en.length>0?e.en:"Unknown":""},encode:function(e,t){return new o.a(e).encrypt(t)},decode:function(e,t){return new o.a(e).decrypt(t)}};t.a=c},841:function(e,t,r){"use strict";var n=r(7),o=r(842).start;n({target:"String",proto:!0,forced:r(843)},{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},842:function(e,t,r){var n=r(48),o=r(228),c=r(51),l=Math.ceil,d=function(e){return function(t,r,d){var m,f,h=String(c(t)),v=h.length,x=void 0===d?" ":String(d),_=n(r);return _<=v||""==x?h:(m=_-v,(f=o.call(x,l(m/x.length))).length>m&&(f=f.slice(0,m)),e?h+f:f+h)}};e.exports={start:d(!1),end:d(!0)}},843:function(e,t,r){var n=r(127);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},845:function(e,t,r){"use strict";r.r(t);var n=r(840),o={props:{items:Array,name:{type:String,default:"name"},keyPrefix:{type:String,default:"item"},show:{type:Function,default:null},headVariant:{type:String,default:"dark"},textVariant:{type:String,default:"primary"},editVariant:{type:String,default:"primary"},copyVariant:{type:String,default:"primary"},removeVariant:{type:String,default:"primary"},addVariant:{type:String,default:"primary"},order:{type:Boolean,default:!0},click:{type:Function,default:null},remove:{type:Function,default:null},edit:{type:Function,default:null},copy:{type:Function,default:null},add:{type:Function,default:null},addLabel:{type:String,default:"New"},noEntryLabel:{type:String,default:"No items."}},methods:{itemName:function(e,t){if(this.show)return this.show(e);var r=this.$store.state.user.locale;return r&&e[t]?n.a.selectLocaleText(e[t],r):"Unknown"},itemClass:function(e){return e.variant?"text-"+e.variant:this.textVariant?"text-"+this.textVariant:null}}},c=r(70),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.add?r("p",{attrs:{align:"right"}},[e.add?r("b-button",{attrs:{size:"sm",variant:e.addVariant},on:{click:function(t){return e.add()}}},[e._v("\n            "+e._s(e.addLabel)+"\n        ")]):e._e()],1):e._e(),e._v(" "),e.items&&e.items.length>0?r("div",e._l(e.items,(function(t,n){return r("div",{key:e.keyPrefix+n,staticClass:"itemList d-flex justify-content-between"},[r("span",[e.order?r("span",{staticClass:"mr-2",class:"text-"+e.headVariant},[e._v(e._s(n+1)+".")]):r("span",{staticClass:"mr-2",class:"text-"+e.headVariant},[e._v("•")]),e._v(" "),r("b-link",{staticClass:"itemBody",class:e.itemClass(t),on:{click:function(r){e.click&&e.click(t)}}},[e._v("\n                    "+e._s(e.itemName(t,e.name))+"\n                ")])],1),e._v(" "),e.remove||e.edit||e.copy?r("span",[e.edit?r("b-link",{class:"text-"+e.editVariant,on:{click:function(r){return e.edit(t)}}},[r("b-icon",{attrs:{icon:"pencil"}})],1):e._e(),e._v(" "),e.copy&&e.edit?r("span",{staticClass:"mr-2"}):e._e(),e._v(" "),e.copy?r("b-link",{class:"text-"+e.editVariant,on:{click:function(r){return e.copy(t)}}},[r("b-icon",{attrs:{icon:"back"}})],1):e._e(),e._v(" "),e.remove&&e.copy?r("span",{staticClass:"mr-2"}):e._e(),e._v(" "),e.remove?r("b-link",{class:"text-"+e.removeVariant,on:{click:function(r){return e.remove(t)}}},[r("b-icon",{attrs:{icon:"trash-fill"}})],1):e._e()],1):e._e()])})),0):r("div",[e._v("\n        "+e._s(e.noEntryLabel)+"\n    ")])])}),[],!1,null,"3248a90e",null);t.default=component.exports},846:function(e,t,r){var content=r(850);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(60).default)("2bf05a02",content,!0,{sourceMap:!1})},847:function(e,t,r){"use strict";r.r(t);r(362);var n=r(0),o=(r(226),r(79));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var l={props:{value:Object,rows:{type:Number,default:10}},data:function(){return{locales:[{name:"zh",value:"中文"},{name:"en",value:"English"}],content:{zh:null,en:null}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.b)({user:function(e){return e.user},locale:function(e){return e.user.locale},system:function(e){return e.system}})),created:function(){if(this.system.locales&&this.system.locales.support)for(var e in this.locales=[],this.system.locales.support)this.locales.push({key:e,label:this.system.locales.support[e]});this.value&&(this.content=this.value)},mounted:function(){this.setLang(this.locales[0].key)},methods:{setLang:function(e){this.$emit("curLang",e)},cinput:function(){this.$emit("input",this.content)}},watch:{value:function(e){this.content=e}}},d=(r(849),r(70)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-tabs",e._l(e.locales,(function(t,n){return r("b-tab",{key:"locale"+n,attrs:{title:t.label},on:{click:function(r){return e.setLang(t.key)}}},[r("b-textarea",{attrs:{rows:e.rows},on:{input:e.cinput},model:{value:e.content[t.key],callback:function(r){e.$set(e.content,t.key,r)},expression:"content[lang.key]"}})],1)})),1)],1)}),[],!1,null,"13278d4c",null);t.default=component.exports},849:function(e,t,r){"use strict";r(846)},850:function(e,t,r){(t=r(59)(!1)).push([e.i,"textarea[data-v-13278d4c]{width:100%}",""]),e.exports=t},852:function(e,t,r){"use strict";r.r(t);r(29),r(54);var n=r(14),o=r(45),c={data:function(){return{name:"",candidates:{}}},methods:{selectUser:function(e,t){var r={id:e,name:t.name};this.$emit("getUser",r)},searchUser:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.name.length<2)){t.next=2;break}return t.abrupt("return");case 2:return r={},t.next=5,o.d.collection("users").where("name","==",e.name).get();case 5:if(!(n=t.sent).empty)for(i=0;i<n.docs.length;i++)c=n.docs[i],r[c.id]=c.data();e.candidates=r;case 8:case"end":return t.stop()}}),t)})))()}}},l=r(70),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("p",{attrs:{align:"center"}},[e._v("User name: \n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"ml-2",domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),r("button",{attrs:{size:"sm",variant:"success"},on:{click:e.searchUser}},[e._v("Search")])]),e._v(" "),e._l(e.candidates,(function(t,n,o){return r("p",{key:t.id,attrs:{align:"center"}},[e._v("\n        "+e._s(o+1)+". "),r("b-link",{on:{click:function(r){return e.selectUser(n,t)}}},[e._v(e._s(t.name)+" - "+e._s(t.email))])],1)}))],2)}),[],!1,null,null,null);t.default=component.exports},862:function(e,t,r){var content=r(904);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(60).default)("3383eb89",content,!0,{sourceMap:!1})},903:function(e,t,r){"use strict";r(862)},904:function(e,t,r){(t=r(59)(!1)).push([e.i,'[data-v-16c3a81d] h1{color:#00f;font-family:"Arial";font-size:120%;text-decoration:underline;margin:24px 0}[data-v-16c3a81d] h2{color:#ff4500;font-size:100%;margin:16px 0 8px}[data-v-16c3a81d] .itemList{margin-top:8px}.container-fluid[data-v-16c3a81d]{margin:30px}.panel[data-v-16c3a81d]{margin-right:30px;position:relative}.newButton[data-v-16c3a81d]{position:absolute;top:12px;right:12px}',""]),e.exports=t}}]);