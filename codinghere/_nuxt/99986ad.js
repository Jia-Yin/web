(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{1112:function(t,e,r){"use strict";r.r(e);var n=r(1349),o=n.b.reactiveProp,c={extends:n.a,mixins:[o],props:["clickF"],data:function(){return{ce:"null",options:{responsive:!0,maintainAspectRatio:!1,onClick:null,plugins:{}}}},mounted:function(){this.renderBarChart()},methods:{renderBarChart:function(){var t=this.options;this.clickF&&(t.onClick=this.clickF,this.renderChart(this.chartData,t))}}},l=r(55),component=Object(l.a)(c,void 0,void 0,!1,null,null,null);e.default=component.exports},1300:function(t,e,r){var map={"./af":1114,"./af.js":1114,"./ar":1115,"./ar-dz":1116,"./ar-dz.js":1116,"./ar-kw":1117,"./ar-kw.js":1117,"./ar-ly":1118,"./ar-ly.js":1118,"./ar-ma":1119,"./ar-ma.js":1119,"./ar-sa":1120,"./ar-sa.js":1120,"./ar-tn":1121,"./ar-tn.js":1121,"./ar.js":1115,"./az":1122,"./az.js":1122,"./be":1123,"./be.js":1123,"./bg":1124,"./bg.js":1124,"./bm":1125,"./bm.js":1125,"./bn":1126,"./bn-bd":1127,"./bn-bd.js":1127,"./bn.js":1126,"./bo":1128,"./bo.js":1128,"./br":1129,"./br.js":1129,"./bs":1130,"./bs.js":1130,"./ca":1131,"./ca.js":1131,"./cs":1132,"./cs.js":1132,"./cv":1133,"./cv.js":1133,"./cy":1134,"./cy.js":1134,"./da":1135,"./da.js":1135,"./de":1136,"./de-at":1137,"./de-at.js":1137,"./de-ch":1138,"./de-ch.js":1138,"./de.js":1136,"./dv":1139,"./dv.js":1139,"./el":1140,"./el.js":1140,"./en-au":1141,"./en-au.js":1141,"./en-ca":1142,"./en-ca.js":1142,"./en-gb":1143,"./en-gb.js":1143,"./en-ie":1144,"./en-ie.js":1144,"./en-il":1145,"./en-il.js":1145,"./en-in":1146,"./en-in.js":1146,"./en-nz":1147,"./en-nz.js":1147,"./en-sg":1148,"./en-sg.js":1148,"./eo":1149,"./eo.js":1149,"./es":1150,"./es-do":1151,"./es-do.js":1151,"./es-mx":1152,"./es-mx.js":1152,"./es-us":1153,"./es-us.js":1153,"./es.js":1150,"./et":1154,"./et.js":1154,"./eu":1155,"./eu.js":1155,"./fa":1156,"./fa.js":1156,"./fi":1157,"./fi.js":1157,"./fil":1158,"./fil.js":1158,"./fo":1159,"./fo.js":1159,"./fr":1160,"./fr-ca":1161,"./fr-ca.js":1161,"./fr-ch":1162,"./fr-ch.js":1162,"./fr.js":1160,"./fy":1163,"./fy.js":1163,"./ga":1164,"./ga.js":1164,"./gd":1165,"./gd.js":1165,"./gl":1166,"./gl.js":1166,"./gom-deva":1167,"./gom-deva.js":1167,"./gom-latn":1168,"./gom-latn.js":1168,"./gu":1169,"./gu.js":1169,"./he":1170,"./he.js":1170,"./hi":1171,"./hi.js":1171,"./hr":1172,"./hr.js":1172,"./hu":1173,"./hu.js":1173,"./hy-am":1174,"./hy-am.js":1174,"./id":1175,"./id.js":1175,"./is":1176,"./is.js":1176,"./it":1177,"./it-ch":1178,"./it-ch.js":1178,"./it.js":1177,"./ja":1179,"./ja.js":1179,"./jv":1180,"./jv.js":1180,"./ka":1181,"./ka.js":1181,"./kk":1182,"./kk.js":1182,"./km":1183,"./km.js":1183,"./kn":1184,"./kn.js":1184,"./ko":1185,"./ko.js":1185,"./ku":1186,"./ku.js":1186,"./ky":1187,"./ky.js":1187,"./lb":1188,"./lb.js":1188,"./lo":1189,"./lo.js":1189,"./lt":1190,"./lt.js":1190,"./lv":1191,"./lv.js":1191,"./me":1192,"./me.js":1192,"./mi":1193,"./mi.js":1193,"./mk":1194,"./mk.js":1194,"./ml":1195,"./ml.js":1195,"./mn":1196,"./mn.js":1196,"./mr":1197,"./mr.js":1197,"./ms":1198,"./ms-my":1199,"./ms-my.js":1199,"./ms.js":1198,"./mt":1200,"./mt.js":1200,"./my":1201,"./my.js":1201,"./nb":1202,"./nb.js":1202,"./ne":1203,"./ne.js":1203,"./nl":1204,"./nl-be":1205,"./nl-be.js":1205,"./nl.js":1204,"./nn":1206,"./nn.js":1206,"./oc-lnc":1207,"./oc-lnc.js":1207,"./pa-in":1208,"./pa-in.js":1208,"./pl":1209,"./pl.js":1209,"./pt":1210,"./pt-br":1211,"./pt-br.js":1211,"./pt.js":1210,"./ro":1212,"./ro.js":1212,"./ru":1213,"./ru.js":1213,"./sd":1214,"./sd.js":1214,"./se":1215,"./se.js":1215,"./si":1216,"./si.js":1216,"./sk":1217,"./sk.js":1217,"./sl":1218,"./sl.js":1218,"./sq":1219,"./sq.js":1219,"./sr":1220,"./sr-cyrl":1221,"./sr-cyrl.js":1221,"./sr.js":1220,"./ss":1222,"./ss.js":1222,"./sv":1223,"./sv.js":1223,"./sw":1224,"./sw.js":1224,"./ta":1225,"./ta.js":1225,"./te":1226,"./te.js":1226,"./tet":1227,"./tet.js":1227,"./tg":1228,"./tg.js":1228,"./th":1229,"./th.js":1229,"./tk":1230,"./tk.js":1230,"./tl-ph":1231,"./tl-ph.js":1231,"./tlh":1232,"./tlh.js":1232,"./tr":1233,"./tr.js":1233,"./tzl":1234,"./tzl.js":1234,"./tzm":1235,"./tzm-latn":1236,"./tzm-latn.js":1236,"./tzm.js":1235,"./ug-cn":1237,"./ug-cn.js":1237,"./uk":1238,"./uk.js":1238,"./ur":1239,"./ur.js":1239,"./uz":1240,"./uz-latn":1241,"./uz-latn.js":1241,"./uz.js":1240,"./vi":1242,"./vi.js":1242,"./x-pseudo":1243,"./x-pseudo.js":1243,"./yo":1244,"./yo.js":1244,"./zh-cn":1245,"./zh-cn.js":1245,"./zh-hk":1246,"./zh-hk.js":1246,"./zh-mo":1247,"./zh-mo.js":1247,"./zh-tw":1248,"./zh-tw.js":1248};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=1300},1642:function(t,e,r){"use strict";r.r(e);r(160),r(129),r(370),r(36),r(12),r(156),r(30),r(86),r(26),r(9),r(79),r(29),r(87),r(49);var n=r(7),o=r(858),c={components:{ChartBar:r(1112).default},computed:{cid:function(){return this.$route.query.cid}},data:function(){return{freq:[],course:{},scores:[],selected:[],showSelected:!1,fields:[{key:"stdID",sortable:!0},{key:"name",sortable:!0},{key:"score",sortable:!0}],localeText:{Profile_StdID:"學號",Profile_Name:"姓名",SYS_IDX:"序號",SYS_Export:"匯出",ExamMan_TotalScore:"總分"},namelist:{},chartdataAll:{labels:[],datasets:[{label:"Summary",fill:!1,lineTension:0,backgroundColor:"#f87979",data:[]}]}}},created:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.cid){e.next=2;break}return e.abrupt("return",t.$router.push("/user"));case 2:t.localeText=t.$updateLocaleText(t.localeText),t.updateCourse();case 4:case"end":return e.stop()}}),e)})))()},methods:{updateCourse:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("getCourseT",t.cid);case 2:t.course=e.sent,t.updateData();case 4:case"end":return e.stop()}}),e)})))()},studentNumbers:function(t){var e=0;for(var r in t.students)o.a.findIdPos(this.course.teachers,r)>=0||o.a.findIdPos(this.course.assistants,r)>=0||(e+=1);return e},updateData:function(){if(this.course.units){this.course.units.length;var t=[];this.course.units?this.course.units.length:0;var e=0,r=Array(200).fill(0),n=Array(200).fill(""),c=0,l=Object.keys(this.course.students);for(var d in this.course.scores)if(!(o.a.findIdPos(this.course.teachers,d)>=0||o.a.findIdPos(this.course.assistants,d)>=0)){var j=this.course.students[d],h=l.indexOf(d);-1!==h&&l.splice(h,1);var f={id:d,stdID:j.stdID,name:j.name};e++;for(var m=this.course.scores[d],v=0,i=0;i<m.length;i++)f[this.course.units[i].name]=m[i],v+=m[i];f.total=v,t.push(f);var k=Math.floor((v+50)/100);r[k]+=1,n[k]+="#"+d,v>c&&(c=v)}r[0]+=this.studentNumbers(this.course)-e;for(var y=0;y<l.length;y++)n[0]+="#"+l[y];this.scores=t;var w=Math.floor((c+50)/100),x=Array.from(Array(w+1).keys()).map((function(t){return 100*t}));this.chartdataAll={labels:x,datasets:[{label:this.course.name+" (".concat(this.studentNumbers(this.course),")"),fill:!1,lineTension:0,backgroundColor:"#ABEBC6",data:r}]},this.freq=r,this.namelist=n}else this.scores=[]},onClick:function(t,e){var r=this;if(0!==e.length){for(var n=e[0]._index,o=this.namelist[n].substring(1).split("#"),c=[],l=function(i){var t=o[i],e=r.course.students[t];if(e.id=t,e){var s=r.scores.find((function(e){return e.id===t}));e.score=s&&s.total||0,c.push(e)}},i=0;i<o.length;i++)l(i);this.selected=c,this.showSelected=!0}}}},l=r(55),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mx-5"},[r("b-modal",{attrs:{size:"lg",title:"Students","ok-only":""},model:{value:t.showSelected,callback:function(e){t.showSelected=e},expression:"showSelected"}},[r("b-table",{attrs:{small:"",items:t.selected,fields:t.fields},scopedSlots:t._u([{key:"cell(name)",fn:function(data){return[r("b-link",{attrs:{to:"/teacher/student?cid="+t.cid+"&uid="+data.item.id}},[t._v(t._s(data.value))])]}}])})],1),t._v(" "),r("chart-bar",{attrs:{"chart-data":t.chartdataAll,clickF:t.onClick,height:600}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ChartBar:r(1112).default})},858:function(t,e,r){"use strict";r(10),r(14),r(86),r(9),r(859),r(29),r(15);var n=r(229),o=r.n(n),c={pad:function(t){return t<10?"0"+t:t},mmss:function(t){var e=Math.floor(t/60);return t%=60,"".concat(this.pad(e),":").concat(this.pad(t))},hhmmss:function(t){var e=Math.floor(t/60);t%=60;var r=Math.floor(e/60);return e%=60,"".concat(this.pad(r),":").concat(this.pad(e),":").concat(this.pad(t))},getToday:function(){var t=new Date,dd=String(t.getDate()).padStart(2,"0"),e=String(t.getMonth()+1).padStart(2,"0");return t.getFullYear()+e+dd},getNow:function(){var t=new Date;return""+t.getFullYear()+this.pad(t.getMonth()+1)+this.pad(t.getDate())+this.pad(t.getHours())+this.pad(t.getMinutes())+this.pad(t.getSeconds())},obj2arr:function(t){var e=[],r=Object.keys(t);return r.sort(),r.forEach((function(r){e.push(Object.assign({id:r},t[r]))})),e},arr2obj:function(t){var e={};return t.forEach((function(t){var r=JSON.parse(JSON.stringify(t)),n=t.id;delete r.id,e[n]=r})),e},getOptions:function(t){var e=[];return t.split("#@@#").forEach((function(t){var s=t.split("#@");e.push({text:s[0],value:s[1]})})),e},findIdPos:function(t,e){if(!t)return-1;for(var r=0;r<t.length;r++)if(e==t[r].id)return r;return-1},encode:function(t,e){return new o.a(t).encrypt(e)},decode:function(t,e){return new o.a(t).decrypt(e)}};e.a=c},859:function(t,e,r){"use strict";var n=r(8),o=r(860).start;n({target:"String",proto:!0,forced:r(861)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},860:function(t,e,r){var n=r(50),o=r(228),c=r(52),l=Math.ceil,d=function(t){return function(e,r,d){var j,h,f=String(c(e)),m=f.length,v=void 0===d?" ":String(d),k=n(r);return k<=m||""==v?f:(j=k-m,(h=o.call(v,l(j/v.length))).length>j&&(h=h.slice(0,j)),t?f+h:h+f)}};t.exports={start:d(!1),end:d(!0)}},861:function(t,e,r){var n=r(127);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)}}]);