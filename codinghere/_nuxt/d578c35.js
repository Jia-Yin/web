(window.webpackJsonp=window.webpackJsonp||[]).push([[49,3],{1089:function(e,t,n){"use strict";n(935)},1090:function(e,t,n){(t=n(57)(!1)).push([e.i,".tcenter[data-v-44e1bc99]{text-align:center}.type[data-v-44e1bc99]{color:#ff0}.qpanel[data-v-44e1bc99]{background:#eee;padding:24px}.timestatus[data-v-44e1bc99]{background:#00f;color:#fff;text-align:center}.result[data-v-44e1bc99]{position:fixed;left:25%;top:25%;width:50%;height:50%;background:#ddd;z-index:100;padding:24px;border:2px solid green;overflow-y:scroll}",""]),e.exports=t},1141:function(e,t,n){var content=n(1335);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(58).default)("5ddd0b93",content,!0,{sourceMap:!1})},1334:function(e,t,n){"use strict";n(1141)},1335:function(e,t,n){(t=n(57)(!1)).push([e.i,".container-fluid[data-v-d8454fec]{position:relative;margin:0;padding:0}",""]),e.exports=t},1433:function(e,t,n){"use strict";n.r(t);n(18),n(30),n(49);var r=n(7),o=(n(1140),n(940)),c=n(20),l=n(884),d={layout:"empty",components:{ProgTest:o.default},data:function(){return{reExam:!1,time:10,index:0,submitting:!1,totalScore:0,skip:!1,finished:!1,problems:[],exam:null,langs:"c, cpp, py",record:{userid:null,examid:null,courseid:null,date:null,submits:{},score:0},recordId:null}},computed:{ready:function(){return this.problems&&this.problems.length>0},tick:function(){return this.$store.state.params.tick},eid:function(){return this.$store.state.vparams.exam.examid},cid:function(){return this.$store.state.vparams.exam.courseid}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$store.state.vparams.exam){t.next=3;break}return e.$router.push("/user"),t.abrupt("return");case 3:return t.next=5,c.d.collection("exams").doc(e.eid).get();case 5:n=t.sent,r=n.data(),e.exam=r,r&&r.compilers&&(e.langs=r.compilers.join(", ")),e.setExam();case 10:case"end":return t.stop()}}),t)})))()},methods:{skipproblem:function(){this.skip=!0},submit:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,d,m,f,h,v,x,_,y;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.submitting=!0,e.correct&&(t.totalScore+=t.problems[t.index].score),t.record.submits[t.problems[t.index].id]=e,t.record.score=t.totalScore,t.record.totaltime=60*t.exam.tlimit-t.time,0!=t.index||t.reExam){n.next=19;break}return r=c.d.batch(),o=c.d.collection("answers").doc(),d=c.d.collection("users").doc(t.$user("id")),r.set(o,t.record),t.recordId=o.id,m={answerid:t.recordId,name:t.record.examname,date:l.a.getToday(),score:t.totalScore,finish:!1},(f={})[t.eid]=m,r.set(d,{exams:f},{merge:!0}),n.next=17,r.commit();case 17:n.next=38;break;case 19:if(!e.correct){n.next=36;break}return n.next=22,t.getUserExamData();case 22:return n.sent[t.eid].reExam&&!t.reExam&&t.$router.push("/afterexam?taken=1"),h=c.d.batch(),v=c.d.collection("answers").doc(t.recordId),x=c.d.collection("users").doc(t.$user("id")),h.set(v,t.record),_={},y={score:t.totalScore},_[t.eid]=y,h.set(x,{exams:_},{merge:!0}),n.next=34,h.commit();case 34:n.next=38;break;case 36:return n.next=38,c.d.collection("answers").doc(t.recordId).set(t.record);case 38:t.skip=!1,!t.finished&&t.index<t.problems.length-1?t.index++:t.leave(),t.submitting=!1;case 41:case"end":return n.stop()}}),n)})))()},setExamContinue:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l,i,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.reExam=!0,t.recordId=e,n.next=4,c.d.collection("answers").doc(e).get();case 4:for(r=n.sent,t.record=r.data(),console.log("Record",t.record),o=[],l=0,i=0;i<t.exam.probs.length;i++)d=t.exam.probs[i],t.record.submits[d.id]?l+=t.record.submits[d.id].usetime:o.push(t.$copyObject(d));t.record.totaltime&&t.record.totaltime>l&&(l=t.record.totaltime),console.log("QUIZS",o),o.sort((function(e,t){return e.order-t.order!=0?e.order-t.order:Math.random()-.5})),t.time=60*t.exam.tlimit-l,t.time<=0&&t.$router.push("/afterexam"),t.problems=o,t.totalScore=t.record.score;case 17:case"end":return n.stop()}}),n)})))()},getUserExamData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$user("id"),t.next=3,c.d.collection("users").doc(n).get();case 3:return r=t.sent,t.abrupt("return",r.data().exams);case 5:case"end":return t.stop()}}),t)})))()},setExam:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUserExamData();case 2:if(!(n=t.sent)||!n[e.eid]){t.next=7;break}return n[e.eid].reExam=!0,c.d.collection("users").doc(e.$user("id")).update({exams:n}),t.abrupt("return",e.setExamContinue(n[e.eid].answerid));case 7:(r=e.$copyObject(e.exam.probs)).sort((function(e,t){return e.order-t.order!=0?e.order-t.order:Math.random()-.5})),e.time=60*e.exam.tlimit,e.problems=r,e.record.userid=e.$user("id"),e.record.examid=e.eid,e.record.examname=e.exam.name,e.record.courseid=e.cid,e.record.date=l.a.getToday(),e.record.finish=!1;case 17:case"end":return t.stop()}}),t)})))()},leave:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,d,m,f,h,v,x,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=60*e.exam.tlimit-e.time,e.recordId){t.next=19;break}return e.record.submits={},e.record.score=0,e.record.finish=!0,e.record.totaltime=n,r=c.d.collection("answers").doc(),o=c.d.collection("users").doc(e.$user("id")),(d=c.d.batch()).set(r,e.record),e.recordId=r.id,m={answerid:e.recordId,name:e.record.examname,date:l.a.getToday(),score:0,finish:!0},(f={})[e.eid]=m,d.set(o,{exams:f},{merge:!0}),t.next=17,d.commit();case 17:t.next=28;break;case 19:return h=c.d.batch(),v=c.d.collection("answers").doc(e.recordId),x=c.d.collection("users").doc(e.$user("id")),h.set(v,{totaltime:n,finish:!0},{merge:!0}),(_={})[e.eid]={finish:!0},h.set(x,{exams:_},{merge:!0}),t.next=28,h.commit();case 28:e.finished=!0,e.$router.push("/afterexam");case 30:case"end":return t.stop()}}),t)})))()},mmss:function(e){return l.a.mmss(e)},hhmmss:function(e){return l.a.hhmmss(e)}},watch:{tick:function(e){this.time--,0===this.time&&(this.skip=!0,this.finished=!0)}}},m=(n(1334),n(56)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-navbar",{attrs:{variant:"light"}},[n("b-navbar-nav",{staticClass:"mr-auto"},[n("b-nav-text",{staticClass:"text-dark"},[e._v(e._s(e.$user("name")))])],1),e._v(" "),n("b-navbar-nav",{staticClass:"mr-auto"},[n("b-nav-text",{staticClass:"text-primary"},[e._v("\n                總分 "+e._s(e.exam&&e.exam.tscore)+"，限時\n                "+e._s(e.exam&&e.exam.tlimit)+" 分鐘；   本題佔分\n                "+e._s(e.problems[e.index]&&e.problems[e.index].score)+"， 限時\n                "+e._s(e.problems[e.index]&&e.mmss(e.problems[e.index].tlimit))+"\n                   剩餘考試時間 "+e._s(e.hhmmss(e.time))+"\n            ")])],1),e._v(" "),n("b-navbar-nav",{staticClass:"mr-auto"},[e.skip||e.submitting?e._e():n("b-button",{staticClass:"ml-3 btn-sm btn-outline-success",attrs:{variant:"outline-success"},on:{click:function(t){return e.skipproblem()}}},[e._v("跳過本題")]),e._v(" "),e.submitting?e._e():n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-leave",modifiers:{"modal-leave":!0}}],staticClass:"ml-3 btn btn-sm btn-outline-danger",attrs:{variant:"outline-danger"}},[e._v("離開考場")]),e._v(" "),n("b-modal",{attrs:{id:"modal-leave",title:"溫馨提醒","ok-title":"確定","cancel-title":"取消","no-close-on-esc":!0,"no-close-on-backdrop":!0},on:{ok:function(t){return e.leave()}}},[n("p",{staticClass:"mt-4 text-danger"},[e._v("此視窗顯示時，計時不會暫停。")]),e._v(" "),n("p",{staticClass:"my-4 text-danger"},[e._v("\n                    離開考場等於交卷，不得再次進入！\n                    "),n("br"),e._v("確定要離開嗎？\n                ")])])],1),e._v(" "),n("b-navbar-nav",[n("b-nav-text",{staticClass:"text-dark"},[e._v(e._s(e.index+1)+" /\n                "+e._s(e.problems&&e.problems.length))])],1)],1),e._v(" "),e.ready&&"progtest"==e.problems[e.index].type?n("ProgTest",{key:e.index,attrs:{times:e.problems[e.index].tlimit,quiz:e.problems[e.index],submit:e.submit,skip:e.skip,langs:e.langs}}):e._e()],1)}),[],!1,null,"d8454fec",null);t.default=component.exports;installComponents(component,{ProgTest:n(940).default})},884:function(e,t,n){"use strict";n(10),n(14),n(87),n(9),n(885),n(29),n(15);var r=n(129),o=n.n(r),c={pad:function(e){return e<10?"0"+e:e},mmss:function(e){var t=Math.floor(e/60);return e%=60,"".concat(this.pad(t),":").concat(this.pad(e))},hhmmss:function(e){var t=Math.floor(e/60);e%=60;var n=Math.floor(t/60);return t%=60,"".concat(this.pad(n),":").concat(this.pad(t),":").concat(this.pad(e))},getToday:function(){var e=new Date,dd=String(e.getDate()).padStart(2,"0"),t=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+t+dd},getNow:function(){var e=new Date;return""+e.getFullYear()+this.pad(e.getMonth()+1)+this.pad(e.getDate())+this.pad(e.getHours())+this.pad(e.getMinutes())+this.pad(e.getSeconds())},obj2arr:function(e){var t=[],n=Object.keys(e);return n.sort(),n.forEach((function(n){t.push(Object.assign({id:n},e[n]))})),t},arr2obj:function(e){var t={};return e.forEach((function(e){var n=JSON.parse(JSON.stringify(e)),r=e.id;delete n.id,t[r]=n})),t},getOptions:function(e){var t=[];return e.split("#@@#").forEach((function(e){var s=e.split("#@");t.push({text:s[0],value:s[1]})})),t},findIdPos:function(e,t){if(!e)return-1;for(var n=0;n<e.length;n++)if(t==e[n].id)return n;return-1},encode:function(e,t){return new o.a(e).encrypt(t)},decode:function(e,t){return new o.a(e).decrypt(t)}};t.a=c},891:function(e,t,n){"use strict";n.r(t);n(130),n(379),n(27),n(9),n(162),n(21),n(29),n(46),n(49);var r=n(7),o=n(0),c=n(911),l=n(912),d=n(913),m=n(914),f=n(915),h=n(916),v=(n(904),n(3)),x=n(918),_=n.n(x);v.default.use(_.a);var y={props:{problem:Object,showRef:{type:Boolean,default:!0},stylePoints:{type:Number,default:0},lang:{type:String,default:""},langs:{type:String,default:"c,cpp,py"},initCode:{type:String,default:""},isExam:{type:Boolean,default:!1},dummy:{type:Number,default:0}},data:function(){var e;return e={defaultCode:{c:'#include <stdio.h>\n\nint main()\n{\n    // printf("Hello, world!");\n    return 0;\n}\n',cpp:'#include <iostream>\n\nusing namespace std;\n\nint main()\n{\n    // cout << "Hello, world!";\n    return 0;\n}\n',java:'public class Main {\n    public static void main(String[] args) {\n        // System.out.println("Hello, world!");\n    }\n}\n',py:"# print('Hello, world!')\n"},hand:{w:330,h:60,x:0,y:0,expand:!1},infoAlert:!1,info:{title:"",message:""},noJudger:!1,tabIndex:0,mycode:"",chnlabel:"X",srclang:"c",judging:!1,channel:null},Object(o.a)(e,"chnlabel",null),Object(o.a)(e,"result",null),Object(o.a)(e,"testServers",{}),Object(o.a)(e,"localeText",{Coding_Problem:"問題",Coding_Code:"程式",Coding_Result:"結果",Coding_Reference:"參考",Coding_CodeTooShort:"程式碼太短",Coding_Assistant:"小幫手",Coding_Judger:"評判器",Coding_Relink:"重新連結",Coding_NoJudgerLink:"無法連結評判器",Coding_NoJudgerText:"如果仍無法開啟，請選擇以下評判器並接受其憑證，然後再嘗試重新連結！如果仍然無法解決，請回報給管理者，謝謝！"}),e},components:{CodePanel:c.default,SubmitResult:m.default,Question:l.default,CCheetSheet:d.default,Assist:f.default,vdr:function(){return n.e(8).then(n.t.bind(null,1396,7))}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.localeText=e.$updateLocaleText(e.localeText),e.initCode&&(e.mycode=e.initCode),e.langs?(n=e.langs.replace(/\s/g,"").split(","),""!==e.lang&&n.includes(e.lang)?e.srclang=e.lang:e.srclang=n[0]):""!==e.lang&&(e.srclang=e.lang),t.next=5,e.check_server();case 5:case"end":return t.stop()}}),t)})))()},methods:{langsHas:function(e){for(var t=this.langs.split(","),i=0;i<t.length;i++)if(t[i].trim()==e)return!0;return!1},check_server:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.$system("setting"))&&n.judgers&&(e.testServers=n.judgers.https,h.a.checkServer(n.judgers).then((function(t){if(e.channel=t.best.channel,""!==e.channel){var n=e.channel.toUpperCase();"WSS"===n.substr(0,3)?e.chnlabel=n.substr(6,1):e.chnlabel=n.substr(5,1),e.noJudger=!1}else e.noJudger=!0})).catch((function(t){e.noJudger=!0})));case 2:case"end":return t.stop()}}),t)})))()},setInit:function(e){this.mycode=this.defaultCode[e],this.srclang=e},onResize:function(e,t,n,r){this.x=e,this.y=t,this.width=n,this.hheight=r},onDrag:function(e,t){this.x=e,this.y=t},refresh:function(){var e=this,t=this.mycode;this.mycode+=" ",this.$nextTick((function(){e.mycode=t}))},langChanged:function(e){this.srclang=e},submit:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.judging&&e.channel){t.next=2;break}return t.abrupt("return");case 2:if(!(e.mycode.length<5)){t.next=6;break}return e.info={title:e.localeText.Coding_Code,message:e.localeText.Coding_CodeTooShort},e.infoAlert=!0,t.abrupt("return");case 6:return e.judging=!0,e.problem.timeLimit&&(""===e.problem.timeLimit?e.problem.timeLimit=1:e.problem.timeLimit=parseInt(e.problem.timeLimit,10)),e.problem.memoryLimit&&(""===e.problem.memoryLimit?e.problem.memoryLimit=1:e.problem.memoryLimit=parseInt(e.problem.memoryLimit,10)),e.problem.outputLimit&&(""===e.problem.outputLimit?e.problem.outputLimit=1e3:e.problem.outputLimit=parseInt(e.problem.outputLimit,10)),n={answerCode:e.problem.answerCode,answerLang:e.problem.answerLang,dataCode:e.problem.dataCode,dataLang:e.problem.dataLang,sourceCode:e.mycode,sourceLang:e.srclang,testMode:e.problem.testMode,cmpMode:e.problem.cmpMode,timeLimit:parseInt(e.problem.timeLimit,10),memoryLimit:parseInt(e.problem.memoryLimit,10),outputLimit:parseInt(e.problem.outputLimit,10)},t.prev=11,t.next=14,h.a.judgeProgtest(e.channel,n);case 14:e.result=t.sent,""!==e.result.StyleCheck&&(r=e.result.StyleCheck.split("\n").length-1,e.result.Score-=r*e.stylePoints),e.tabIndex=1,e.judging=!1,o={cdata:n,result:e.result},e.$emit("submit",o),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(11),e.judging=!1,console.log("Judge Error:",t.t0);case 26:case"end":return t.stop()}}),t,null,[[11,22]])})))()}},watch:{problem:function(e){this.result=null},initCode:function(e){this.mycode=e},lang:function(e){this.srclang=e},dummy:function(e){this.$emit("getCode",{code:this.mycode,lang:this.srclang})}}},C=(n(933),n(56)),component=Object(C.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-modal",{attrs:{title:e.info.title},model:{value:e.infoAlert,callback:function(t){e.infoAlert=t},expression:"infoAlert"}},[e._v(e._s(e.info.message))]),e._v(" "),n("b-modal",{attrs:{size:"lg",title:e.localeText.Coding_NoJudgerLink,"hide-footer":"","no-close-on-esc":"","no-close-on-backdrop":"","hide-header-close":""},model:{value:e.noJudger,callback:function(t){e.noJudger=t},expression:"noJudger"}},[n("b-button",{attrs:{size:"sm",variant:"success"},on:{click:e.check_server}},[e._v(e._s(e.localeText.Coding_Relink))]),e._v(" "),n("p",{staticClass:"mt-3"},[e._v(e._s(e.localeText.Coding_NoJudgerText))]),e._v(" "),e._l(e.testServers,(function(t,r){return n("span",{key:"s"+r,staticClass:"mr-5"},[n("a",{attrs:{href:"https://"+t,target:"_blank"}},[e._v(e._s(e.localeText.Coding_Judger)+" "+e._s(t[0].toUpperCase()))])])}))],2),e._v(" "),n("Split",{staticStyle:{height:"805px"},attrs:{gutterSize:5}},[n("SplitArea",{attrs:{size:25,minSize:500}},[n("b-tabs",{attrs:{card:""},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[n("b-tab",{attrs:{title:e.localeText.Coding_Problem}},[n("Question",{attrs:{problem:e.problem}})],1),e._v(" "),n("b-tab",{attrs:{title:e.localeText.Coding_Result}},[n("SubmitResult",{attrs:{result:e.result}}),e._v(" "),e.result&&"AC"!==e.result.RunStatus?n("div",[n("span",{staticClass:"ml-3 mr-1"},[e._v("==>")]),e._v(" "),n("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(t){e.tabIndex=3}}},[e._v(e._s(e.localeText.Coding_Assistant))])],1):e._e(),e._v(" "),e.result&&"AC"===e.result.RunStatus?n("div",[n("span",{staticClass:"mr-1"},[e._v("好還要更好，是否讓 AI 小博士為你講評程式碼？ ==>")]),e._v(" "),n("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(t){e.tabIndex=3}}},[e._v(e._s(e.localeText.Coding_Assistant))])],1):e._e()],1),e._v(" "),e.showRef?n("b-tab",{attrs:{title:e.localeText.Coding_Reference}},[n("CCheetSheet")],1):e._e(),e._v(" "),n("b-tab",{attrs:{title:e.localeText.Coding_Assistant}},[e.mycode.length<10?n("div",[n("span",[e._v("Initial Code: ")]),e._v(" "),e.langsHas("c")?n("b-link",{staticClass:"ml-3",attrs:{size:"small",variant:"success"},on:{click:function(t){return e.setInit("c")}}},[e._v("C")]):e._e(),e._v(" "),e.langsHas("cpp")?n("b-link",{staticClass:"ml-3",attrs:{size:"small",variant:"success"},on:{click:function(t){return e.setInit("cpp")}}},[e._v("C++")]):e._e(),e._v(" "),e.langsHas("py")?n("b-link",{staticClass:"ml-3",attrs:{size:"small",variant:"success"},on:{click:function(t){return e.setInit("py")}}},[e._v("PY")]):e._e(),e._v(" "),e.langsHas("java")?n("b-link",{staticClass:"ml-3",attrs:{size:"small",variant:"success"},on:{click:function(t){return e.setInit("java")}}},[e._v("Java")]):e._e(),e._v(" "),n("hr")],1):n("div",[n("p",[e._v("當沒有程式碼時，小幫手可以幫忙產生基本的程式碼框架。當程式碼有錯誤時，小幫手可以提供一些幫助訊息。")])]),e._v(" "),n("assist",{attrs:{problem:e.problem,result:e.result,isExam:e.isExam,code:e.mycode,lang:e.srclang}})],1)],1)],1),e._v(" "),n("SplitArea",{attrs:{size:75,minSize:700}},[n("CodePanel",{attrs:{height:700,submit:e.submit,judging:e.judging,lang:e.srclang,langs:e.langs,channel:e.chnlabel},on:{langChanged:e.langChanged},model:{value:e.mycode,callback:function(t){e.mycode=t},expression:"mycode"}})],1)],1)],1)}),[],!1,null,"58f90078",null);t.default=component.exports;installComponents(component,{Question:n(912).default,SubmitResult:n(914).default,CCheetSheet:n(913).default,Assist:n(915).default,CodePanel:n(911).default})},905:function(e,t,n){var content=n(924);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(58).default)("0c61fe4f",content,!0,{sourceMap:!1})},906:function(e,t,n){var content=n(926);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(58).default)("1b244e00",content,!0,{sourceMap:!1})},907:function(e,t,n){var content=n(928);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(58).default)("0092e82f",content,!0,{sourceMap:!1})},908:function(e,t,n){var content=n(930);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(58).default)("99d6a4f4",content,!0,{sourceMap:!1})},909:function(e,t,n){var content=n(932);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(58).default)("17235a26",content,!0,{sourceMap:!1})},910:function(e,t,n){var content=n(934);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(58).default)("70307c8e",content,!0,{sourceMap:!1})},911:function(e,t,n){"use strict";n.r(t);n(18),n(12),n(379),n(27),n(9),n(29),n(46),n(49);var r=n(7),o=n(0),c=(n(944),{props:{value:String,height:{type:Number,default:500},submit:{type:Function,default:null},judging:{type:Boolean,default:!1},lang:{type:String,default:"c"},langs:{type:String,default:"c, cpp, py"},lineNumbers:{type:Boolean,default:!0},channel:{type:String,default:"None"}},components:{vdr:function(){return n.e(8).then(n.t.bind(null,1396,7))}},data:function(){var e;return e={hand:{w:330,h:60,x:0,y:0,expand:!1},cm:null,judgable:!1,cmlang:"c",cmlangs:["c","cpp","py"],cmstyle:{"font-size":"100%"},cmfontsize:100},Object(o.a)(e,"cm",null),Object(o.a)(e,"cmcode",null),Object(o.a)(e,"cmOption",{tabSize:4,indentUnit:4,styleActiveLine:!0,lineNumbers:!1,readOnly:!1,matchTags:!0,matchBrackets:!1,autoCloseBrackets:!0,indentWithTabs:!1,autoRefresh:!0,extraKeys:{Tab:function(e){var t=Array(e.getOption("indentUnit")+1).join(" ");e.replaceSelection(t,"end")}},mode:"text/x-c++src",theme:"mdn-like"}),e},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.cmcode=e.value,e.cmlang=e.lang,e.cmOption.lineNumbers=e.lineNumbers,""==e.langs?e.cmlangs=[e.lang]:e.cmlangs=e.langs.split(",").map((function(e){return e.trim()})),e.cm.focus();case 5:case"end":return t.stop()}}),t)})))()},methods:{langLabel:function(e){return"c"==e||"C"==e?"C":"c++"==e||"C++"==e||"cpp"==e||"CPP"==e||"cc"==e?"C++":"py"==e||"PY"==e?"PY":"java"==e?"Java":void 0},setLang:function(e){"c"!==e&&"cpp"!==e&&"py"!==e&&"java"!==e||(this.cmlang=e,"c"!=e&&"cpp"!=e||(this.cmOption.mode="text/x-c++src"),"py"==e&&(this.cmOption.mode="text/x-python"),"java"==e&&(this.cmOption.mode="text/x-java"),this.$refs.coder.codemirror.focus(),this.$emit("langChanged",e))},cinput:function(e){this.$emit("input",e)},incfont:function(){this.cmfontsize+=10,this.cmstyle={"font-size":"".concat(this.cmfontsize,"%")}},decfont:function(){this.cmfontsize-=10,this.cmstyle={"font-size":"".concat(this.cmfontsize,"%")}},resetfont:function(){this.cmfontsize=100,this.cmstyle={"font-size":"".concat(this.cmfontsize,"%")}},onCmReady:function(e){this.cm=e,e.setSize(null,this.height)}},watch:{lang:function(e){this.setLang(e)},value:function(e){this.cmcode=e,this.cm.focus()},height:function(e){this.cm.setSize(null,e)}}}),l=(n(923),n(56)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row-container"},[n("div",{staticClass:"toolbar"},[e._l(e.cmlangs,(function(t,r){return n("b-button",{key:r,attrs:{size:"sm",variant:t==e.cmlang?"success":"outline-success"},on:{click:function(n){return e.setLang(t)}}},[e._v(e._s(e.langLabel(t)))])})),e._v(" "),n("b-button",{staticClass:"ml-3",attrs:{size:"sm",variant:"outline-success"},on:{click:e.incfont}},[e._v("＋")]),e._v(" "),n("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:e.resetfont}},[e._v("◯")]),e._v(" "),n("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:e.decfont}},[e._v("－")]),e._v(" "),e.submit?n("b-button",{staticClass:"ml-3",attrs:{size:"sm",variant:"outline-success",disabled:e.judging||"None"==e.channel},on:{click:e.submit}},[n("b-icon",{attrs:{icon:"check2"}})],1):e._e(),e._v(" "),"None"!=e.channel?n("b-button",{staticClass:"ml-4",attrs:{variant:"primary",size:"sm",disabled:""}},[e._v(e._s(e.channel))]):n("span",[n("b-spinner",{attrs:{variant:"success",label:"Spinning"}})],1)],2),e._v(" "),n("codemirror",{ref:"coder",staticClass:"coder",style:e.cmstyle,attrs:{options:e.cmOption},on:{ready:e.onCmReady,input:e.cinput},model:{value:e.cmcode,callback:function(t){e.cmcode=t},expression:"cmcode"}})],1)])}),[],!1,null,"3b0aeeaa",null);t.default=component.exports},912:function(e,t,n){"use strict";n.r(t);n(233),n(381),n(9),n(21),n(898);var r={props:{problem:Object},computed:{desc:function(){return this.$selectUserLocaleText(this.problem.description).replace(/\\n/g,"⏎")}}},o=(n(925),n(56)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"probPanel"},[n("p",{staticClass:"ptitle"},[e._v(e._s(e.$selectUserLocaleText(e.problem.title)))]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.$md.render(e.desc))}})])}),[],!1,null,"6f868a80",null);t.default=component.exports},913:function(e,t,n){"use strict";n.r(t);n(49);var r=n(7),o={data:function(){return{refcontents:"You should not see this",localeText:{CCheet_Title:"目前尚未有評判結果"}}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("en"!==e.$user("locale")){t.next=6;break}return t.next=3,e.$content("en/ccheetsheet").fetch();case 3:e.refcontents=t.sent,t.next=9;break;case 6:return t.next=8,e.$content("zh/ccheetsheet").fetch();case 8:e.refcontents=t.sent;case 9:case"end":return t.stop()}}),t)})))()}},c=(n(927),n(56)),component=Object(c.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("nuxt-content",{attrs:{document:this.refcontents}})],1)}),[],!1,null,"6707e4cd",null);t.default=component.exports},914:function(e,t,n){"use strict";n.r(t);n(14),n(18),n(9),n(161),n(21),n(29),n(15);var r={props:{result:Object,showTime:{type:Boolean,default:!1},showMemory:{type:Boolean,default:!1}},data:function(){return{localeText:{SR_NoResult:"目前尚未有評判結果",SR_Results:"執行結果",SR_Score:"程式得分",SR_UseTime:"使用時間",SR_UseMemory:"使用記憶體",SR_Bytes:"位元組",SR_SampleInput:"輸入範例",SR_CorrectOutput:"正確輸出",SR_ProgramOutput:"程式輸出",SR_StyleCheck:"風格檢查",SR_StyleCheckOK:"格式良好",SR_Format:"格式",SR_Response:"錯誤訊息",SR_RunStatus_CE:"編譯錯誤",SR_RunStatus_AC:"正確",SR_RunStatus_PC:"部份正確",SR_RunStatus_PE:"排版錯誤",SR_RunStatus_WA:"錯誤",SR_RunStatus_TLE:"超過時間限制",SR_RunStatus_OLE:"超過輸出限制",SR_RunStatus_MLE:"超過記憶體限制",SR_RunStatus_RE:"執行時期錯誤"}}},computed:{showWrongCase:function(){return"WA"==this.result.RunStatus||"NA"==this.result.RunStatus||"PE"==this.result.RunStatus},showStyleCheck:function(){return"NA"!=this.result.StyleCheck&&"N/A"!=this.result.StyleCheck},styleResult:function(){return""==this.result.StyleCheck?this.localeText.SR_StyleCheckOK:this.result.StyleCheck}},created:function(){this.localeText=this.$updateLocaleText(this.localeText)},methods:{inputStr:function(e){return e.replace(/^\s*\n/gm,"")},outputStr:function(e){var t=/^(\s+)(.*)$/,n=/^(.*)(\s+)$/,r=e.split("\n"),o=[];return r.forEach((function(line){var e=line,r=e.match(t);r&&(e="<mark>"+r[1]+"</mark>"+r[2]),(r=e.match(n))&&(e=r[1]+"<mark>"+r[2]+"</mark>"),o.push(e)})),o.join("<mark>⏎</mark>\n")},statusResult:function(e){var t="("+e.RunStatus+") ";return"AC"==e.RunStatus?t+this.localeText.SR_RunStatus_AC:"CE"===e.RunStatus?t+this.localeText.SR_RunStatus_CE:"NA"===e.RunStatus?t+this.localeText.SR_RunStatus_PC:"PE"===e.RunStatus?t+this.localeText.SR_RunStatus_PE:"WA"===e.RunStatus?t+this.localeText.SR_RunStatus_WA:"TLE"===e.RunStatus?t+this.localeText.SR_RunStatus_TLE:"OLE"===e.RunStatus?t+this.localeText.SR_RunStatus_OLE:"MLE"===e.RunStatus?t+this.localeText.SR_RunStatus_MLE:"RE"===e.RunStatus?t+this.localeText.SR_RunStatus_RE:t}}},o=(n(929),n(56)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.result?n("div",{staticClass:"probPanel"},[n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v(e._s(e.localeText.SR_Results))]),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(e.statusResult(e.result)))])]),e._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v(e._s(e.localeText.SR_Score))]),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(e.result.Score)+"\n                "),e.result.Score>0&&e.result.Score<100?n("span",[e._v("\n                     ("+e._s(e.localeText.SR_Format)+" "+e._s(e.result.Score-100)+")\n                ")]):e._e()])]),e._v(" "),e.showTime?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v(e._s(e.localeText.SR_UseTime))]),e._v(" "),n("span",{staticClass:"status"},[e._v("\n                CPU: "+e._s(e.result.CPUTime)+"ms / Real: "+e._s(e.result.RealTime)+"ms\n            ")])]):e._e(),e._v(" "),e.showMemory?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v(e._s(e.localeText.SR_UseMemory))]),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(e.result.Memory)+" "+e._s(e.localeText.SR_Bytes))])]):e._e(),e._v(" "),n("hr"),e._v(" "),e.showWrongCase?n("div",{staticClass:"item"},[n("div",{staticClass:"pseg"},[e._v(e._s(e.localeText.SR_SampleInput))]),e._v(" "),n("pre",{staticClass:"sample"},[e._v(e._s(e.inputStr(e.result.WrongCase.input)))]),e._v(" "),n("div",{staticClass:"pseg"},[e._v("\n                "+e._s(e.localeText.SR_CorrectOutput)+" ("+e._s(e.result.WrongCase.answer.length)+"\n                "+e._s(e.localeText.SR_Bytes)+")\n            ")]),e._v(" "),n("pre",{staticClass:"sample",domProps:{innerHTML:e._s(e.outputStr(e.result.WrongCase.answer))}}),e._v(" "),n("div",{staticClass:"pseg"},[e._v("\n                "+e._s(e.localeText.SR_ProgramOutput)+" ("+e._s(e.result.WrongCase.source.length)+"\n                "+e._s(e.localeText.SR_Bytes)+")\n            ")]),e._v(" "),n("pre",{staticClass:"sample",domProps:{innerHTML:e._s(e.outputStr(e.result.WrongCase.source))}})]):e._e(),e._v(" "),e.result.Response&&""!=e.result.Response?n("div",{staticClass:"item"},[n("div",{staticClass:"pseg"},[e._v(e._s(e.localeText.SR_Response))]),e._v(" "),n("pre",{staticClass:"sample"},[e._v(e._s(e.result.Response))])]):e._e(),e._v(" "),e.showStyleCheck?n("div",{staticClass:"item"},[n("div",{staticClass:"label"},[e._v(e._s(e.localeText.SR_StyleCheck))]),e._v(" "),n("pre",{staticClass:"sample"},[e._v(e._s(e.styleResult))])]):e._e()]):n("div",{staticClass:"ptitle"},[e._v("\n        "+e._s(e.localeText.SR_NoResult)+"\n    ")])])}),[],!1,null,"34cbfb81",null);t.default=component.exports},915:function(e,t,n){"use strict";n.r(t);n(233),n(381),n(89),n(9),n(42),n(161),n(21),n(29),n(49);var r=n(7),o={props:{problem:Object,result:Object,isExam:Boolean,code:String,lang:String},data:function(){return{description:"",messages:[],showMessage:!1,myclass:["myclass"],dataset:null,testFix:!1,testFine:!1,testResult:"",msglist:[],rules:{},stsmsgs:{},title:"",hinttext:"",userlocale:"zh",localeText:{Assist_Whatis:"什麼是"}}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.localeText=e.$updateLocaleText(e.localeText),(n=e.$system("setting"))&&n.synRules&&(e.rules=n.synRules),n&&n.statusMsg&&(e.stsmsgs=n.statusMsg),e.parseMessages(),(r=e.$store.state.user)&&r.locale&&(e.userlocale=r.locale);case 7:case"end":return t.stop()}}),t)})))()},methods:{statusMessage:function(e){for(var t in this.stsmsgs){var n=this.stsmsgs[t];if(n.status===e)return[{title:this.localeText.Assist_Whatis+" "+e,desc:this.$selectUserLocaleText(n.msg)}]}return[]},parseMessages:function(){var e=this.result&&this.result.RunStatus,t=this.statusMessage(e);if(this.msglist=t,!this.isExam){if("CE"===e)for(var n={},r=this.result.Response.split("\n"),o=0;o<r.length;o++){var c=r[o],l=null,d=null,m=c.match(/(\d+):(\d+):(.*)error/);for(var f in m&&(l=m[1],d=m[2]),this.rules){var h=this.rules[f];if(!n[f]&&(!h.inerror||m)){var v=c.match(h.pattern);if(v){n[f]=!0;var title=h.title,desc=this.$selectUserLocaleText(h.msg).replace(/LINE/g,l);desc=desc.replace(/POS/g,d);for(var x=1;x<=h.argc;x++){var _=new RegExp("@@"+x,"g");desc=desc.replace(_,v[x]),title=title.replace(_,v[x])}t.push({title:l?"L"+l+": "+title:title,desc:desc})}}}this.msglist=t}this.result&&"AC"!==this.result.RunStatus&&(this.testFix=!0,this.testResult=""),this.result&&"AC"===this.result.RunStatus&&(this.testFine=!0,this.testResult="")}},tryFix:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.hinttext="正在處理中...",n="As a programming instructor, for the given (problem), (submitted code), and (compiler message), provide steps to solve the problem and suggestions for correcting the (submitted code). Do the task based on the following steps:\n1. For the given(problem), provide steps to solve the problem by yourself.\n2. Based on the given(submitted code) and(compiler message), guess what the user want to do.\n3. Your coaching style is primarily about giving guidance rather than answers, so never give detailed code.\n4. Output in traditional Chinese and fonform to the following template: \n\n",n+="**解題步驟**\n",n+="1. (The 1st step to solve the given problem)\n",n+="2. (The 2nd step to solve the given problem)\n",n+="3. ...\n\n",n+="**程式邏輯**\n",n+="(Guess the submitted code's logic to solve the problem)\n\n",n+="**修正建議**\n",n+="1. (The 1st suggestion for correcting the submitted code)\n",n+="2. (The 2nd suggestion for correcting the submitted code)\n",n+="3. ...\n\n",n+="**以上僅供參考**","en"===e.userlocale&&(e.hinttext="Processing...",n=(n=(n=(n=(n=n.replace("locale zh-TW (繁體中文)","English")).replace("解題步驟","Solving Steps")).replace("程式邏輯","Program Logic")).replace("修正建議","Correcting Suggestions")).replace("以上僅供參考","Just for your reference")),r="(Problem)\n",""!==e.problem.description.en?r+=e.problem.description.en+"\n":r+=e.problem.description.zh+"\n",r+="---\n(Submitted code)\n```"+e.lang+"\n",r+=e.code+"\n```\n\n","CE"===e.result.RunStatus?(r+="---\n(Compiler message)\n```\n",r+=e.result.Response+"\n```\n"):(r+="---\n(Compiler message)\n```\n",r+="No compiling error.\n```\n"),o=["以上僅供參考","修正後的程式碼","修改後的程式碼"],"en"===e.userlocale&&(o=["for your reference","Corrected code","Modified code"]),t.next=23,e.$store.dispatch("callGPT",{gpt:{model:"gpt-4o",messages:[{role:"system",content:n},{role:"user",content:r}],temperature:.8,max_tokens:1e3,top_p:1,frequency_penalty:0,presence_penalty:0,stop:o},gtype:"fix"});case 23:(c=t.sent)&&c.length>0&&(e.testResult=c,e.hinttext="");case 25:case"end":return t.stop()}}),t)})))()},tryFine:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="You are an experienced programmer. Your task is to logically analyze and comment on the given code and improve its structure and readability while retaining its original functionality. \n\nFocus on:\n- Analyze and comment on the given code\n- Modify the given code in a more structured and concise way. \n- Add meaningful comments and rename variables to make the program easier to understand. \n\nRemember: the goal is to make the code easier to understand and maintain while keeping its original functionality. DO NOT CHANGE AND NO EXTRA INPUT/OUTPUT PROMPTS OR FORMATS.\n\n# Output template:\n\n<Analysis and annotation of the given code>\n\n```c\n<Refactored code>\n```\n n< A brief description of the changes you made and how they improve the code. >\n\n","en"===e.userlocale?e.hinttext="Processing...":(e.hinttext="正在處理中...",n+="Output in traditional Chinese.\n\n"),r="\n# Code to modify: \n\n"+e.code+"\n\n",t.next=5,e.$store.dispatch("callGPT",{gpt:{model:"gpt-4o",messages:[{role:"system",content:n},{role:"user",content:r}],temperature:.3,max_tokens:1e3,top_p:1,frequency_penalty:0,presence_penalty:0},gtype:"hint"});case 5:(o=t.sent)&&o.length>0&&(e.testResult=o+"\n\nAI 的建議不一定都是正確的，但有些的確值得參考。",e.hinttext="");case 7:case"end":return t.stop()}}),t)})))()},show:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.title=e.title,t.description=e.desc,t.showMessage=!0;case 3:case"end":return n.stop()}}),n)})))()}},watch:{problem:function(e){this.parseMessages()},result:function(e){this.parseMessages()},code:function(e){this.testFix=!1,this.messages=[]}}},c=(n(931),n(56)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-modal",{attrs:{size:"xl",title:e.title,scrollable:"","modal-class":e.myclass},model:{value:e.showMessage,callback:function(t){e.showMessage=t},expression:"showMessage"}},[n("div",{domProps:{innerHTML:e._s(e.$md.render(e.description))}})]),e._v(" "),e.msglist.length>0?n("div",e._l(e.msglist,(function(t,r){return n("div",{key:r},[n("b-icon",{attrs:{icon:"bell-fill",variant:"warning"}}),e._v("  \n            "),n("b-link",{attrs:{size:"sm",variant:"success"},on:{click:function(n){return e.show(t)}}},[e._v(e._s(t.title))])],1)})),0):e._e(),e._v(" "),e.testFix?n("div",{staticClass:"mt-3"},[n("p",[e._v("\n            目前有一個 AI 小博士可以試著提供錯誤修正建議，要試看看嗎？\n        ")]),e._v(" "),n("b-button",{attrs:{size:"sm",variant:"success"},on:{click:e.tryFix}},[e._v("試看看")])],1):e._e(),e._v(" "),e.testFine?n("div",{staticClass:"mt-3"},[n("p",[e._v("\n            好還要更好，是否讓 AI 小博士為你講評程式碼？\n        ")]),e._v(" "),n("b-button",{attrs:{size:"sm",variant:"success"},on:{click:e.tryFine}},[e._v("試看看")])],1):e._e(),e._v(" "),e.hinttext?n("div",{staticClass:"mt-2",attrs:{align:"center"}},[n("SeqText",{attrs:{text:e.hinttext}})],1):e._e(),e._v(" "),""!==e.testResult?n("div",{staticClass:"mt-3"},[n("p",{domProps:{innerHTML:e._s(e.$md.render(e.testResult))}})]):e._e()],1)}),[],!1,null,"d5ab6834",null);t.default=component.exports;installComponents(component,{SeqText:n(942).default})},916:function(e,t,n){"use strict";n(36),n(27),n(9),n(21),n(29),n(47);var r=n(945),o=n.n(r),c={checkServer:function(e){return new Promise((function(t,n){var r="ws://",c=e.http;"https:"==document.location.protocol&&(c=e.https,r="wss://");var l=c.length,d=100,m=null,f=0,h=!1;window.setTimeout((function(){return h=!0,d<100&&m?void t({best:{channel:m+"/submit",busy:d},available:v}):void n("Judger not available!")}),5e3);for(var v=[],x=function(i){var e=r+c[i],x=e+"/submit",_=Math.random(),y=new o.a(x,{packMessage:function(data){return data.content},unpackMessage:function(data){return data},attachRequestId:function(data,e){return Object.assign({id:e},data)},extractRequestId:function(data){return _}});y.open().then((function(){return y.sendRequest({content:"HELLO:"+c[i]},{requestId:_})})).then((function(r){var o=r.split("#"),h=parseInt(o[1],10);if(v.push({server:c[i],busy:h}),h<d)d=h,m=e;else if(h===d){Math.random()<.4&&(m=e)}if(++f===l||3===f)return d<100?void t({best:{channel:m+"/submit",busy:d},available:v}):void n("Judger not available!")})).catch((function(e){if(console.log("Error",e),f++,h||f===l||3===f)return d<100?void t({best:{channel:m+"/submit",busy:d},available:v}):void n("Judger not available!")}))},i=0;i<l;i++)x(i)}))},judgeFunctest:function(e,code){var content={sourcecode:code,sourcelang:"cpp",testdata:{style:"RUN",testsets:[{testcases:[{input:""}]}]}};return new Promise((function(t,n){if(e){var r=Math.random(),c=new o.a(e,{packMessage:function(data){return"CODE:"+JSON.stringify(data.content)},unpackMessage:function(data){return data},attachRequestId:function(data,e){return Object.assign({id:e},data)},extractRequestId:function(data){return r}});c.open().then((function(){return c.sendRequest({content:content},{requestId:r})})).then((function(e){try{var r=JSON.parse(e).RunStatus;if(r.indexOf('["AC"]')>=0)return void t("AC");if(r.indexOf("Wrong")>=0){var o=r.replace(/\\n/g,"\n");return o=(o=o.replace('["',"")).replace('"]',""),void t(o)}return void t(r)}catch(e){return console.log("Error:",e),void n(e)}})).catch((function(e){console.log("Error:",e),n(e)}))}else n("Null judger.")}))},judgeProgtest:function(e,t){var n=Math.random();return new Promise((function(r,c){if(e){var l=new o.a(e,{packMessage:function(data){return"CODE:"+JSON.stringify(data.content)},unpackMessage:function(data){return data},attachRequestId:function(data,e){return Object.assign({id:e},data)},extractRequestId:function(data){return n}});l.open().then((function(){return l.sendRequest({content:t},{requestId:n})})).then((function(e){try{return void r(JSON.parse(e))}catch(e){return console.log("Error:",e),void c(e)}})).catch((function(e){console.log("Error:",e),c(e)}))}else c("Null judger.")}))}};t.a=c},923:function(e,t,n){"use strict";n(905)},924:function(e,t,n){(t=n(57)(!1)).push([e.i,".conn[data-v-3b0aeeaa]{background:green;color:#fff;text-align:center}.row-container[data-v-3b0aeeaa]{width:100%}.toolbar[data-v-3b0aeeaa]{display:flex;flex-direction:row;justify-content:space-start;background:rgba(0,0,0,.03);padding:10px 12px 0 32px;border-bottom:1px solid #d7d7d7}.coder[data-v-3b0aeeaa]{flex:1 1 0;padding-top:12px}[data-v-3b0aeeaa] .CodeMirror-gutters{border-left:0}.btn[data-v-3b0aeeaa],[data-v-3b0aeeaa] .CodeMirror-linenumber{text-align:center}.btn[data-v-3b0aeeaa]{font-size:80%;width:50px;margin:2px 8px 12px 0;padding-left:0;padding-right:0;border-radius:8px}",""]),e.exports=t},925:function(e,t,n){"use strict";n(906)},926:function(e,t,n){(t=n(57)(!1)).push([e.i,'[data-v-6f868a80] .katex{font-size:1.18em}.probPanel[data-v-6f868a80]{max-width:800px;text-align:justify}.ptitle[data-v-6f868a80]{color:#00f;font-family:"Arial"}.ptitle[data-v-6f868a80],[data-v-6f868a80] h1{font-size:100%}[data-v-6f868a80] h1{color:#ff4500;margin:14px 0 6px}[data-v-6f868a80] code{color:#333;font-family:"monospace",Courier;font-size:1.08em}',""]),e.exports=t},927:function(e,t,n){"use strict";n(907)},928:function(e,t,n){(t=n(57)(!1)).push([e.i,'[data-v-6707e4cd] h1{color:#00f;font-family:"Arial";font-size:120%}[data-v-6707e4cd] h2{color:#ff4500;font-size:80%;margin:12px 0;text-decoration:underline}[data-v-6707e4cd] code{color:#222;font-family:"monospace",Courier;font-size:75%}',""]),e.exports=t},929:function(e,t,n){"use strict";n(908)},930:function(e,t,n){(t=n(57)(!1)).push([e.i,'.ptitle[data-v-34cbfb81]{color:#00f;font-size:100%;font-family:"Arial"}[data-v-34cbfb81] mark{background:#ff0;padding:0}.probPanel[data-v-34cbfb81]{padding:0 10px}.item[data-v-34cbfb81]{margin-bottom:20px}.label[data-v-34cbfb81]{width:120px;color:#00f}.label[data-v-34cbfb81],.pseg[data-v-34cbfb81]{display:inline-block}.pseg[data-v-34cbfb81]{color:red}.sample[data-v-34cbfb81],.status[data-v-34cbfb81]{color:#000}.sample[data-v-34cbfb81]{background:#eee;padding:6px 6px 6px 12px;font-family:"Courier New",Courier,monospace}',""]),e.exports=t},931:function(e,t,n){"use strict";n(909)},932:function(e,t,n){(t=n(57)(!1)).push([e.i,"[data-v-d5ab6834] h1{font-size:110%;color:red;margin-bottom:24px}[data-v-d5ab6834] .myclass>div{position:absolute!important;width:700px;top:180px!important;right:64px!important;background-color:#ff0!important}[data-v-d5ab6834] .myclass>div.modal-dialog>.modal-content{background-color:#f8ecec!important}",""]),e.exports=t},933:function(e,t,n){"use strict";n(910)},934:function(e,t,n){(t=n(57)(!1)).push([e.i,".assist[data-v-58f90078]{background:#dff5f5;border:1px solid #eeaf3b;padding:12px;right:100px;top:150px;line-height:150%;overflow-y:auto}.handTitle[data-v-58f90078]{background:#e0e0f7;color:#2c2fe9}",""]),e.exports=t},935:function(e,t,n){var content=n(1090);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(58).default)("bd29fd04",content,!0,{sourceMap:!1})},940:function(e,t,n){"use strict";n.r(t);n(130),n(379),n(9),n(162),n(21),n(29),n(49);var r=n(7),o=n(884),c=n(891),l=n(20),d={components:{ProblemSolver:c.default},props:{quiz:Object,submit:Function,times:{type:Number,default:300},skip:{type:Boolean,default:!1},lang:{type:String,default:""},langs:{type:String,default:"c, cpp, py"},initcode:{type:String,default:""},correctHint:{type:String,default:"正確，提交並進下一題"}},data:function(){return{lastcode:{sourceLang:"c",sourceCode:""},showPass:!1,mycode:"",channel:null,chnlabel:"None",time:0,timer:null,timing:!0,spendTime:0,result:null,judging:!1,submitResult:null,pass:!1,done:!1,srclang:"c",localeText:{ProgTest_Type:"《程式題》",SYS_CountDown:"倒數計時"}}},computed:{tick:function(){return this.$store.state.params.tick}},created:function(){if(this.mycode=this.initcode,this.langs){var e=this.langs.replace(/\s/g,"").split(",");""!==this.lang&&e.includes(this.lang)?this.srclang=this.lang:this.srclang=e[0]}else""!==this.lang&&(this.srclang=this.lang)},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0==e.times?e.timing=!1:e.time=e.times;case 1:case"end":return t.stop()}}),t)})))()},methods:{isubmit:function(data){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=data.cdata,r=data.result,n.sourceLang==e.lastcode.sourceLang&&n.sourceCode==e.lastcode.sourceCode){t.next=9;break}return e.lastcode={sourceLang:n.sourceLang,sourceCode:n.sourceCode},c={uid:e.$user("id"),pid:e.quiz.id,created:o.a.getNow(),lang:n.sourceLang,code:n.sourceCode,status:r.RunStatus,score:r.Score},t.next=7,l.d.collection("submits").add(c);case 7:d=t.sent,c.id=d.id;case 9:"AC"===r.RunStatus&&(e.spendTime=e.timing?e.times-e.time:0,e.showPass=!0);case 10:case"end":return t.stop()}}),t)})))()},mmss:function(e){return o.a.mmss(e)},send:function(e){this.done||(this.done=!0,this.showPass||(this.spendTime=this.timing?this.times-this.time:0),this.showPass=!1,this.judging=!1,this.submit({correct:e,uans:this.lastcode.sourceCode,usetime:this.spendTime,lang:this.lastcode.sourceLang}))}},watch:{tick:function(e){this.time>0&&this.time--,0===this.time&&this.send(!1)},skip:function(e){!e||this.done||this.showPass||this.send(!1)}}},m=(n(1089),n(56)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"qpanel"},[n("b-modal",{attrs:{centered:"",title:"通過測試","hide-footer":"","no-close-on-esc":"","no-close-on-backdrop":"","hide-header-close":""},model:{value:e.showPass,callback:function(t){e.showPass=t},expression:"showPass"}},[n("p",{attrs:{align:"center"}},[n("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.send(!0)}}},[e._v("下一題")])],1)]),e._v(" "),n("p",{staticClass:"timestatus"},[n("span",{staticClass:"type"},[e._v(e._s(e.localeText.ProgTest_Type))]),e._v(" "),e.timing?n("span",[e._v(e._s(e.localeText.SYS_CountDown)+" "+e._s(e.mmss(e.time)))]):n("span",[e._v("靜態測試")])]),e._v(" "),n("problem-solver",{attrs:{problem:e.quiz,lang:e.srclang,langs:e.langs,isExam:!0},on:{submit:e.isubmit}})],1)}),[],!1,null,"44e1bc99",null);t.default=component.exports;installComponents(component,{ProblemSolver:n(891).default})},942:function(e,t,n){"use strict";n.r(t);n(47);var r={props:["text"],data:function(){return{visibleText:"",invisibleText:"",intervalId:null}},mounted:function(){var e=this,t=-1;this.intervalId=setInterval((function(){++t<e.text.length?(e.visibleText=e.text.substring(0,t+1),e.invisibleText=e.text.substring(t+1)):t==e.text.length+10&&(t=-1)}),100)},beforeDestroy:function(){clearInterval(this.intervalId)}},o=n(56),component=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("span",[this._v(this._s(this.visibleText))]),this._v(" "),t("span",{staticStyle:{visibility:"hidden"}},[this._v(this._s(this.invisibleText))])])}),[],!1,null,null,null);t.default=component.exports}}]);