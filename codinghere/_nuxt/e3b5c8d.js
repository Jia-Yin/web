(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1001:function(t,e,n){"use strict";n(873)},1002:function(t,e,n){(e=n(59)(!1)).push([t.i,'.buttons[data-v-6e1ffb85]{position:absolute;right:0;top:10px}.pmpanel[data-v-6e1ffb85]{position:relative}.pdescription[data-v-6e1ffb85]{width:100%;height:300px}.titleLabel[data-v-6e1ffb85]{display:inline-block;width:100px;margin:0 16px 24px 0;text-align:right}[data-v-6e1ffb85] .katex{font-size:1.18em}.ptitle[data-v-6e1ffb85]{color:#00f;font-size:120%;font-family:"Arial"}[data-v-6e1ffb85] h1{color:#ff4500;font-size:110%;margin:12px 0 6px}[data-v-6e1ffb85] code{color:#333;font-family:"monospace",Courier;font-size:1.08em}',""]),t.exports=e},846:function(t,e,n){var content=n(850);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("2bf05a02",content,!0,{sourceMap:!1})},847:function(t,e,n){"use strict";n.r(e);n(362);var o=n(0),r=(n(226),n(79));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var c={props:{value:Object,rows:{type:Number,default:10}},data:function(){return{locales:[{name:"zh",value:"中文"},{name:"en",value:"English"}],content:{zh:null,en:null}}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(r.b)({user:function(t){return t.user},locale:function(t){return t.user.locale},system:function(t){return t.system}})),created:function(){if(this.system.locales&&this.system.locales.support)for(var t in this.locales=[],this.system.locales.support)this.locales.push({key:t,label:this.system.locales.support[t]});this.value&&(this.content=this.value)},mounted:function(){this.setLang(this.locales[0].key)},methods:{setLang:function(t){this.$emit("curLang",t)},cinput:function(){this.$emit("input",this.content)}},watch:{value:function(t){this.content=t}}},m=(n(849),n(70)),component=Object(m.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-tabs",t._l(t.locales,(function(e,o){return n("b-tab",{key:"locale"+o,attrs:{title:e.label},on:{click:function(n){return t.setLang(e.key)}}},[n("b-textarea",{attrs:{rows:t.rows},on:{input:t.cinput},model:{value:t.content[e.key],callback:function(n){t.$set(t.content,e.key,n)},expression:"content[lang.key]"}})],1)})),1)],1)}),[],!1,null,"13278d4c",null);e.default=component.exports},849:function(t,e,n){"use strict";n(846)},850:function(t,e,n){(e=n(59)(!1)).push([t.i,"textarea[data-v-13278d4c]{width:100%}",""]),t.exports=e},859:function(t,e,n){"use strict";n.r(e);n(229),n(364),n(54);var o=n(14),r=n(0),l=n(79),c=n(226),m=n(847),d=n(896),f=n(856),P=n(840);n(854);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var h={props:{problem:Object,problemSet:String,okText:{type:String,default:"OK"}},components:{LocaleInput:m.default,CodeEditor:d.default},data:function(){return{curLang:null,dummyInt:0,showTest:!1,testDataStr:"",channel:null,cmpoptions:[{text:"Strict",value:"strict"},{text:"Space Ignored",value:"space"},{text:"Order Ignored",value:"order"}],locales:[{zh:"中文"}],PMProblem:{title:null,description:null,answerLang:"c",answerCode:"",dataLang:"py",dataCode:"",cmpMode:"strict",timeLimit:1,memoryLimit:128,outputLimit:1e4,tags:""},localeText:{PM_Basic:"基本",PM_Question:"問題",PM_TestData:"測資",PM_Answer:"解答",PM_Title:"標題",PM_Tag:"標籤",PM_Compare:"比對",PM_TimeLimit:"限時",PM_MemoryLimit:"限制記憶體",PM_OutputLimit:"限制輸出",PM_Test:"測試",PM_Reset:"清除"}}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(l.b)({user:function(t){return t.user},locale:function(t){return t.user.locale},system:function(t){return t.system}})),created:function(){if(this.problem&&(this.PMProblem=JSON.parse(JSON.stringify(this.problem))),this.system.locales&&this.locale in this.system.locales.support){this.localeText=c.a.updateParams(this.system.locales[this.locale],this.localeText),this.locales=[];var t=!1;for(var e in this.PMProblem.title||(this.PMProblem.title={},t=!0),this.system.locales.support)this.locales.push({key:e,label:this.system.locales.support[e]}),t&&(this.PMProblem.title[e]=null)}},methods:{curTitle:function(){return this.PMProblem&&this.PMProblem.title?P.a.selectLocaleText(this.PMProblem.title,this.curLang):""},curDesc:function(){return this.PMProblem&&this.PMProblem.description?P.a.selectLocaleText(this.PMProblem.description,this.curLang):""},ok:function(){this.$emit("OK",this.PMProblem)},getJudger:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$store.state.system||!t.$store.state.system.judgers){e.next=5;break}return e.next=3,f.a.checkServer(t.$store.state.system.judgers);case 3:n=e.sent,t.channel=n.best.channel;case 5:case"end":return e.stop()}}),e)})))()},testAnswer:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.channel){e.next=3;break}return e.next=3,t.getJudger();case 3:return n={execMode:"RUN",dataCode:t.PMProblem.dataCode,dataLang:t.PMProblem.dataLang,sourceCode:t.PMProblem.answerCode,sourceLang:t.PMProblem.answerLang},e.next=6,f.a.judgeProgtest(t.channel,n);case 6:o=e.sent,console.log("RESULT",o),t.testDataStr="Input:\n"+o.WrongCase.input+"\nOutput:\n"+o.Response,t.showTest=!0;case 10:case"end":return e.stop()}}),e)})))()},testDataFunc:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.channel){e.next=3;break}return e.next=3,t.getJudger();case 3:return n={execMode:"TESTDATA",dataCode:t.PMProblem.dataCode,dataLang:t.PMProblem.dataLang},console.log("Cdata",n),e.next=7,f.a.judgeProgtest(t.channel,n);case 7:o=e.sent,t.testDataStr=o.Response,t.showTest=!0;case 10:case"end":return e.stop()}}),e)})))()},resetProblem:function(){this.PMProblem={title:{en:"",zh:" "},description:{en:"",zh:""},answerLang:"c",answerCode:"",dataLang:"py",dataCode:"",tags:"",timeLimit:null,memoryLimit:null,outputLimit:null},this.$emit("Reset")}},watch:{problem:function(p){p&&(this.PMProblem=JSON.parse(JSON.stringify(p)))}}},y=(n(1001),n(70)),component=Object(y.a)(h,(function(){var t=this,e=this,n=e.$createElement,o=e._self._c||n;return o("div",{staticClass:"pmpanel"},[o("div",{staticClass:"buttons"},[o("span",{staticClass:"mr-2"},[e._v(e._s(e.problemSet))]),e._v(" "),o("b-button",{staticClass:"mr-2",attrs:{variant:"primary",size:"sm"},on:{click:e.resetProblem}},[e._v("\n            "+e._s(e.localeText.PM_Reset)+"\n        ")]),e._v(" "),o("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:e.ok}},[e._v("\n            "+e._s(e.okText)+"\n        ")])],1),e._v(" "),o("b-tabs",[o("b-tab",{attrs:{title:e.localeText.PM_Basic}},[o("div",{staticClass:"d-flex justify-content-start mt-3"},[o("span",{staticClass:"mr-3"},[e._v(e._s(e.localeText.PM_Title))]),e._v(" "),o("div",{staticClass:"flex-grow-1"},e._l(e.locales,(function(t,n){return o("div",{key:"title"+n,staticClass:"d-flex justify-content-start mb-3"},[o("span",{staticClass:"mr-3",staticStyle:{"text-align":"right",width:"100px"}},[e._v(e._s(t.label))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.PMProblem.title[t.key],expression:"PMProblem.title[lang.key]"}],staticClass:"flex-grow-1",domProps:{value:e.PMProblem.title[t.key]},on:{input:function(n){n.target.composing||e.$set(e.PMProblem.title,t.key,n.target.value)}}})])})),0)]),e._v(" "),o("div",{staticClass:"d-flex justify-content-start"},[o("span",{staticClass:"mr-3"},[e._v(e._s(e.localeText.PM_Tag))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.PMProblem.tags,expression:"PMProblem.tags"}],staticClass:"flex-grow-1",domProps:{value:e.PMProblem.tags},on:{input:function(t){t.target.composing||e.$set(e.PMProblem,"tags",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"d-flex justify-content-start mt-3"},[o("span",{staticClass:"mr-3"},[e._v(e._s(e.localeText.PM_Compare))]),e._v(" "),o("b-form-radio-group",{staticClass:"flex-grow-1",attrs:{options:e.cmpoptions},model:{value:e.PMProblem.cmpMode,callback:function(t){e.$set(e.PMProblem,"cmpMode",t)},expression:"PMProblem.cmpMode"}})],1),e._v(" "),o("div",{staticClass:"d-flex justify-content-start mt-3"},[o("span",{staticClass:"mr-3"},[e._v(e._s(e.localeText.PM_TimeLimit))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.PMProblem.timeLimit,expression:"PMProblem.timeLimit"}],staticClass:"mr-5",attrs:{size:"2"},domProps:{value:e.PMProblem.timeLimit},on:{input:function(t){t.target.composing||e.$set(e.PMProblem,"timeLimit",t.target.value)}}}),e._v(" "),o("span",{staticClass:"mr-3"},[e._v(e._s(e.localeText.PM_MemoryLimit))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.PMProblem.memoryLimit,expression:"PMProblem.memoryLimit"}],staticClass:"mr-5",attrs:{size:"2"},domProps:{value:e.PMProblem.memoryLimit},on:{input:function(t){t.target.composing||e.$set(e.PMProblem,"memoryLimit",t.target.value)}}}),e._v(" "),o("span",{staticClass:"mr-3"},[e._v(e._s(e.localeText.PM_OutputLimit))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.PMProblem.outputLimit,expression:"PMProblem.outputLimit"}],attrs:{size:"2"},domProps:{value:e.PMProblem.outputLimit},on:{input:function(t){t.target.composing||e.$set(e.PMProblem,"outputLimit",t.target.value)}}})])]),e._v(" "),o("b-tab",{attrs:{title:e.localeText.PM_Question}},[o("b-row",[o("b-col",{attrs:{cols:"6"}},[o("locale-input",{staticClass:"mt-3",attrs:{rows:16},on:{curLang:function(e){t.curLang=e}},model:{value:e.PMProblem.description,callback:function(t){e.$set(e.PMProblem,"description",t)},expression:"PMProblem.description"}})],1),e._v(" "),o("b-col",{staticClass:"pl-4 mt-4",attrs:{cols:"6"}},[o("div",[o("p",{staticClass:"ptitle"},[e._v(e._s(e.curTitle()))]),e._v(" "),o("p",{domProps:{innerHTML:e._s(e.$md.render(e.curDesc()))}})])])],1)],1),e._v(" "),o("b-tab",{attrs:{title:e.localeText.PM_TestData},on:{click:function(t){e.dummyInt+=1}}},[o("div",{staticClass:"d-flex justify-content-start mt-3"},[o("span",{staticClass:"mr-3"},[e._v(e._s(e.localeText.PM_DataLang))]),e._v(" "),o("b-form-radio-group",{staticClass:"flex-grow-1",attrs:{options:["py","cpp"]},model:{value:e.PMProblem.dataLang,callback:function(t){e.$set(e.PMProblem,"dataLang",t)},expression:"PMProblem.dataLang"}}),e._v(" "),o("b-button",{staticClass:"ml-auto",attrs:{size:"sm",variant:"outline-success"},on:{click:e.testDataFunc}},[e._v(e._s(e.localeText.PM_Test))])],1),e._v(" "),o("div",{staticClass:"d-flex justify-content-start mt-3"},[o("span",{staticClass:"mr-3"},[e._v(e._s(e.localeText.PM_DataCode))]),e._v(" "),o("CodeEditor",{staticClass:"flex-grow-1",attrs:{lang:e.PMProblem.dataLang,dummy:e.dummyInt,rows:"10"},model:{value:e.PMProblem.dataCode,callback:function(t){e.$set(e.PMProblem,"dataCode",t)},expression:"PMProblem.dataCode"}})],1),e._v(" "),o("b-modal",{attrs:{size:"lg",title:"Test Data"},model:{value:e.showTest,callback:function(t){e.showTest=t},expression:"showTest"}},[o("pre",[e._v(e._s(e.testDataStr))])])],1),e._v(" "),o("b-tab",{attrs:{title:e.localeText.PM_Answer},on:{click:function(t){e.dummyInt+=1}}},[o("div",{staticClass:"d-flex justify-content-start mt-3"},[o("span",{staticClass:"mr-3"},[e._v(e._s(e.localeText.PM_AnswerLang))]),e._v(" "),o("b-form-radio-group",{staticClass:"flex-grow-1",attrs:{options:["c","cpp","py"]},model:{value:e.PMProblem.answerLang,callback:function(t){e.$set(e.PMProblem,"answerLang",t)},expression:"PMProblem.answerLang"}}),e._v(" "),o("b-button",{staticClass:"ml-auto",attrs:{size:"sm",variant:"outline-success"},on:{click:e.testAnswer}},[e._v(e._s(e.localeText.PM_Test))])],1),e._v(" "),o("div",{staticClass:"d-flex justify-content-start mt-3"},[o("span",{staticClass:"mr-3"},[e._v(e._s(e.localeText.PM_AnswerCode))]),e._v(" "),o("CodeEditor",{staticClass:"flex-grow-1",attrs:{lang:e.PMProblem.answerLang,dummy:e.dummyInt,rows:"10"},model:{value:e.PMProblem.answerCode,callback:function(t){e.$set(e.PMProblem,"answerCode",t)},expression:"PMProblem.answerCode"}})],1)])],1)],1)}),[],!1,null,"6e1ffb85",null);e.default=component.exports;installComponents(component,{LocaleInput:n(847).default,CodeEditor:n(896).default})},865:function(t,e,n){var content=n(908);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("791639b2",content,!0,{sourceMap:!1})},873:function(t,e,n){var content=n(1002);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("60f6edc8",content,!0,{sourceMap:!1})},896:function(t,e,n){"use strict";n.r(e);n(362),n(49),n(864);var o={props:{value:String,height:{type:Number,default:500},lang:{type:String,default:"c"},fontSize:{type:Number,default:100},lineNumbers:{type:Boolean,default:!0},tabSize:{type:Number,default:4},readOnly:{type:Boolean,default:!1},dummy:{type:Number,default:0}},data:function(){return{cm:null,cmstyle:{"font-size":"100%"},cmfontsize:100,cmcode:null,cmOption:{tabSize:4,indentUnit:4,styleActiveLine:!0,lineNumbers:!0,readOnly:!1,matchTags:!0,matchBrackets:!1,autoCloseBrackets:!0,indentWithTabs:!0,autoRefresh:!0,mode:"text/x-c++src",theme:"mdn-like"}}},mounted:function(){this.cmcode=this.value,this.cmOption.lineNumbers=this.lineNumbers,this.cmOption.tabSize=this.tabSize,this.cmOption.indentUnit=this.tabSize,this.cm.focus()},methods:{refresh:function(){if(this.$refs.coder){var t=this;setTimeout((function(){t.$refs.coder.codemirror.refresh()}),1)}},setLang:function(t){"c"!=t&&"cpp"!=t||(this.cmOption.mode="text/x-c++src"),"py"==t&&(this.cmOption.mode="text/x-python"),this.cm.focus()},cinput:function(t){this.$emit("input",t)},setFontSize:function(t){this.cmstyle={"font-size":"".concat(t,"%")}},onCmReady:function(t){t.setSize(null,this.height),this.cm=t,this.setLang(this.lang),this.setFontSize(this.fontSize)}},watch:{dummy:function(t){this.refresh()},value:function(t){this.cmcode=t,this.refresh()},height:function(t){this.cm.setSize(null,t)},fontSize:function(t){this.setFontSize(t)},lang:function(t){this.setLang(t)},lineNumbers:function(t){this.cmOption.lineNumbers=t},tabSize:function(t){this.cmOption.tabSize=t,this.cmOption.indentUnit=t},readOnly:function(t){this.cmOption.readOnly=t}}},r=(n(907),n(70)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-editor"},[n("codemirror",{ref:"coder",staticClass:"coder",style:t.cmstyle,attrs:{options:t.cmOption},on:{ready:t.onCmReady,input:t.cinput},model:{value:t.cmcode,callback:function(e){t.cmcode=e},expression:"cmcode"}})],1)}),[],!1,null,"1f11e5d5",null);e.default=component.exports},907:function(t,e,n){"use strict";n(865)},908:function(t,e,n){(e=n(59)(!1)).push([t.i,".code-editor[data-v-1f11e5d5]{width:100%}[data-v-1f11e5d5] .CodeMirror-gutters{border-left:0}[data-v-1f11e5d5] .CodeMirror-linenumber{text-align:center}.coder[data-v-1f11e5d5]{padding:0;border:1px solid #00f}",""]),t.exports=e}}]);