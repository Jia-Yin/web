(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{1120:function(e,t,r){var content=r(1328);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(57).default)("982317dc",content,!0,{sourceMap:!1})},1327:function(e,t,r){"use strict";r(1120)},1328:function(e,t,r){(t=r(56)(!1)).push([e.i,".cname[data-v-5327e82c]{color:#00f;text-align:center}.col-2[data-v-5327e82c]{padding:24px}.col-10[data-v-5327e82c]{padding:12px;border-left:1px solid #90ee90}.list-group-item[data-v-5327e82c]{width:80%;margin:20px auto;border-radius:20px;text-align:center;border:1px solid green;padding:6px}.list-group-item.active[data-v-5327e82c]{margin:20px auto}.container[data-v-5327e82c]{margin-top:30px;background:#f6faf6;min-height:600px}",""]),e.exports=t},1439:function(e,t,r){"use strict";r.r(t);r(58),r(30),r(86),r(9),r(20),r(49);var n=r(7),o=r(855),c=r(26),d={middleware:"authentication",layout:"normal_user",data:function(){return{teachCourses:[],course:null,courseID:null,localeProcessed:!1,localeText:{Admin_CourseList:"修課清單",Admin_CourseUnit:"課程單元",Admin_CourseScore:"成績管理",Admin_CourseExam:"考試管理",Admin_CourseProblem:"題目管理",Admin_CourseInfo:"課程資訊",Admin_CourseSummary:"課程總覽"}}},computed:{cid:function(){return this.$route.query.cid}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.localeText=e.$updateLocaleText(e.localeText),e.updateCourse();case 2:case"end":return t.stop()}}),t)})))()},methods:{updateCourse:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,d,l,f,h,m,v,i,x,_,C;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$user("id"),t.next=3,e.$store.dispatch("getCourse",e.cid);case 3:if((n=t.sent).id=e.cid,e.courseID=e.cid,e.course=n,d=!1,l=o.a.getToday(),e.course&&e.course.teachers&&e.course.teachers.some((function(e){return e.id===r}))&&(d=!0),e.course&&e.course.assistants&&e.course.assistants.some((function(e){return e.id===r}))&&(d=!0),d){t.next=15;break}e.$router.push("/user"),t.next=20;break;case 15:if(0!=e.teachCourses.length){t.next=20;break}return t.next=18,c.d.collection("courses").doc("LIST").get();case 18:if((f=t.sent).exists){for(h=[],m=f.data(),(v=Object.keys(m)).sort(),i=0;i<v.length;i++)x=v[i],_=m[x],C=!1,_.teachers&&_.teachers.some((function(e){return e.id===r}))&&(C=!0),_.assistants&&_.assistants.some((function(e){return e.id===r}))&&(C=!0),C&&(!_.endDate||_.endDate.replace(/-/g,"")>l)&&(h.push(_),_.id=x,_.text=_.name);e.teachCourses=h}case 20:case"end":return t.stop()}}),t)})))()},changeCourse:function(){var path=this.$route.fullPath.replace(this.cid,this.courseID);this.$router.push(path)}}},l=(r(1327),r(55)),component=Object(l.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("b-row",[r("b-col",{attrs:{cols:"2"}},[e.course&&e.course.id?r("div",[r("b-select",{staticClass:"cname",attrs:{size:"sm","value-field":"id",options:e.teachCourses},on:{change:function(t){return e.changeCourse()}},model:{value:e.courseID,callback:function(t){e.courseID=t},expression:"courseID"}})],1):e._e(),e._v(" "),r("b-list-group",{staticClass:"mt-3"},[r("b-list-group-item",{attrs:{to:"/teacher/summary?cid="+e.cid,variant:"danger",active:"teacher-summary"==e.$route.name}},[e._v(e._s(e.localeText.Admin_CourseSummary))]),e._v(" "),r("b-list-group-item",{attrs:{to:"/teacher/students?cid="+e.cid,variant:"danger",active:"teacher-students"==e.$route.name}},[e._v(e._s(e.localeText.Admin_CourseList))]),e._v(" "),r("b-list-group-item",{attrs:{to:"/teacher/units?cid="+e.cid,variant:"danger",active:"units"==e.$route.query.page}},[e._v(e._s(e.localeText.Admin_CourseUnit))]),e._v(" "),r("b-list-group-item",{attrs:{to:"/teacher/scores?cid="+e.cid,variant:"danger",active:"scores"==e.$route.query.page}},[e._v(e._s(e.localeText.Admin_CourseScore))]),e._v(" "),r("b-list-group-item",{attrs:{to:"/teacher/exams?cid="+e.cid,variant:"danger",active:e.$route.name.includes("exams")}},[e._v(e._s(e.localeText.Admin_CourseExam))]),e._v(" "),r("b-list-group-item",{attrs:{to:"/teacher/problems?cid="+e.cid,variant:"danger",active:"problems"==e.$route.query.page}},[e._v(e._s(e.localeText.Admin_CourseProblem))]),e._v(" "),r("b-list-group-item",{attrs:{to:"/teacher/profile?cid="+e.cid,variant:"danger",active:"profile"==e.$route.query.page}},[e._v(e._s(e.localeText.Admin_CourseInfo))])],1)],1),e._v(" "),r("b-col",{attrs:{cols:"10"}},[r("nuxt-child",{key:e.$route.fullPath})],1)],1)],1)}),[],!1,null,"5327e82c",null);t.default=component.exports},855:function(e,t,r){"use strict";r(10),r(14),r(86),r(9),r(856),r(29),r(15);var n=r(228),o=r.n(n),c={pad:function(e){return e<10?"0"+e:e},mmss:function(e){var t=Math.floor(e/60);return e%=60,"".concat(this.pad(t),":").concat(this.pad(e))},hhmmss:function(e){var t=Math.floor(e/60);e%=60;var r=Math.floor(t/60);return t%=60,"".concat(this.pad(r),":").concat(this.pad(t),":").concat(this.pad(e))},getToday:function(){var e=new Date,dd=String(e.getDate()).padStart(2,"0"),t=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+t+dd},getNow:function(){var e=new Date;return""+e.getFullYear()+this.pad(e.getMonth()+1)+this.pad(e.getDate())+this.pad(e.getHours())+this.pad(e.getMinutes())+this.pad(e.getSeconds())},obj2arr:function(e){var t=[],r=Object.keys(e);return r.sort(),r.forEach((function(r){t.push(Object.assign({id:r},e[r]))})),t},arr2obj:function(e){var t={};return e.forEach((function(e){var r=JSON.parse(JSON.stringify(e)),n=e.id;delete r.id,t[n]=r})),t},getOptions:function(e){var t=[];return e.split("#@@#").forEach((function(e){var s=e.split("#@");t.push({text:s[0],value:s[1]})})),t},findIdPos:function(e,t){if(!e)return-1;for(var r=0;r<e.length;r++)if(t==e[r].id)return r;return-1},encode:function(e,t){return new o.a(e).encrypt(t)},decode:function(e,t){return new o.a(e).decrypt(t)}};t.a=c},856:function(e,t,r){"use strict";var n=r(8),o=r(857).start;n({target:"String",proto:!0,forced:r(858)},{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},857:function(e,t,r){var n=r(50),o=r(229),c=r(52),d=Math.ceil,l=function(e){return function(t,r,l){var f,h,m=String(c(t)),v=m.length,x=void 0===l?" ":String(l),_=n(r);return _<=v||""==x?m:(f=_-v,(h=o.call(x,d(f/x.length))).length>f&&(h=h.slice(0,f)),e?m+h:h+m)}};e.exports={start:l(!1),end:l(!0)}},858:function(e,t,r){var n=r(127);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)}}]);