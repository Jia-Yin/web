(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1050:function(t,e,r){"use strict";r(901)},1051:function(t,e,r){(e=r(59)(!1)).push([t.i,'h1[data-v-0c5e151b]{color:#00f;font-family:"Arial";font-size:100%;margin:24px 0 16px}.showPanel[data-v-0c5e151b]{margin:30px 30px 60px 45px}',""]),t.exports=e},1084:function(t,e,r){"use strict";r.r(e);r(30),r(28),r(104),r(54);var n=r(10),o=r(840),c=r(34),d={components:{ProblemList:r(858).default},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$content,e.next=3,r("playground").fetch();case 3:return n=e.sent,e.abrupt("return",{playground:n});case 5:case"end":return e.stop()}}),e)})))()},data:function(){return{pgKey:"Coding",pgcourse:{},pgbase:{},pgproblems:[],mycoursesAll:{},tabIndex:0,localeText:{UserRecords_NoRecords:"尚未有任何學習記錄",UserRecords_TotalScore:"總共得分",UserRecords_Problem:"問題",UserRecords_Score:"得分",UserRecords_RecentRecords:"最近提交記錄",AdminProblem_Playground:"練習廣場"}}},created:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,d,l,f,m,i,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.localeText=t.$updateLocaleText(t.localeText),t.playground&&(r=t.playground.KEY,n=t.playground.DATA,t.pgproblems=o.a.decode(r,n)),c=t.$user("courses"),d={},!c){e.next=19;break}c.playground&&(t.pgcourse=c.playground),e.t0=regeneratorRuntime.keys(c);case 7:if((e.t1=e.t0()).done){e.next=19;break}if("playground"!=(l=e.t1.value)){e.next=11;break}return e.abrupt("continue",7);case 11:return f=c[l],e.next=14,t.$store.dispatch("getCourse",l);case 14:if((m=e.sent).units)for(i=0;i<m.units.length;i++)h=m.units[i],f.units&&f.units[h.name]&&(h.user=f.units[h.name]),h.cid=l,h.cname=m.name;else m.units=[];d[l]=m,e.next=7;break;case 19:t.pgcourse&&t.pgcourse.units&&t.pgcourse.units.base||(t.pgcourse={name:"playground",units:{base:{}}}),t.mycoursesAll=d,t.$nextTick((function(){t.tabIndex=0}));case 22:case"end":return e.stop()}}),e)})))()},methods:{unitColor:function(t){var e=o.a.getNow().substring(0,8);return e<t.startDate?"text-dark":e<=t.endDate?"text-primary":"text-dark"},doPGProblem:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,d,l,f,m,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!1,!((n=o.a.findIdPos(e.pgproblems,t.prob.id))>=0)){r.next=14;break}if(d=o.a.encode(e.pgKey,JSON.stringify(e.pgproblems[n])),l={courseID:"playground",courseName:"playground",courseUnit:"base",problem:d},!t.smid){r.next=12;break}return r.next=8,c.d.collection("submits").doc(t.smid).get();case 8:f=r.sent,m=f.data(),h={lang:m.lang,code:m.code},l.initCode=h;case 12:e.$store.commit("setParam",{name:"probSet",value:l}),e.$router.push("/user/coding");case 14:case"end":return r.stop()}}),r)})))()},doProblem:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,d,l,f,m,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=o.a.getNow(),d=o.a.encode(e.pgKey,JSON.stringify(t.prob)),l={courseID:t.cid,courseName:t.cname,courseUnit:t.unit,problem:d},n>t.endDate&&(l.practice=!0),!t.smid){r.next=11;break}return r.next=7,c.d.collection("submits").doc(t.smid).get();case 7:f=r.sent,m=f.data(),h={lang:m.lang,code:m.code},l.initCode=h;case 11:e.$store.commit("setParam",{name:"probSet",value:l}),e.$router.push("/user/coding");case 13:case"end":return r.stop()}}),r)})))()},probScore:function(t,e){return t.user&&t.user.probs&&t.user.probs[e.id]&&t.user.probs[e.id].score?t.user.probs[e.id].score:0},validDate:function(t){return o.a.getNow().substring(0,8)>=t.startDate},getUnits:function(t){return this.mycoursesAll[t]?this.mycoursesAll[t].units:[]},total:function(t){var e=0;if(t.units)for(var i=0;i<t.units.length;i++){var r=t.units[i];r.user&&(e+=r.user.score)}return e}}},l=(r(1050),r(70)),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"showPanel"},[t.pgcourse||Object.keys(t.mycoursesAll).length>0?r("div",[r("b-tabs",{model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[t._l(t.mycoursesAll,(function(e,n){return r("b-tab",{key:n,attrs:{title:e.name}},[r("div",{staticClass:"ml-2 mr-4"},[r("h1",[t._v(t._s(t.localeText.UserRecords_TotalScore)+" = "+t._s(t.total(e)))]),t._v(" "),t._l(e.units,(function(e,n){return r("div",{key:e.id},[r("div",{staticClass:"my-3"},[r("b-link",{staticClass:"mylink",class:t.unitColor(e),on:{click:function(t){e.show=!e.show}}},[t._v(t._s(n+1)+". "+t._s(e.name)+" ("+t._s(e.startDate)+"-"+t._s(e.endDate)+")\n                                SCORE = \n                                "),e.user?r("span",[t._v(t._s(e.user.score))]):r("span",[t._v("0")])]),t._v(" "),r("b-collapse",{staticClass:"mt-2 mb-4",model:{value:e.show,callback:function(r){t.$set(e,"show",r)},expression:"unit.show"}},[r("problem-list",{attrs:{unit:e},on:{click:t.doProblem}})],1)],1)])}))],2)])})),t._v(" "),r("b-tab",{attrs:{title:t.localeText.AdminProblem_Playground}},[t.pgcourse.units&&t.pgcourse.units.base&&t.pgcourse.units.base.probs&&Object.keys(t.pgcourse.units.base.probs).length>0?r("div",{staticClass:"ml-2 mr-4"},[r("h1",[t._v(t._s(t.localeText.UserRecords_TotalScore)+" = "+t._s(t.pgcourse.units.base.score))]),t._v(" "),r("problem-list",{attrs:{unit:t.pgcourse.units.base},on:{click:t.doPGProblem}})],1):r("div",{staticClass:"ml-2 mt-4"},[t._v("\n                    "+t._s(t.localeText.UserRecords_NoRecords)+"\n                ")])])],2)],1):r("div",[t._v("\n        "+t._s(t.localeText.UserRecords_NoRecords)+"\n    ")])])}),[],!1,null,"0c5e151b",null);e.default=component.exports;installComponents(component,{ProblemList:r(858).default})},840:function(t,e,r){"use strict";r(9),r(14),r(22),r(103),r(8),r(841),r(27),r(15);var n=r(227),o=r.n(n),c={pad:function(t){return("0"+t).slice(-2)},mmss:function(t){var e=Math.floor(t/60);return t%=60,"".concat(this.pad(e),":").concat(this.pad(t))},hhmmss:function(t){var e=Math.floor(t/60);t%=60;var r=Math.floor(e/60);return e%=60,"".concat(this.pad(r),":").concat(this.pad(e),":").concat(this.pad(t))},getToday:function(){var t=new Date,dd=String(t.getDate()).padStart(2,"0"),e=String(t.getMonth()+1).padStart(2,"0");return t.getFullYear()+e+dd},getNow:function(){var t=new Date;return""+t.getFullYear()+this.pad(t.getMonth()+1)+this.pad(t.getDate())+this.pad(t.getHours())+this.pad(t.getMinutes())+this.pad(t.getSeconds())},obj2arr:function(t){var e=[],r=Object.keys(t);return r.sort(),r.forEach((function(r){e.push(Object.assign({id:r},t[r]))})),e},arr2obj:function(t){var e={};return t.forEach((function(t){var r=JSON.parse(JSON.stringify(t)),n=t.id;delete r.id,e[n]=r})),e},getOptions:function(t){var e=[];return t.split("#@@#").forEach((function(t){var s=t.split("#@");e.push({text:s[0],value:s[1]})})),e},findIdPos:function(t,e){if(!t)return-1;for(var r=0;r<t.length;r++)if(e==t[r].id)return r;return-1},encode:function(t,e){return new o.a(t).encrypt(e)},decode:function(t,e){return new o.a(t).decrypt(e)}};e.a=c},841:function(t,e,r){"use strict";var n=r(7),o=r(842).start;n({target:"String",proto:!0,forced:r(843)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},842:function(t,e,r){var n=r(48),o=r(228),c=r(51),d=Math.ceil,l=function(t){return function(e,r,l){var f,m,h=String(c(e)),v=h.length,x=void 0===l?" ":String(l),_=n(r);return _<=v||""==x?h:(f=_-v,(m=o.call(x,d(f/x.length))).length>f&&(m=m.slice(0,f)),t?h+m:m+h)}};t.exports={start:l(!1),end:l(!0)}},843:function(t,e,r){var n=r(127);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},856:function(t,e,r){var content=r(868);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(60).default)("5590ae43",content,!0,{sourceMap:!1})},858:function(t,e,r){"use strict";r.r(e);r(30);var n=r(47),o=r(840),c={props:{unit:Object},data:function(){return{inUnit:[],localeText:{UserRecords_NoRecords:"尚未有任何學習記錄",UserRecords_TotalScore:"總共得分",UserRecords_Problem:"問題",UserRecords_Score:"得分",UserRecords_RecentRecords:"最近提交記錄",AdminProblem_Playground:"練習廣場"}}},created:function(){"object"===Object(n.a)(this.unit.probs)?(this.inUnit=JSON.parse(JSON.stringify(this.unit)),this.inUnit.probs=o.a.obj2arr(this.unit.probs)):this.inUnit=this.unit},methods:{history:function(p){return p.last5?p.last5:this.unit.user&&this.unit.user.probs&&this.unit.user.probs[p.id]?this.unit.user.probs[p.id].last5:[]},score:function(p){return this.unit.user&&this.unit.user.probs&&this.unit.user.probs[p.id]?this.unit.user.probs[p.id].score:0},doPGProblem:function(t,e){this.$emit("click",{cid:this.unit.cid,cname:this.unit.cname,unit:this.unit.name,prob:t,smid:e,startDate:this.unit.startDate,endDate:this.unit.endDate})}}},d=(r(867),r(70)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"tbl-col"},[r("div",{staticClass:"row"},[r("div",{staticClass:"th wprob"},[t._v(t._s(t.localeText.UserRecords_Problem))]),t._v(" "),r("div",{staticClass:"th wscore"},[t._v(t._s(t.localeText.UserRecords_Score))]),t._v(" "),r("div",{staticClass:"th wadj"},[t._v(t._s(t.localeText.UserRecords_RecentRecords))])]),t._v(" "),t._l(t.inUnit.probs,(function(e,n){return r("div",{key:e.id,staticClass:"row"},[r("div",{staticClass:"tl wprob"},[r("span",[t._v(t._s(n+1)+".\n                    "),r("b-link",{staticClass:"ml-2",class:t.score(e)>60?"text-success":"text-danger",on:{click:function(r){return t.doPGProblem(e)}}},[t._v(t._s(t.$selectUserLocaleText(e.title)))])],1)]),t._v(" "),r("div",{staticClass:"td wscore"},[r("span",{class:t.score(e)>60?"text-success":"text-danger",staticStyle:{display:"inline-block",width:"50px","text-align":"center"}},[t._v(t._s(t.score(e)))])]),t._v(" "),r("div",{staticClass:"tl wadj"},t._l(t.history(e),(function(n){return r("span",{key:n},[r("b-link",{staticClass:"mr-3",on:{click:function(r){return t.doPGProblem(e,n)}}},[t._v("\n                        "+t._s(n.substring(0,4))+"\n                    ")])],1)})),0)])}))],2)])}),[],!1,null,"7ed22bd0",null);e.default=component.exports},867:function(t,e,r){"use strict";r(856)},868:function(t,e,r){(e=r(59)(!1)).push([t.i,"div[data-v-7ed22bd0]{box-sizing:border-box;margin:0}.tbl-col[data-v-7ed22bd0]{display:flex;flex-flow:column nowrap;width:95%;min-width:40em;overflow:auto;border:2px solid grey;font-size:90%}.row[data-v-7ed22bd0]{height:2em;display:flex;flex-flow:row nowrap;justify-content:left;align-items:left}.row[data-v-7ed22bd0]:not(:first-child){border-top:1px solid #777}.row[data-v-7ed22bd0]:nth-child(2n){background-color:#eee}.row[data-v-7ed22bd0]:nth-child(odd){background-color:#fff}.td[data-v-7ed22bd0],.th[data-v-7ed22bd0],.tl[data-v-7ed22bd0]{display:flex;align-items:center;border:0;flex-shrink:0}.td[data-v-7ed22bd0],.th[data-v-7ed22bd0]{justify-content:center}.tl[data-v-7ed22bd0]{padding-left:1em;align-items:left}.th[data-v-7ed22bd0]{background-color:#aaa;color:#fff}.td[data-v-7ed22bd0]:not(:last-child),.th[data-v-7ed22bd0]:not(:last-child),.tl[data-v-7ed22bd0]:not(:last-child){border-right:1px solid #777}.wadj[data-v-7ed22bd0]{flex-grow:1}.wprob[data-v-7ed22bd0]{width:20em}.wscore[data-v-7ed22bd0]{width:6em}.wlink[data-v-7ed22bd0]{width:12em}",""]),t.exports=e},901:function(t,e,r){var content=r(1051);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(60).default)("8efa1264",content,!0,{sourceMap:!1})}}]);