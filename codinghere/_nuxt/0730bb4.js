(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{1129:function(e,t,r){var content=r(1345);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(57).default)("141fc052",content,!0,{sourceMap:!1})},1344:function(e,t,r){"use strict";r(1129)},1345:function(e,t,r){(t=r(56)(!1)).push([e.i,".qlabel[data-v-ec269934]{color:#00f}.qright[data-v-ec269934]{color:green}.qwrong[data-v-ec269934]{color:red}.person[data-v-ec269934]{color:#fff;background:#4d4dec;font-size:120%;padding:6px;text-align:center;margin-bottom:16px}.item[data-v-ec269934]{margin-top:12px}",""]),e.exports=t},1449:function(e,t,r){"use strict";r.r(t);r(10),r(14),r(86),r(15),r(49);var n=r(7),o=(r(855),r(26)),c={computed:{cid:function(){return this.$route.query.cid},eid:function(){return this.$route.query.eid},uid:function(){return this.$route.query.uid}},data:function(){return{records:{},recordTitle:"",username:"",showCode:!1,pgKey:"Coding",exam:null,problems:{},problem:null,initCode:"",lang:"",answers:null,localeText:{Exam_Score:"分數",Exam_UseTime:"用時",Exam_Code:"程式碼",Exam_Record:"提交記錄",Exam_Choice:"選擇",Exam_Fillin:"填充",Exam_Function:"函式",Exam_Program:"程式",SYS_Clear:"清除"}}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.localeText=e.$updateLocaleText(e.localeText),e.username=decodeURIComponent(e.$route.hash.substring(2)),e.exam){t.next=7;break}return t.next=5,o.d.collection("exams").doc(e.eid).get();case 5:r=t.sent,e.exam=r.data();case 7:if(0!==Object.keys(e.problems).length){t.next=12;break}return t.next=10,o.d.collection("problems").doc("BASE").get();case 10:n=t.sent,e.problems=n.data();case 12:if(e.answers){t.next=19;break}return c=[],t.next=16,o.d.collection("answers").where("examid","==",e.eid).where("userid","==",e.uid).get();case 16:(l=t.sent).empty||l.docs.forEach((function(e){e.data();c.push(e.data())})),e.answers=c;case 19:case"end":return t.stop()}}),t)})))()},methods:{submit:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},record:function(e,t,r){var c=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var l,d,i,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.problem=e,n.next=3,o.d.collection("submits").where("uid","==",c.uid).where("pid","==",r).where("created",">",t.date).get();case 3:if(!(l=n.sent).empty){for(d={},i=0;i<l.docs.length;i++)f=l.docs[i].data(),d[l.docs[i].id]={created:f.created,status:f.status,score:f.score,uans:f.code,lang:f.lang};c.records=d,c.recordTitle=c.$selectUserLocaleText(e.title)}case 5:case"end":return n.stop()}}),n)})))()},codetest:function(e,t){this.problem=e,this.initCode=t.uans,this.lang=t.lang,this.showCode=!0},quizhead:function(e,t){var r=t.correct?"O":"X",n={singlechoice:this.localeText.Exam_Choice,fillin:this.localeText.Exam_Fillin,functest:this.localeText.Exam_Function,progtest:this.localeText.Exam_Program};return"(".concat(r,") [").concat(n[e.type],"] ").concat(this.$selectUserLocaleText(e.title)," (T=").concat(t.usetime,")")},showAnswer:function(e){var t=this.problems[e.qid];if(t){var r=e.correct?"O":"X";if("singlechoice"==t.type)return"("+r+") "+t.title+" "+t.question+" "+JSON.stringify(t.options,null,2)+" Ans:"+(e.answer+1)+" User:"+(e.user+1);if("fillin"==t.type)return"("+r+") "+t.title+" "+t.question+" Ans:"+(e.answer+1)+" User:"+(e.user+1);if("progtest"==t.type)return"<b-button>TEST</b-button>("+r+") "+t.title+" "+e.uans;if("functest"==t.type)return"("+r+") "+t.title+" "+e.uans}}}},l=(r(1344),r(55)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("b-modal",{attrs:{size:"xl",title:"Code Checking"},model:{value:e.showCode,callback:function(t){e.showCode=t},expression:"showCode"}},[r("problem-solver",{attrs:{problem:e.problem,initCode:e.initCode,lang:e.lang},on:{submit:e.submit}})],1),e._v(" "),e.answers&&e.exam?r("div",[e._l(e.answers,(function(t,n){return r("div",{key:"answer"+n},[e._v("\n            "+e._s(t.examname)+" -- "+e._s(t.date)+" -- "+e._s(e.username)+"\n\n            "),r("span",{staticClass:"ml-3"},[e._v(e._s(e.localeText.Exam_Score)+" = "+e._s(t.score))]),e._v(" "),r("span",{staticClass:"ml-3"},[e._v(e._s(e.localeText.Exam_UseTime)+" = "+e._s(t.totaltime))]),e._v(" "),e._l(e.exam.probs,(function(n,o){return r("div",{key:o+n.id},[t.submits&&t.submits[n.id]&&n&&"progtest"==n.type?r("div",{staticClass:"item"},[e._v("\n                    "+e._s(o+1)+". "),r("span",{staticClass:"qlabel"},[e._v(e._s(e.quizhead(n,t.submits[n.id])))]),e._v(" "),r("b-button",{attrs:{size:"sm",variant:t.submits[n.id].correct?"outline-success":"outline-danger"},on:{click:function(r){return e.codetest(n,t.submits[n.id])}}},[e._v(e._s(e.localeText.Exam_Code))]),e._v(" "),r("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(r){return e.record(n,t,n.id)}}},[e._v(e._s(e.localeText.Exam_Record))])],1):e._e()])})),e._v(" "),r("hr")],2)})),e._v(" "),Object.keys(e.records).length>0?r("div",[e._v("\n            "+e._s(e.recordTitle)+" "),r("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(t){e.records={}}}},[e._v(e._s(e.localeText.SYS_Clear))]),e._v(" "),e._l(e.records,(function(t,n,o){return r("p",{key:n},[e._v("\n                "+e._s(o+1)+". "),r("b-link",{on:{click:function(r){return e.codetest(e.problem,t)}}},[e._v(e._s(n))]),e._v(" ==> "+e._s(t)+"\n            ")],1)}))],2):e._e()],2):e._e()],1)}),[],!1,null,"ec269934",null);t.default=component.exports;installComponents(component,{ProblemSolver:r(862).default})},855:function(e,t,r){"use strict";r(10),r(14),r(86),r(9),r(856),r(29),r(15);var n=r(228),o=r.n(n),c={pad:function(e){return e<10?"0"+e:e},mmss:function(e){var t=Math.floor(e/60);return e%=60,"".concat(this.pad(t),":").concat(this.pad(e))},hhmmss:function(e){var t=Math.floor(e/60);e%=60;var r=Math.floor(t/60);return t%=60,"".concat(this.pad(r),":").concat(this.pad(t),":").concat(this.pad(e))},getToday:function(){var e=new Date,dd=String(e.getDate()).padStart(2,"0"),t=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+t+dd},getNow:function(){var e=new Date;return""+e.getFullYear()+this.pad(e.getMonth()+1)+this.pad(e.getDate())+this.pad(e.getHours())+this.pad(e.getMinutes())+this.pad(e.getSeconds())},obj2arr:function(e){var t=[],r=Object.keys(e);return r.sort(),r.forEach((function(r){t.push(Object.assign({id:r},e[r]))})),t},arr2obj:function(e){var t={};return e.forEach((function(e){var r=JSON.parse(JSON.stringify(e)),n=e.id;delete r.id,t[n]=r})),t},getOptions:function(e){var t=[];return e.split("#@@#").forEach((function(e){var s=e.split("#@");t.push({text:s[0],value:s[1]})})),t},findIdPos:function(e,t){if(!e)return-1;for(var r=0;r<e.length;r++)if(t==e[r].id)return r;return-1},encode:function(e,t){return new o.a(e).encrypt(t)},decode:function(e,t){return new o.a(e).decrypt(t)}};t.a=c},856:function(e,t,r){"use strict";var n=r(8),o=r(857).start;n({target:"String",proto:!0,forced:r(858)},{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},857:function(e,t,r){var n=r(50),o=r(229),c=r(52),l=Math.ceil,d=function(e){return function(t,r,d){var f,m,h=String(c(t)),x=h.length,v=void 0===d?" ":String(d),_=n(r);return _<=x||""==v?h:(f=_-x,(m=o.call(v,l(f/v.length))).length>f&&(m=m.slice(0,f)),e?h+m:m+h)}};e.exports={start:d(!1),end:d(!0)}},858:function(e,t,r){var n=r(127);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},868:function(e,t,r){(t=r(56)(!1)).push([e.i,'.vdr{touch-action:none;border:1px dashed #000}.handle,.vdr{position:absolute;box-sizing:border-box}.handle{width:10px;height:10px;background:#eee;border:1px solid #333}.handle-tl{top:-10px;left:-10px;cursor:nw-resize}.handle-tm{top:-10px;left:50%;margin-left:-5px;cursor:n-resize}.handle-tr{top:-10px;right:-10px;cursor:ne-resize}.handle-ml{left:-10px;cursor:w-resize}.handle-ml,.handle-mr{top:50%;margin-top:-5px}.handle-mr{right:-10px;cursor:e-resize}.handle-bl{bottom:-10px;left:-10px;cursor:sw-resize}.handle-bm{bottom:-10px;left:50%;margin-left:-5px;cursor:s-resize}.handle-br{bottom:-10px;right:-10px;cursor:se-resize}@media only screen and (max-width:768px){[class*=handle-]:before{content:"";left:-10px;right:-10px;bottom:-10px;top:-10px;position:absolute}}',""]),e.exports=t},876:function(e,t,r){var content=r(868);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(57).default)("649448c2",content,!0,{sourceMap:!1})}}]);