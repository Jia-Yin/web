(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{336:function(t,e,o){var content=o(396);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(28).default)("38ca2ffa",content,!0,{sourceMap:!1})},395:function(t,e,o){"use strict";var n=o(336);o.n(n).a},396:function(t,e,o){(t.exports=o(27)(!1)).push([t.i,"h1[data-v-c1004804]{font-size:120%;margin-left:12px;color:#44f}section[data-v-c1004804]{margin-top:24px;padding:10px}.scontent[data-v-c1004804]{display:flex;padding:6px 50px}.course[data-v-c1004804]{flex:0.1 1 180px}.course[data-v-c1004804],.group[data-v-c1004804]{border:1px solid #add8e6;border-radius:10px;padding:12px;margin:2px}.group[data-v-c1004804]{flex:0.1 1 200px}.problem[data-v-c1004804],.submits[data-v-c1004804]{flex:0.2 2 300px;border:1px solid #add8e6;border-radius:10px;padding:12px;margin:2px}.noanswer[data-v-c1004804]{margin:12px}.btn[data-v-c1004804]{margin:8px 12px;border-radius:10px}.chooseLabel[data-v-c1004804]{background:#fafad2;padding:10px 20px}input[data-v-c1004804]{margin-bottom:12px}textarea[data-v-c1004804]{margin:20px;width:97%;padding:20px 30px;height:500px;font-family:Courier New,Courier,monospace;-moz-tab-size:4;-o-tab-size:4;tab-size:4}",""])},420:function(t,e,o){"use strict";o.r(e);o(7),o(3),o(2),o(1),o(5),o(21),o(40);var n=o(10),r=o(0),c=o(70);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var h,d={data:function(){return{name:"N/A",chooseCourse:!1,showCodeInput:!1,showSubmitCode:!1,inputCode:null,selected:null,submitCode:null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(source,!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({problemSubmits:function(){var t=this;return this.path.problem&&this.submits.filter((function(e){return e.problem===t.path.problem.id}))}},Object(c.b)({user:"user",allcourses:function(t){return t.person.allcourses},courses:function(t){return t.person.courses},groups:function(t){return t.person.groups},problems:function(t){return t.person.problems},path:function(t){return t.person.path},submits:function(t){return t.person.submits},saveCodes:function(t){return t.person.saveCodes},currentGroups:function(t){return t.person.currentGroups},currentProblems:function(t){return t.person.currentProblems}})),mounted:(h=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.allcourses){t.next=3;break}return t.next=3,this.$store.dispatch("person/getAllCourses");case 3:if(this.courses){t.next=6;break}return t.next=6,this.$store.commit("person/getUserCourses",this.user);case 6:this.courses.length>0&&!this.path.course&&(e=this.courses[this.courses.length-1],this.setCourse(e)),this.$store.dispatch("person/getUserSubmits",this.user);case 8:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)}),methods:{showSubmit:function(t){var e=this;this.showSubmitCode=!0,this.$store.dispatch("person/getSubmitCode",t).then((function(t){e.submitCode=t})),console.log("SS",t.id)},twod:function(t){return t<=9?"0"+t:t},subtime:function(t){if(t.timestamp.toDate){var e=t.timestamp.toDate(),o=e.getFullYear()+"-"+this.twod(e.getMonth()+1)+"-"+this.twod(e.getDate())+" "+this.twod(e.getHours())+":"+this.twod(e.getMinutes())+":"+this.twod(e.getSeconds());return"(".concat(t.status,") ").concat(o)}return"Loading..."},grouptext:function(t){return"".concat(t.name," -- ").concat(t.problems.length," 題")},cdChoose:function(t){console.log("Course Dropdown: ",t)},addCourse:function(t){this.$store.dispatch("person/selectCourse",{course:t,user:this.user})},probStat:function(t){return this.submits.filter((function(e){return e.problem===t.id})).length+" 次"},probDone:function(t){for(var i=0;i<this.submits.length;i++){var e=this.submits[i];if(e.problem===t.id&&"AC"===e.status)return!0}return!1},notIn:function(t){if(!this.courses)return!0;for(var i=0;i<this.courses.length;i++)if(t.id===this.courses[i].id)return!1;return!0},enterCode:function(t){t.code?(this.showCodeInput=!0,this.selected=t):(this.addCourse(t),this.chooseCourse=!1)},cancelChoose:function(){this.chooseCourse=!1,this.showCodeInput=!1},checkCode:function(){this.selected.code===this.inputCode?(this.addCourse(this.selected),this.selected=null,this.showCodeInput=!1,this.chooseCourse=!1):alert("代碼錯誤")},selectCourse:function(){console.log(this.allcourses),this.chooseCourse=!0},setCourse:function(t){var e=this;this.$store.dispatch("person/setCourse",t).then((function(){if(console.log("GROUPS",e.groups),console.log("GROUPS LEN",e.groups.length),e.groups.length>0){console.log("GROUP COME IN");var t=e.groups[e.groups.length-1];console.log("GROUP",t),e.setGroup(t)}}))},setGroup:function(t){this.$store.dispatch("person/setGroup",t)},setProblem:function(t){this.$store.commit("person/setPathItem",{key:"problem",value:t})},answer:function(t){this.$store.commit("person/setPathItem",{key:"problem",value:t}),this.$router.push("/coding")},onLogout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push("/")}))}}},f=(o(395),o(15)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-container",{attrs:{fluid:""}},[o("section",[o("b-alert",{attrs:{show:""}},[t._v("課程資訊")]),t._v(" "),o("div",{staticClass:"scontent"},[o("div",{staticClass:"course"},[o("h1",[t._v("課程")]),t._v(" "),t._l(t.courses,(function(e,n){return o("div",{key:n},[t.path.course&&e.id===t.path.course.id?o("b-button",{key:n,attrs:{variant:"outline-success"},on:{click:function(o){return t.setCourse(e)}}},[t._v(t._s(e.name))]):o("b-button",{key:n,attrs:{variant:"outline-info"},on:{click:function(o){return t.setCourse(e)}}},[t._v(t._s(e.name))])],1)})),t._v(" "),o("b-button",{attrs:{pill:"",variant:"outline-success"},on:{click:t.selectCourse}},[o("fa",{attrs:{icon:"plus"}})],1)],2),t._v(" "),t.path.course?o("div",{staticClass:"group"},[o("h1",[t._v("單元")]),t._v(" "),t._l(t.currentGroups,(function(e,n){return o("div",{key:n},[t.path.group&&e.id===t.path.group.id?o("b-button",{key:n,attrs:{variant:"outline-success"},on:{click:function(o){return t.setGroup(e)}}},[t._v(t._s(t.grouptext(e)))]):o("b-button",{key:n,attrs:{variant:"outline-info"},on:{click:function(o){return t.setGroup(e)}}},[t._v(t._s(t.grouptext(e)))])],1)}))],2):t._e(),t._v(" "),t.path.group?o("div",{staticClass:"problem"},[o("h1",[t._v("問題")]),t._v(" "),t._l(t.currentProblems,(function(e,n){return o("div",{key:n},[o("b-button",{attrs:{size:"sm",variant:"outline-info"},on:{click:function(o){return t.answer(e)}}},[t._v("作答")]),t._v(" "),t.probDone(e)?o("b-button",{key:n,attrs:{variant:"outline-success"},on:{click:function(o){return t.setProblem(e)}}},[t._v(t._s(e.name)+" -- "+t._s(t.probStat(e)))]):o("b-button",{key:n,attrs:{variant:"outline-danger"},on:{click:function(o){return t.setProblem(e)}}},[t._v(t._s(e.name)+" -- "+t._s(t.probStat(e)))])],1)}))],2):t._e(),t._v(" "),t.path.problem?o("div",{staticClass:"submits"},[o("h1",[t._v("程式")]),t._v(" "),t._l(t.problemSubmits,(function(e,n){return o("div",{key:n},["AC"===e.status?o("b-button",{key:n,attrs:{variant:"outline-success"},on:{click:function(o){return t.showSubmit(e)}}},[t._v(t._s(n+1)+". "+t._s(t.subtime(e)))]):o("b-button",{key:n,attrs:{variant:"outline-danger"},on:{click:function(o){return t.showSubmit(e)}}},[t._v(t._s(n+1)+". "+t._s(t.subtime(e)))])],1)})),t._v(" "),0==t.problemSubmits.length?o("div",[o("p",{staticClass:"noanswer"},[t._v("尚未答題")])]):t._e()],2):t._e()])],1),t._v(" "),t.showSubmitCode?o("section",[o("b-alert",{attrs:{variant:"warning",show:""}},[t._v("\n      程式碼  \n      "),o("b-link",[o("fa",{attrs:{icon:"times-circle"},on:{click:function(e){t.showSubmitCode=!1}}})],1)],1),t._v(" "),o("b-form-textarea",{model:{value:t.submitCode,callback:function(e){t.submitCode=e},expression:"submitCode"}})],1):t._e(),t._v(" "),t.chooseCourse?o("section",[o("b-alert",{attrs:{variant:"warning",show:""}},[t._v("\n      可選課程  \n      "),o("b-link",[o("fa",{attrs:{icon:"times-circle"},on:{click:function(e){t.chooseCourse=!1}}})],1)],1),t._v(" "),t.showCodeInput?o("b-row",[o("b-col",{attrs:{md:"7"}},[o("b-input",{attrs:{type:"text",placeholder:"輸入代碼"},model:{value:t.inputCode,callback:function(e){t.inputCode=e},expression:"inputCode"}})],1),t._v(" "),o("b-col",{attrs:{md:"5"}},[o("b-button",{attrs:{variant:"outline-success"},on:{click:t.checkCode}},[t._v("輸入")]),t._v(" "),o("b-button",{attrs:{variant:"outline-success"},on:{click:t.cancelChoose}},[t._v("取消")])],1)],1):t._e(),t._v(" "),t._l(t.allcourses,(function(e,n){return o("span",{key:n},[t.notIn(e)?o("b-button",{key:n,attrs:{pill:"",variant:"outline-warning"},on:{click:function(o){return t.enterCode(e)}}},[t._v(t._s(e.name))]):t._e()],1)})),t._v(" "),t.courses&&t.courses.length===t.allcourses.length?o("span",[o("p",{attrs:{align:"center"}},[t._v("無可選課程")])]):t._e()],2):t._e()])}),[],!1,null,"c1004804",null);e.default=component.exports}}]);