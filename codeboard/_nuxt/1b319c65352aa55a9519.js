(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{396:function(t,r,e){var content=e(457);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(31).default)("f7274ee0",content,!0,{sourceMap:!1})},456:function(t,r,e){"use strict";var n=e(396);e.n(n).a},457:function(t,r,e){(t.exports=e(30)(!1)).push([t.i,"input[data-v-19887cf6]{margin-left:12px;line-height:200%;border-radius:10px;width:300px;vertical-align:bottom}.row[data-v-19887cf6]{margin:32px 0 18px}",""])},507:function(t,r,e){"use strict";e.r(r);e(41);var n,o=e(10),c={data:function(){return{qstr:""}},mounted:(n=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$store.state.admin.groups||this.$store.dispatch("admin/getCollection","groups");case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)}),methods:{toggleMark:function(){this.$store.commit("admin/toggleMark")},toggleItem:function(t){var r=this;this.$store.commit("admin/toggleItem",{dkey:"groups",dvalue:t.id}),this.toggleMark(),this.$nextTick((function(){r.toggleMark()}))},remove:function(t){confirm("確定要刪除嗎？")&&this.$store.dispatch("admin/delData",{dkey:"groups",dvalue:t})},groupProbs:function(t){return t.problems?t.problems.length:0},groupPersons:function(t){if(!t.problems||!this.$store.state.admin.courses)return 0;var r=this.$store.state.admin.courses.filter((function(r){return r.groups&&r.groups.indexOf(t.id)>=0}));if(0===r.length)return"0";var e=[];return r.forEach((function(t){if(t.users){var r=t.users.filter((function(t){return e.indexOf(t)<0}));e=e.concat(r)}})),e.length},groupProbSolved:function(t){if(!t.problems||!this.$store.state.admin.courses||!this.$store.state.admin.submits)return"N/A";var r=this.$store.state.admin.courses.filter((function(r){return r.groups&&r.groups.indexOf(t.id)>=0}));if(0===r.length)return"N/A";var e=[];if(r.forEach((function(t){if(t.users){var r=t.users.filter((function(t){return e.indexOf(t)<0}));e=e.concat(r)}})),0===e.length)return"N/A";var n=[],o=t.problems;return this.$store.state.admin.submits.forEach((function(t){e.indexOf(t.user)>=0&&o.indexOf(t.problem)>=0&&n.indexOf(t.user+t.problem)<0&&n.push(t.user+t.problem)})),1*n.length/e.length}},computed:{mark:function(){return this.$store.state.admin.mark},groups:function(){return""===this.qstr?this.$store.state.admin.groups:this.$store.getters["admin/filter"]({dkey:"groups",dvalue:this.qstr})}}},l=(e(456),e(16)),component=Object(l.a)(c,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-container",{attrs:{fluid:""}},[e("b-row",[e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.qstr,expression:"qstr"}],attrs:{type:"text",placeholder:" 搜尋..."},domProps:{value:t.qstr},on:{input:function(r){r.target.composing||(t.qstr=r.target.value)}}}),t._v("  \n      "),e("b-button",{attrs:{pill:"",variant:"outline-primary",to:"/admin/group/new"}},[t._v("新增")]),t._v(" "),t.mark?e("span",[e("b-button",{attrs:{pill:"",variant:"primary"},on:{click:function(r){return t.toggleMark()}}},[t._v("標記")])],1):e("span",[e("b-button",{attrs:{pill:"",variant:"outline-primary"},on:{click:function(r){return t.toggleMark()}}},[t._v("標記")])],1)],1)]),t._v(" "),e("table",{staticClass:"table table-hover table-striped"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("名稱")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("備註")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("題數")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("參與人數")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("平均解題數")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("操作")])])]),t._v(" "),e("tbody",t._l(t.groups,(function(r,n){return e("tr",{key:n},[e("td",[t._v(t._s(n+1))]),t._v(" "),e("td",[t._v(t._s(r.name))]),t._v(" "),e("td",[t._v(t._s(r.note))]),t._v(" "),e("td",[t._v(t._s(t.groupProbs(r)))]),t._v(" "),e("td",[t._v(t._s(t.groupPersons(r)))]),t._v(" "),e("td",[t._v(t._s(t.groupProbSolved(r)))]),t._v(" "),e("td",[t.mark?e("span",[e("b-form-checkbox",{attrs:{checked:r.mark},on:{change:function(e){return t.toggleItem(r)}}})],1):e("span",[e("b-button",{attrs:{size:"sm",pill:"",variant:"outline-warning"}},[e("fa",{attrs:{icon:["far","eye"]}})],1),t._v(" "),e("b-button",{attrs:{size:"sm",pill:"",variant:"outline-primary"},on:{click:function(e){return t.remove(r.id)}}},[e("fa",{attrs:{icon:["far","trash-alt"]}})],1)],1)])])})),0)])],1)}),[],!1,null,"19887cf6",null);r.default=component.exports}}]);